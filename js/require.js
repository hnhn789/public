var requirejs,require,define;!function(e){function t(e,t){var i,n,o,s,r,a,l,u=t&&t.split("/"),c=d.map,h=c&&c["*"]||{};if(e&&"."===e.charAt(0)&&t){for(u=u.slice(0,u.length-1),e=u.concat(e.split("/")),r=0;l=e[r];r++)if("."===l)e.splice(r,1),r-=1;else if(".."===l){if(1===r&&(".."===e[2]||".."===e[0]))return!0;r>0&&(e.splice(r-1,2),r-=2)}e=e.join("/")}if((u||h)&&c)for(i=e.split("/"),r=i.length;r>0;r-=1){if(n=i.slice(0,r).join("/"),u)for(a=u.length;a>0;a-=1)if(o=c[u.slice(0,a).join("/")],o&&(o=o[n])){s=o;break}if(s=s||h[n]){i.splice(0,r,s),e=i.join("/");break}}return e}function i(t,i){return function(){return u.apply(e,f.call(arguments,0).concat([t,i]))}}function n(e){return function(i){return t(i,e)}}function o(e){return function(t){c[e]=t}}function s(t){if(h.hasOwnProperty(t)){var i=h[t];delete h[t],p[t]=!0,l.apply(e,i)}if(!c.hasOwnProperty(t))throw new Error("No "+t);return c[t]}function r(e,i){var o,r,a=e.indexOf("!");return-1!==a?(o=t(e.slice(0,a),i),e=e.slice(a+1),r=s(o),e=r&&r.normalize?r.normalize(e,n(i)):t(e,i)):e=t(e,i),{f:o?o+"!"+e:e,n:e,p:r}}function a(e){return function(){return d&&d.config&&d.config[e]||{}}}var l,u,c={},h={},d={},p={},f=[].slice;l=function(t,n,l,u){var d,f,m,g,v,b,y=[];if(u=u||t,"function"==typeof l){for(n=!n.length&&l.length?["require","exports","module"]:n,b=0;b<n.length;b++)if(v=r(n[b],u),m=v.f,"require"===m)y[b]=i(t);else if("exports"===m)y[b]=c[t]={},d=!0;else if("module"===m)f=y[b]={id:t,uri:"",exports:c[t],config:a(t)};else if(c.hasOwnProperty(m)||h.hasOwnProperty(m))y[b]=s(m);else if(v.p)v.p.load(v.n,i(u,!0),o(m),{}),y[b]=c[m];else if(!p[m])throw new Error(t+" missing "+m);g=l.apply(c[t],y),t&&(f&&f.exports!==e&&f.exports!==c[t]?c[t]=f.exports:g===e&&d||(c[t]=g))}else t&&(c[t]=l)},requirejs=require=u=function(t,i,n,o){return"string"==typeof t?s(r(t,i).f):(t.splice||(d=t,i.splice?(t=i,i=n,n=null):t=e),i=i||function(){},o?l(e,t,i,n):setTimeout(function(){l(e,t,i,n)},15),u)},u.config=function(e){return d=e,u},define=function(e,t,i){t.splice||(i=t,t=[]),h[e]=[e,t,i]},define.amd={jQuery:!0}}(),this.JST=this.JST||{},this.JST["js/app/views/templates/message.html"]=function(obj){obj||(obj={});{var __p="",__e=_.escape;Array.prototype.join}with(obj)__p+='<div class="ballon-item ',isSelfMessage&&(__p+=" is-reverse "),__p+="\" data-message-id='"+__e(id)+"' data-user-id='"+__e(userId)+"' data-user-name='"+__e(name)+'\'>\n            <p class="ballon-user">'+__e(nickname)+'</p>\n            <div class="time">'+__e(localtime)+'</div>\n            <div class="ballon-text">\n            <p>'+__e(message)+"</p>\n            </div>\n</div>";return __p},this.JST["js/app/views/templates/mypanel.html"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+=' <div data-role="panel"  class="left-panel" id="mypanel" data-display="overlay" >\n         <div class="contain2">\n                 <div class="name_circle">'+__e(nickname)+"</div>\n                 <span>"+__e(name)+'</span>\n         </div>\n         <ul class="project_menu" id="panel_list" data-role="listview">\n                 <li><span>\u6211\u7684\u8a08\u756b</span></li>\n         </ul>\n        <div class="close2">\n            <a href="#proj" data-role="button" id="cato-btn" data-rel="close" data-inline="true" data-transition="slide" data-theme="b" >\u5206\u985e\u76ee\u9304</a>\n        </div>\n         <div class="close1">\n                 <a href="#new" data-role="button" id="new-btn" data-inline="true" data-transition="slide" data-theme="b" >\u5275\u5efa\u8a08\u756b</a>\n         </div>\n         <div class="close">\n                 <a data-role="button" href="#logout" id="logout-btn" data-inline="true" data-transition="slide" data-theme="b" >\u767b\u51fa</a>\n         </div>\n </div>\n';return __p},this.JST["js/app/views/templates/page_account.html"]=function(obj){obj||(obj={});{var __p="";_.escape}with(obj)__p+='\n    <div role="content" id="account_background"></div>\n        <div data-role="tabs" id=\'tab_account\'>\n            <div data-role="navbar">\n                <ul>\n                    <li><a href="#two" class="tabs" data-theme="a" data-ajax="false">\u8a3b\u518a</a></li>\n                    <li><a href="#one" class=\'tabs\' data-ajax="false">\u767b\u5165</a></li>\n                </ul>\n            </div>\n\n\n            <div data-role="content" id=\'two\' class="ui-content">\n                <form class="login_form" id="register_form" enctype="multipart/form-data" data-ajax="false">\n                    <input type="text" id="nickname" name="nickname" maxlength="100"\n                           data-wrapper-class="ui-custom" placeholder="\u4e00\u500b\u4e2d\u6587\u5b57\uff1a\uff08\u804a\u5929\u4ee3\u865f\uff09" value=""/><hr>\n                    <input type="text" id="name" name="name" data-wrapper-class="ui-custom"\n                           placeholder="\u4e2d\u6587\u540d\u5b57\uff1a" maxlength="100" value=""/>\n                    <hr>\n                    <input type="email" id="email"  placeholder="\u96fb\u5b50\u90f5\u4ef6:" data-wrapper-class="ui-custom"  maxlength="50"/><hr>\n                    <input type="password" id="password_1"  placeholder="\u5bc6\u78bc:" data-wrapper-class="ui-custom"  maxlength="50"/><hr>\n                    <div class="ui-block-a" style="float:left;width:50%;">\n                        <div name="action"class=\'to_index\' id="facebook-btn">Facebook\u8a3b\u518a</div>\n                    </div>\n                    <div class="ui-block-b" style="float:left;width:50%;">\n                        <input type="button"name="action"class=\'to_index\' id="signup-btn" value="\u8a3b\u518a"/>\n                    </div>\n                    <div name="action" id="show_fb" class="to_index">Facebook\u767b\u5165</div>\n                </form>\n            </div>\n            <div id="one" class="ui-content">\n                <form id="login_form" class="login_form" enctype="multipart/form-data" data-ajax="false">\n                    <input type="email" name="name" id="email_2" data-wrapper-class="ui-custom"placeholder="\u4fe1\u7bb1" /><hr>\n                    <input type="password" id="password" name="password" data-wrapper-class="ui-custom"placeholder="\u5bc6\u78bc" /><hr>\n                    <p class=\'left_most\'><a id="forgotPassword">\u5fd8\u8a18\u5bc6\u78bc\uff1f\u5bc4\u4fe1\u91cd\u8a2d</a></p><br>\n                    <input type="button"  name="action" id="startChatButton" class="to_index" value="\u767b\u5165"/>\n                    <div name="action" id="FacebookButton" class="to_index">Facebook\u767b\u5165</div>\n                </form>\n            </div>\n        </div>\n\n    <div class="toast-panel"></div>\n';return __p},this.JST["js/app/views/templates/page_cato.html"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='\n<div class="heading">\n        <h1 class="refresh">'+__e(category)+'</h1>\n</div>\n        <div class="carousel">\n                <div class="block" id="block0" use="\u65b0\u5efa\u8a08\u756b">\n                        <div data-role="content" class="ui-content">\n                                <p class="content">\u81ea\u884c\u5275\u5efa\uff01</p>\n                                <a href="#new"><p class="title"><i class="fa fa-child"></i><i class="fa fa-male"></i></p></a>\n                        </div></div>\n        </div>\n';return __p},this.JST["js/app/views/templates/page_chat.html"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='\n    <div id="chat_background"></div>\n    <div data-role="header" data-position="fixed" data-tap-toggle="false" class="head" >\n        <h1>'+__e(title)+'</h1><a class="forward"><i class="fa fa-chevron-right" aria-hidden="true"></i></a>\n    </div>\n    <div class="ballon" id="messageBox">\n    </div>\n    <div data-role="footer" data-position="fixed" data-tap-toggle="false">\n        <div class="ui-block-a" style="float:left;width:80%;"><textarea  id="messageContent" data-role="none"></textarea> </div>\n        <div class="ui-block-b" style="float:left;width:20%;"><a id="sendMessageButton" data-role="button">\u50b3\u9001</a></div>\n    </div>\n';return __p},this.JST["js/app/views/templates/page_detail.html"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="header">\n        <a class="back"><i class="fa fa-chevron-left" aria-hidden="true"></i></a>\n        <h1>'+__e(title)+'</h1>\n</div>\n<div class="carousel-ui">\n        <div class="block"  use="\u8a08\u756b\u5167\u5bb9">\n                <div data-role="content" class="ui-content">\n                        <p class=\'title\'>\u6b61\u8fce\u4f60\uff01</p>\n                        <p class="content">\u5f80\u53f3\u6ed1\u770b\u8a73\u7d30</p>\n                </div></div>\n        <div class="block"  use="\u8a08\u756b\u5167\u5bb9">\n                <div data-role="content" class="ui-content">\n                        <p class=\'title\'>\u6211\u5011\u8981\u505a\u4ec0\u9ebc\uff1f</p>\n                        <p class="content">'+__e(what)+'</p>\n                </div></div>\n        <div class="block" >\n                <div data-role="content" class="ui-content">\n                        <p class="title">\u600e\u9ebc\u505a\uff1f</p>\n                        <p class="content">'+__e(how)+'</p>\n                </div></div>\n        <div class="block"  use="\u9700\u6c42\u4eba\u624d" id="block4"> <div class="ui-content"><p class="title">\u6211\u5011\u9700\u8981\u4f60\uff01</p>\n                <form>\n                        <fieldset data-role="controlgroup" data-type="horizontal" id="needPeople">\n                                <input  type="checkbox" id="checkbox_0" class="checkbox" data-wrapper-class="here" disabled="true" checked="true">\n                                <label for="checkbox_0" >\u8acb\u52fe\u9078\uff01</label>\n\n                        </fieldset>\n                </form>\n        </div></div>\n        <div class="block" id="block5" use="\u6642\u9593\u5730\u9ede">\n                <div data-role="content" class="ui-content">\n                        <p class="title">\u6642\u9593\u8207\u5730\u9ede</p>\n                        <h3>\u6642\u9593:</h3>\n                        <p class="content">'+__e(time)+'</p>\n                        <h3>\u5730\u9ede:</h3>\n                        <p class="content">'+__e(place)+'</p>\n                        <div id="map-canvas"></div>\n                        <p id="start-map"><a href="http://maps.google.com/maps?q=25.067695, 121.56979999999999" rel="external" data-ajax="false">\u67e5\u770b<i class="fa fa-map-marker"></i></a></p>\n                </div></div><!--Map Page-->\n        <div class="block" id="block6" use="\u52a0\u5165\u9078\u55ae">\n                <div data-role="content" class="ui-content">\n                        <p class="content">\u6211\u8981\u52a0\u5165\uff01</p>\n                        <p class="title"></i><i class="fa fa-child"></i><i class="fa fa-male"></i></p>\n                </div></div>\n        <div class="block" id="block7" >\n                <div data-role="content" class="ui-content">\n                        <p class="title">\u6b61\u8fce\u52a0\u5165\uff01</p>\n                        <p class="question">\u5dee\u6700\u5f8c\u4e00\u6b65\uff0c\u8acb\u4e00\u4e00\u9ede\u958b\u56de\u7b54!</p>\n                        <form>\n                                <div data-role="collapsibleset"  class="collapse">\n                                        <div data-role="collapsible" >\n                                                <h2>\u7b2c\u4e00\u6b21\u96c6\u5408\uff1a'+__e(firstMeeting)+'</h2>\n                                                <fieldset data-role="controlgroup" data-type="horizontal" id="okTime">\n                                                        <input type="radio" id="radio1" name="radio-choice-0" checked="checked">\n                                                        <label for="radio1">\u6642\u9593\u6c92\u554f\u984c\uff01</label>\n\n                                                        <input type="radio" id="radio2" name="radio-choice-0">\n                                                        <label for="radio2">\u6642\u9593\u7121\u6cd5\uff0c\u518d\u5b89\u6392</label>\n                                                </fieldset>\n                                        </div>\n\n                                        <div data-role="collapsible">\n                                                <h2>\u53ef\u4ee5\u5e36\u4e0b\u5217\u7269\u54c1\uff1a</h2>\n                                                <fieldset data-role="controlgroup" data-type="horizontal" data-theme="b" id="canBring">\n                                                        <input  type="checkbox" id="checkbox0" class="checkbox" disabled="true" checked="true">\n                                                        <label for="checkbox0" >\u8acb\u52fe\u9078\uff01</label>\n\n                                                </fieldset>\n                                        </div>\n                                        <!--<div data-role="collapsible">-->\n                                                <!--<h2>\u53ef\u589e\u52a0\u6b04\u4f4d</h2>-->\n                                                <!--<p>\u60f3\u5230\u5c31\u53ef\u4ee5\u589e\u52a0</p>-->\n                                        <!--</div>-->\n                                </div>\n\n                                <div style="padding: 20px 5px;">\n                                        <h2>\u7591\u554f\u8207\u5efa\u8b70</h2>\n                                        <textarea type="textarea" id="comment" placeholder="\u8acb\u554f\u5982\u679c..\u6539\u6210..\u5982\u4f55\uff1f      \u5982\u679c...\u6642\u9593\u4e0d\u80fd\u5230\u600e\u9ebc\u8fa6\uff1f" data-role="none"></textarea>\n\n                                </div>\n\n                        </form>\n                        <div style="text-align: right;">\n                                <a data-role="button" class="finish">\u5b8c\u6210</a></div>\n\n                </div></div>\n        <div class="block" id="block8">\n                <div data-role="content" class="ui-content">\n                        <p class="title">\u767c\u8d77\u8005\u7684\u8a71\uff1a</p>\n                        <p class="content">'+__e(reminder)+'</p>\n                </div></div>\n</div>\n\n<div class="toast-panel"></div>';return __p},this.JST["js/app/views/templates/page_detail_1.html"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='\n<div data-role="header">\n        <i class="fa fa-long-arrow-left back" aria-hidden="true"></i>\n</div>\n<img src="'+__e(imgURL)+'" alt="">\n<h1>'+__e(title)+"</h1>\n<div id='line'></div>\n        <h2>"+__e(category)+'</h2>\n<a href="#page_detail"><div id=\'plus_button\' ></div></a>\n        <div>\n        <p><i class="fa fa-user" style="font-size:x-large;"></i>&nbsp'+__e(number)+'\u4eba</p>\n        <p><i class="fa fa-calendar" aria-hidden="true"></i>&nbsp'+__e(duration)+'</p>\n        </div>\n<p id="motivate">'+__e(intro)+'</p>\n<h3>\u76ee\u524d\u6210\u54e1\uff1a</h3>\n<div class="contain">\n</div>\n\n';return __p},this.JST["js/app/views/templates/page_new.html"]=function(obj){obj||(obj={});{var __p="";_.escape}with(obj)__p+='<form class="article_form" enctype="multipart/form-data" data-ajax="false">\n        <div data-role="header" data-position="fixed" data-tap-toggle="false" class="head"  >\n                <div class="ui-block-a" style="float:left;width:30%;"><h1>\u8a08\u756b\u540d\u7a31\uff1a</h1> </div>\n                <div class="ui-block-b" style="float:left;width:65%;"> <textarea name="title"></textarea></div>\n        </div>\n<div class="carousel-uui">\n        <div class="block"  use="\u8a08\u756b\u5167\u5bb9">\n                <div data-role="content" class="ui-content">\n                        <p class=\'title\'>\u6b61\u8fce\u4f60\uff01</p>\n                        <p class="content">\u5f80\u53f3\u6ed1\u4e00\u4e00\u586b\u5beb</p>\n                </div></div>\n        <div class="block"  use="\u8a08\u756b\u5167\u5bb9">\n                <div data-role="content" class="ui-content">\n                <p class=\'title\'>\u767c\u8d77\u52d5\u6a5f</p>\n                <p class="content"><textarea name="intro" ></textarea></p>\n                <p class="title">\u4e0a\u50b3\u5c01\u9762\u5716\u7247\uff1a</p>\n                <input type="file" id="file" name="file"/>\n                <p class="title">\u8a08\u756b\u985e\u5225\uff1a</p>\n                <p id=\'selectContent\' class="content"><select name="category" id="selectmenu" >\n                        <option value="\u5b9a\u671f\u7dad\u8b77"selected="selected">\u5b9a\u671f\u7dad\u8b77</option>\n                        <option value="\u9032\u4fee\u8ab2\u7a0b" >\u9032\u4fee\u8ab2\u7a0b</option>\n                        <option value="\u805a\u6703">\u805a\u6703</option>\n                </select></p>\n                </div></div>\n        <div class="block " id="blockWhat" use="\u8a08\u756b\u5167\u5bb9">\n                <div data-role="content" class="ui-content">\n                        <p class=\'title\'>\u6211\u5011\u8981\u505a\u4ec0\u9ebc\uff1f</p>\n                        <p class="content"><textarea name="what" ></textarea></p>\n                </div></div>\n        <div class="block" id="blockHow">\n                <div data-role="content" class="ui-content">\n                        <p class="title">\u600e\u9ebc\u505a\uff1f</p>\n                        <p class="content"><textarea name="how" ></textarea></p>\n                </div></div>\n        <div class="block"  use="\u9700\u6c42\u4eba\u624d" id="block4"> <div class="ui-content"><p class="title">\u9069\u5408\u6b64\u8a08\u756b\u7684\u4eba\u624d\uff1a(\u8acb\u7528\u7a7a\u4e00\u683c\u5206\u958b\u9805\u76ee)</p>\n                <textarea class="needPeople" name="needPeople" placeholder="\u5de5\u7a0b\u5e2b \u9664\u8349\u7d93\u9a57 ..."></textarea>\n                <p class="title">\u9700\u6c42\u4eba\u6578\uff1a</p>\n                <div class="ui-block-a" style="float:left;width:30%;"><p class="content"><textarea name="number" ></textarea></p> </div>\n                <div class="ui-block-b" style="float:left;width:30%;"><p class="content">\u4eba</p></div>\n\n        </div></div>\n        <div class="block" id="block5" use="\u6642\u9593\u5730\u9ede">\n                <div data-role="content" class="ui-content">\n                        <p class="title">\u6642\u9593\u8207\u5730\u9ede</p>\n                        <h3>\u6642\u9593:</h3>\n                        <p class="content"><textarea name="time" ></textarea></p>\n                        <h3>\u5927\u6982\u6b21\u6578\u6216\u6301\u7e8c\u6642\u9593:</h3>\n                        <p class="content"><textarea name="duration" ></textarea></p>\n                        <h3>\u5730\u9ede:</h3>\n                        <p class="content"><textarea name="place" ></textarea></p>\n                        <div id="map-canvas"></div>\n                        <p id="start-map"><a href="http://maps.google.com/maps?q=25.067695, 121.56979999999999" rel="external" data-ajax="false">\u67e5\u770b<i class="fa fa-map-marker"></i></a></p>\n                </div></div><!--Map Page-->\n        <div class="block" id="block7" >\n                <div data-role="content" class="ui-content">\n                        <p class="title">\u6b61\u8fce\uff01</p>\n                        <p class="question">\u5dee\u6700\u5f8c\u4e00\u6b65\uff0c\u8acb\u9ede\u958b\u586b\u5beb!</p>\n                                <div data-role="collapsibleset"  class="collapse">\n                                        <div data-role="collapsible" >\n                                                <h2>\u7b2c\u4e00\u6b21\u7684\u6642\u9593\u5730\u9ede:</h2>\n                                                <textarea id="near" name="firstMeeting" placeholder="12/5 \u6cb3\u5824 ..."></textarea>\n\n\n\n                                        </div>\n\n                                        <div data-role="collapsible">\n                                                <h2>\u5efa\u8b70\u81ea\u884c\u651c\u5e36\u7269\u54c1\uff1a(\u8acb\u7a7a\u4e00\u683c\u5206\u958b\u9805\u76ee)</h2>\n                                                <textarea name="canBring" placeholder="\u6c34 \u93df\u5b50 \u6bdb\u5dfe ..."></textarea>\n                                        </div>\n                                        <div data-role="collapsible">\n                                                <h2>\u53ef\u589e\u52a0\u6b04\u4f4d</h2>\n                                                <p>\u60f3\u5230\u5c31\u53ef\u4ee5\u589e\u52a0</p>\n                                        </div>\n                                </div>\n                        </div>\n                </div>\n\n        <div class="block" id="block8">\n                <div data-role="content" class="ui-content">\n                        <p class="title">\u767c\u8d77\u8005\u7684\u8a71\uff1a</p>\n                        <p class="content"><textarea name="reminder" ></textarea></p>\n                </div> <button name="action" class="to_article">\u767c\u8d77\u8a08\u756b</button></div>\n</div>\n\n</form>\n<div class="toast-panel"></div>';return __p},this.JST["js/app/views/templates/page_proj.html"]=function(obj){obj||(obj={});{var __p="";_.escape}with(obj)__p+='<div class="header">\n    <h1>\u5206\u985e\u76ee\u9304</h1>\n</div>\n<div class="card theme-card">\n     <a href="#cato?\u5b9a\u671f\u7dad\u8b77"><div class="box"><div id=\'cato_1\' ></div></div></a>\n     <a href="#cato?\u9032\u4fee\u8ab2\u7a0b"><div class="box" ><div id=\'cato_2\' ></div></div></a>\n        <a href="#cato?\u805a\u6703"><div class="box" ><div id=\'cato_3\' ></div></div></a>\n    </div>\n <div class="toast-panel"></div>\n';return __p},this.JST["js/app/views/templates/page_review.html"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='\n<form class="ui-body ui-body-a ui-corner-all article_form" enctype="multipart/form-data" data-ajax="false">\n\n<div data-role="header" data-position="fixed" data-tap-toggle="false" class="head" ><a class="back"><i class="fa fa-chevron-left" aria-hidden="true"></i></a>\n        <h1>'+__e(title)+'</h1>\n        <p class="open-circle"><span><em class="fa fa-bars" aria-hidden="true"></em></span></p>\n</div>\n       <nav class="circle-nav ">\n               <ul>\n                       <li><a href="" id="popUser"><i class="fa fa-users" aria-hidden="true"></i></a></li>\n                       <li><a href="" id="startEdit"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></a></li>\n                       <li><a href="" id="popQuit"><i class="fa fa-times big" aria-hidden="true"></i></a></li>\n\n               </ul>\n\n       </nav>\n       <script>\n               $(function(){\n                       $(".open-circle").on("click",function(){\n                               $(".circle-nav ul").stop().fadeToggle();\n\n                       });\n               });\n       </script>\n       <div data-role="content" class="review_content">\n               <ul>\n                       <li>\n                               <p class="title"><i class="fa fa-dot-circle-o" aria-hidden="true"></i> \u8a08\u756b\u540d\u7a31\uff1a</p>\n                               <p class="content">'+__e(title)+'</p>\n                               <p class="content"><textarea name="title" >'+__e(title)+'</textarea></p>\n\n                       </li>\n                       <li>\n                               <p class="title"><i class="fa fa-dot-circle-o" aria-hidden="true"></i> \u767c\u8d77\u8005\u7684\u8a71\uff1a</p>\n                               <p class="content">'+__e(reminder)+'</p>\n                               <p class="content"><textarea name="reminder" >'+__e(reminder)+'</textarea></p>\n\n                       </li>\n                       <li>\n                               <p class="title"><i class="fa fa-dot-circle-o" aria-hidden="true"></i> \u8a18\u5f97\u5e36\u8457\uff1a</p>\n                               <p class="content">'+__e(canBring)+'</p>\n                                <p class="content"><textarea name="canBring" >'+__e(canBring)+'</textarea></p>\n                       </li>\n                       <li>\n                               <p class="title"><i class="fa fa-dot-circle-o" aria-hidden="true"></i> \u6642\u9593\uff1a</p>\n                               <p class="content">'+__e(time)+'</p>\n                               <p class="content"><textarea name="time" >'+__e(time)+'</textarea></p>\n                       </li>\n                       <li>\n                               <p class="title"><i class="fa fa-dot-circle-o" aria-hidden="true"></i> \u5730\u9ede\uff1a</p>\n                               <p class="content">'+__e(place)+'</p>\n                               <p class="content"><textarea name="place" >'+__e(place)+'</textarea></p>\n                       </li>\n                       <li>\n                               <p class="title"><i class="fa fa-dot-circle-o" aria-hidden="true"></i> \u600e\u9ebc\u505a\uff1f</p>\n                               <p class="content">'+__e(how)+'</p>\n                               <p class="content"><textarea name="how" >'+__e(how)+'</textarea></p>\n                       </li>\n                       <li>\n                               <p class="title"><i class="fa fa-dot-circle-o" aria-hidden="true"></i>\u505a\u4ec0\u9ebc\uff1f</p>\n                               <p class="content">'+__e(what)+'</p>\n                               <p class="content"><textarea name="what" >'+__e(what)+'</textarea></p>\n                       </li>\n               </ul>\n               <button class="to_article confirm" style="display: none;">\u78ba\u8a8d\u8b8a\u66f4</button>\n               <div class="to_article canceling" style="display: none;">\u53d6\u6d88</div>\n       </div>\n</form>\n\n       <div data-role="popup" id="popup_dialog"  data-dismissible="false">\n               <div role="main" class="ui-content">\n                       <h1 class="ui-title">\u78ba\u5b9a\u8981\u9000\u51fa\u6b64\u8a08\u756b\uff1f</h1>\n                       <a id="quit-btn" class="ui-btn " >\u78ba\u5b9a</a>\n                       <a  class="ui-btn " data-rel="back">\u53d6\u6d88</a>\n               </div>\n       </div>\n\n<div data-role="popup" id="popup_menu" data-position-to=".circle-nav" data-theme="a" style="width:10em;height:30em;overflow:scroll;margin-left: 50%;">\n\n        <ul data-role="listview" data-inset="true" id="userList">\n                <li id="hostList" data-role="list-divider">\u767c\u8d77\u4eba <span class="ui-li-count">2</span></li>\n                <li id="memberList" data-role="list-divider">\u6210\u54e1 <span class="ui-li-count">2</span></li>\n        </ul>\n</div>\n\n<div class="toast-panel"></div>';return __p},this.JST["js/app/views/templates/page_tutor.html"]=function(obj){obj||(obj={});{var __p="";_.escape}with(obj)__p+='<div class="carousel-tutor">\n        <div><div class="tutor" id="tutor1"></div></div>\n        <div><div class="tutor" id="tutor2"></div></div>\n        <div><div class="tutor" id="tutor3"></div></div>\n        <div><div class="tutor" id="tutor4"></div></div>\n        <div><div class="tutor" id="tutor5"></div></div>\n        <div><div class="tutor" id="tutor6"></div></div>\n</div>\n';return __p},this.JST["js/app/views/templates/singleCato.html"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='\n<div data-role="content" class="cato_content">\n        <img class="cover" src="'+__e(imgURL)+'" alt="">\n        <p>'+__e(title)+"</p>\n        <p>\u5269\u9918\u540d\u984d\uff1a"+__e(remaining)+'</p>\n        <a href="#page_detail_1?'+__e(category)+"?"+__e(MyModel)+'"><div class="enter" >\u9032\u5165\u67e5\u770b</div></a>\n</div>\n\n';return __p};/*! jQuery v2.1.1 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
/*! jQuery Mobile 1.4.5 | Git HEADhash: 68e55e7 <> 2014-10-31T17:33:30Z | (c) 2010, 2014 jQuery Foundation, Inc. | jquery.org/license */
/*! @license Firebase v2.0.6 - License: https://www.firebase.com/terms/terms-of-service.html */
/*!
 * BackboneFire is the officially supported Backbone binding for Firebase. The
 * bindings let you use special model and collection types that allow for
 * synchronizing data with Firebase.
 *
 * BackboneFire 0.5.0
 * https://github.com/firebase/backbonefire/
 * License: MIT
 */
var requirejs,require,define;!function(e){function t(e,t){var i,n,o,s,r,a,l,u=t&&t.split("/"),c=d.map,h=c&&c["*"]||{};if(e&&"."===e.charAt(0)&&t){for(u=u.slice(0,u.length-1),e=u.concat(e.split("/")),r=0;l=e[r];r++)if("."===l)e.splice(r,1),r-=1;else if(".."===l){if(1===r&&(".."===e[2]||".."===e[0]))return!0;r>0&&(e.splice(r-1,2),r-=2)}e=e.join("/")}if((u||h)&&c)for(i=e.split("/"),r=i.length;r>0;r-=1){if(n=i.slice(0,r).join("/"),u)for(a=u.length;a>0;a-=1)if(o=c[u.slice(0,a).join("/")],o&&(o=o[n])){s=o;break}if(s=s||h[n]){i.splice(0,r,s),e=i.join("/");break}}return e}function i(t,i){return function(){return u.apply(e,f.call(arguments,0).concat([t,i]))}}function n(e){return function(i){return t(i,e)}}function o(e){return function(t){c[e]=t}}function s(t){if(h.hasOwnProperty(t)){var i=h[t];delete h[t],p[t]=!0,l.apply(e,i)}if(!c.hasOwnProperty(t))throw new Error("No "+t);return c[t]}function r(e,i){var o,r,a=e.indexOf("!");return-1!==a?(o=t(e.slice(0,a),i),e=e.slice(a+1),r=s(o),e=r&&r.normalize?r.normalize(e,n(i)):t(e,i)):e=t(e,i),{f:o?o+"!"+e:e,n:e,p:r}}function a(e){return function(){return d&&d.config&&d.config[e]||{}}}var l,u,c={},h={},d={},p={},f=[].slice;l=function(t,n,l,u){var d,f,m,g,v,b,y=[];if(u=u||t,"function"==typeof l){for(n=!n.length&&l.length?["require","exports","module"]:n,b=0;b<n.length;b++)if(v=r(n[b],u),m=v.f,"require"===m)y[b]=i(t);else if("exports"===m)y[b]=c[t]={},d=!0;else if("module"===m)f=y[b]={id:t,uri:"",exports:c[t],config:a(t)};else if(c.hasOwnProperty(m)||h.hasOwnProperty(m))y[b]=s(m);else if(v.p)v.p.load(v.n,i(u,!0),o(m),{}),y[b]=c[m];else if(!p[m])throw new Error(t+" missing "+m);g=l.apply(c[t],y),t&&(f&&f.exports!==e&&f.exports!==c[t]?c[t]=f.exports:g===e&&d||(c[t]=g))}else t&&(c[t]=l)},requirejs=require=u=function(t,i,n,o){return"string"==typeof t?s(r(t,i).f):(t.splice||(d=t,i.splice?(t=i,i=n,n=null):t=e),i=i||function(){},o?l(e,t,i,n):setTimeout(function(){l(e,t,i,n)},15),u)},u.config=function(e){return d=e,u},define=function(e,t,i){t.splice||(i=t,t=[]),h[e]=[e,t,i]},define.amd={jQuery:!0}}(),define("lib/requirejs/almond",function(){}),!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t=e.length,i=Z.type(e);return"function"===i||Z.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e}function n(e,t,i){if(Z.isFunction(t))return Z.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return Z.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(at.test(t))return Z.filter(t,e,i);t=Z.filter(t,e)}return Z.grep(e,function(e){return K.call(t,e)>=0!==i})}function o(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function s(e){var t=ft[e]={};return Z.each(e.match(pt)||[],function(e,i){t[i]=!0}),t}function r(){J.removeEventListener("DOMContentLoaded",r,!1),e.removeEventListener("load",r,!1),Z.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Z.expando+Math.random()}function l(e,t,i){var n;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(wt,"-$1").toLowerCase(),i=e.getAttribute(n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:yt.test(i)?Z.parseJSON(i):i}catch(o){}bt.set(e,t,i)}else i=void 0;return i}function u(){return!0}function $(){return!1}function c(){try{return J.activeElement}catch(e){}}function h(e,t){return Z.nodeName(e,"table")&&Z.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function d(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function p(e){var t=Lt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function f(e,t){for(var i=0,n=e.length;n>i;i++)vt.set(e[i],"globalEval",!t||vt.get(t[i],"globalEval"))}function m(e,t){var i,n,o,s,r,a,l,u;if(1===t.nodeType){if(vt.hasData(e)&&(s=vt.access(e),r=vt.set(t,s),u=s.events)){delete r.handle,r.events={};for(o in u)for(i=0,n=u[o].length;n>i;i++)Z.event.add(t,o,u[o][i])}bt.hasData(e)&&(a=bt.access(e),l=Z.extend({},a),bt.set(t,l))}}function g(e,t){var i=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Z.nodeName(e,t)?Z.merge([e],i):i}function v(e,t){var i=t.nodeName.toLowerCase();"input"===i&&kt.test(e.type)?t.checked=e.checked:("input"===i||"textarea"===i)&&(t.defaultValue=e.defaultValue)}function b(t,i){var n,o=Z(i.createElement(t)).appendTo(i.body),s=e.getDefaultComputedStyle&&(n=e.getDefaultComputedStyle(o[0]))?n.display:Z.css(o[0],"display");return o.detach(),s}function y(e){var t=J,i=$t[e];return i||(i=b(e,t),"none"!==i&&i||(Rt=(Rt||Z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Rt[0].contentDocument,t.write(),t.close(),i=b(e,t),Rt.detach()),$t[e]=i),i}function w(e,t,i){var n,o,s,r,a=e.style;return i=i||Ut(e),i&&(r=i.getPropertyValue(t)||i[t]),i&&(""!==r||Z.contains(e.ownerDocument,e)||(r=Z.style(e,t)),Ht.test(r)&&Bt.test(t)&&(n=a.width,o=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=i.width,a.width=n,a.minWidth=o,a.maxWidth=s)),void 0!==r?r+"":r}function _(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function x(e,t){if(t in e)return t;for(var i=t[0].toUpperCase()+t.slice(1),n=t,o=Xt.length;o--;)if(t=Xt[o]+i,t in e)return t;return n}function C(e,t,i){var n=zt.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function k(e,t,i,n,o){for(var s=i===(n?"border":"content")?4:"width"===t?1:0,r=0;4>s;s+=2)"margin"===i&&(r+=Z.css(e,i+xt[s],!0,o)),n?("content"===i&&(r-=Z.css(e,"padding"+xt[s],!0,o)),"margin"!==i&&(r-=Z.css(e,"border"+xt[s]+"Width",!0,o))):(r+=Z.css(e,"padding"+xt[s],!0,o),"padding"!==i&&(r+=Z.css(e,"border"+xt[s]+"Width",!0,o)));return r}function T(e,t,i){var n=!0,o="width"===t?e.offsetWidth:e.offsetHeight,s=Ut(e),r="border-box"===Z.css(e,"boxSizing",!1,s);if(0>=o||null==o){if(o=w(e,t,s),(0>o||null==o)&&(o=e.style[t]),Ht.test(o))return o;n=r&&(Q.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+k(e,t,i||(r?"border":"content"),n,s)+"px"}function S(e,t){for(var i,n,o,s=[],r=0,a=e.length;a>r;r++)n=e[r],n.style&&(s[r]=vt.get(n,"olddisplay"),i=n.style.display,t?(s[r]||"none"!==i||(n.style.display=""),""===n.style.display&&Ct(n)&&(s[r]=vt.access(n,"olddisplay",y(n.nodeName)))):(o=Ct(n),"none"===i&&o||vt.set(n,"olddisplay",o?i:Z.css(n,"display"))));for(r=0;a>r;r++)n=e[r],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?s[r]||"":"none"));return e}function P(e,t,i,n,o){return new P.prototype.init(e,t,i,n,o)}function E(){return setTimeout(function(){Qt=void 0}),Qt=Z.now()}function A(e,t){var i,n=0,o={height:e};for(t=t?1:0;4>n;n+=2-t)i=xt[n],o["margin"+i]=o["padding"+i]=e;return t&&(o.opacity=o.width=e),o}function D(e,t,i){for(var n,o=(ii[t]||[]).concat(ii["*"]),s=0,r=o.length;r>s;s++)if(n=o[s].call(i,t,e))return n}function j(e,t,i){var n,o,s,r,a,l,u,c,h=this,d={},p=e.style,f=e.nodeType&&Ct(e),m=vt.get(e,"fxshow");i.queue||(a=Z._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,Z.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],u=Z.css(e,"display"),c="none"===u?vt.get(e,"olddisplay")||y(e.nodeName):u,"inline"===c&&"none"===Z.css(e,"float")&&(p.display="inline-block")),i.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(n in t)if(o=t[n],Yt.exec(o)){if(delete t[n],s=s||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!m||void 0===m[n])continue;f=!0}d[n]=m&&m[n]||Z.style(e,n)}else u=void 0;if(Z.isEmptyObject(d))"inline"===("none"===u?y(e.nodeName):u)&&(p.display=u);else{m?"hidden"in m&&(f=m.hidden):m=vt.access(e,"fxshow",{}),s&&(m.hidden=!f),f?Z(e).show():h.done(function(){Z(e).hide()}),h.done(function(){var t;vt.remove(e,"fxshow");for(t in d)Z.style(e,t,d[t])});for(n in d)r=D(f?m[n]:0,n,h),n in m||(m[n]=r.start,f&&(r.end=r.start,r.start="width"===n||"height"===n?1:0))}}function O(e,t){var i,n,o,s,r;for(i in e)if(n=Z.camelCase(i),o=t[n],s=e[i],Z.isArray(s)&&(o=s[1],s=e[i]=s[0]),i!==n&&(e[n]=s,delete e[i]),r=Z.cssHooks[n],r&&"expand"in r){s=r.expand(s),delete e[n];for(i in s)i in e||(e[i]=s[i],t[i]=o)}else t[n]=o}function F(e,t,i){var n,o,s=0,r=ti.length,a=Z.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=Qt||E(),i=Math.max(0,u.startTime+u.duration-t),n=i/u.duration||0,s=1-n,r=0,l=u.tweens.length;l>r;r++)u.tweens[r].run(s);return a.notifyWith(e,[u,s,i]),1>s&&l?i:(a.resolveWith(e,[u]),!1)},u=a.promise({elem:e,props:Z.extend({},t),opts:Z.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:Qt||E(),duration:i.duration,tweens:[],createTween:function(t,i){var n=Z.Tween(e,u.opts,t,i,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(n),n},stop:function(t){var i=0,n=t?u.tweens.length:0;if(o)return this;for(o=!0;n>i;i++)u.tweens[i].run(1);return t?a.resolveWith(e,[u,t]):a.rejectWith(e,[u,t]),this}}),c=u.props;for(O(c,u.opts.specialEasing);r>s;s++)if(n=ti[s].call(u,e,c,u.opts))return n;return Z.map(c,D,u),Z.isFunction(u.opts.start)&&u.opts.start.call(e,u),Z.fx.timer(Z.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function I(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,o=0,s=t.toLowerCase().match(pt)||[];if(Z.isFunction(i))for(;n=s[o++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function N(e,t,i,n){function o(a){var l;return s[a]=!0,Z.each(e[a]||[],function(e,a){var u=a(t,i,n);return"string"!=typeof u||r||s[u]?r?!(l=u):void 0:(t.dataTypes.unshift(u),o(u),!1)}),l}var s={},r=e===_i;return o(t.dataTypes[0])||!s["*"]&&o("*")}function L(e,t){var i,n,o=Z.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((o[i]?e:n||(n={}))[i]=t[i]);return n&&Z.extend(!0,e,n),e}function q(e,t,i){for(var n,o,s,r,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(o in a)if(a[o]&&a[o].test(n)){l.unshift(o);break}if(l[0]in i)s=l[0];else{for(o in i){if(!l[0]||e.converters[o+" "+l[0]]){s=o;break}r||(r=o)}s=s||r}return s?(s!==l[0]&&l.unshift(s),i[s]):void 0}function M(e,t,i,n){var o,s,r,a,l,u={},c=e.dataTypes.slice();if(c[1])for(r in e.converters)u[r.toLowerCase()]=e.converters[r];for(s=c.shift();s;)if(e.responseFields[s]&&(i[e.responseFields[s]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=c.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(r=u[l+" "+s]||u["* "+s],!r)for(o in u)if(a=o.split(" "),a[1]===s&&(r=u[l+" "+a[0]]||u["* "+a[0]])){r===!0?r=u[o]:u[o]!==!0&&(s=a[0],c.unshift(a[1]));break}if(r!==!0)if(r&&e["throws"])t=r(t);else try{t=r(t)}catch(h){return{state:"parsererror",error:r?h:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}function R(e,t,i,n){var o;if(Z.isArray(t))Z.each(t,function(t,o){i||Ti.test(e)?n(e,o):R(e+"["+("object"==typeof o?t:"")+"]",o,i,n)});else if(i||"object"!==Z.type(t))n(e,t);else for(o in t)R(e+"["+o+"]",t[o],i,n)}function B(e){return Z.isWindow(e)?e:9===e.nodeType&&e.defaultView}var H=[],U=H.slice,W=H.concat,z=H.push,K=H.indexOf,V={},G=V.toString,X=V.hasOwnProperty,Q={},J=e.document,Y="2.1.1",Z=function(e,t){return new Z.fn.init(e,t)},et=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,tt=/^-ms-/,it=/-([\da-z])/gi,nt=function(e,t){return t.toUpperCase()};Z.fn=Z.prototype={jquery:Y,constructor:Z,selector:"",length:0,toArray:function(){return U.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:U.call(this)},pushStack:function(e){var t=Z.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Z.each(this,e,t)},map:function(e){return this.pushStack(Z.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(U.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:z,sort:H.sort,splice:H.splice},Z.extend=Z.fn.extend=function(){var e,t,i,n,o,s,r=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof r&&(u=r,r=arguments[a]||{},a++),"object"==typeof r||Z.isFunction(r)||(r={}),a===l&&(r=this,a--);l>a;a++)if(null!=(e=arguments[a]))for(t in e)i=r[t],n=e[t],r!==n&&(u&&n&&(Z.isPlainObject(n)||(o=Z.isArray(n)))?(o?(o=!1,s=i&&Z.isArray(i)?i:[]):s=i&&Z.isPlainObject(i)?i:{},r[t]=Z.extend(u,s,n)):void 0!==n&&(r[t]=n));return r},Z.extend({expando:"jQuery"+(Y+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Z.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Z.isArray(e)&&e-parseFloat(e)>=0},isPlainObject:function(e){return"object"!==Z.type(e)||e.nodeType||Z.isWindow(e)?!1:e.constructor&&!X.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?V[G.call(e)]||"object":typeof e},globalEval:function(e){var t,i=eval;e=Z.trim(e),e&&(1===e.indexOf("use strict")?(t=J.createElement("script"),t.text=e,J.head.appendChild(t).parentNode.removeChild(t)):i(e))},camelCase:function(e){return e.replace(tt,"ms-").replace(it,nt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var o,s=0,r=e.length,a=i(e);if(n){if(a)for(;r>s&&(o=t.apply(e[s],n),o!==!1);s++);else for(s in e)if(o=t.apply(e[s],n),o===!1)break}else if(a)for(;r>s&&(o=t.call(e[s],s,e[s]),o!==!1);s++);else for(s in e)if(o=t.call(e[s],s,e[s]),o===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(et,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?Z.merge(n,"string"==typeof e?[e]:e):z.call(n,e)),n},inArray:function(e,t,i){return null==t?-1:K.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,o=e.length;i>n;n++)e[o++]=t[n];return e.length=o,e},grep:function(e,t,i){for(var n,o=[],s=0,r=e.length,a=!i;r>s;s++)n=!t(e[s],s),n!==a&&o.push(e[s]);return o},map:function(e,t,n){var o,s=0,r=e.length,a=i(e),l=[];if(a)for(;r>s;s++)o=t(e[s],s,n),null!=o&&l.push(o);else for(s in e)o=t(e[s],s,n),null!=o&&l.push(o);return W.apply([],l)},guid:1,proxy:function(e,t){var i,n,o;return"string"==typeof t&&(i=e[t],t=e,e=i),Z.isFunction(e)?(n=U.call(arguments,2),o=function(){return e.apply(t||this,n.concat(U.call(arguments)))},o.guid=e.guid=e.guid||Z.guid++,o):void 0},now:Date.now,support:Q}),Z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){V["[object "+t+"]"]=t.toLowerCase()});var ot=function(e){function t(e,t,i,n){var o,s,r,a,l,u,h,p,f,m;if((t?t.ownerDocument||t:B)!==O&&j(t),t=t||O,i=i||[],!e||"string"!=typeof e)return i;if(1!==(a=t.nodeType)&&9!==a)return[];if(I&&!n){if(o=bt.exec(e))if(r=o[1]){if(9===a){if(s=t.getElementById(r),!s||!s.parentNode)return i;if(s.id===r)return i.push(s),i}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(r))&&M(t,s)&&s.id===r)return i.push(s),i}else{if(o[2])return et.apply(i,t.getElementsByTagName(e)),i;if((r=o[3])&&_.getElementsByClassName&&t.getElementsByClassName)return et.apply(i,t.getElementsByClassName(r)),i}if(_.qsa&&(!N||!N.test(e))){if(p=h=R,f=t,m=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(u=T(e),(h=t.getAttribute("id"))?p=h.replace(wt,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=u.length;l--;)u[l]=p+d(u[l]);f=yt.test(e)&&c(t.parentNode)||t,m=u.join(",")}if(m)try{return et.apply(i,f.querySelectorAll(m)),i}catch(g){}finally{h||t.removeAttribute("id")}}}return P(e.replace(ut,"$1"),t,i,n)}function i(){function e(i,n){return t.push(i+" ")>x.cacheLength&&delete e[t.shift()],e[i+" "]=n}var t=[];return e}function n(e){return e[R]=!0,e}function o(e){var t=O.createElement("div");try{return!!e(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var i=e.split("|"),n=e.length;n--;)x.attrHandle[i[n]]=t}function r(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||X)-(~e.sourceIndex||X);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function a(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function l(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function u(e){return n(function(t){return t=+t,n(function(i,n){for(var o,s=e([],i.length,t),r=s.length;r--;)i[o=s[r]]&&(i[o]=!(n[o]=i[o]))})})}function c(e){return e&&typeof e.getElementsByTagName!==G&&e}function h(){}function d(e){for(var t=0,i=e.length,n="";i>t;t++)n+=e[t].value;return n}function p(e,t,i){var n=t.dir,o=i&&"parentNode"===n,s=U++;return t.first?function(t,i,s){for(;t=t[n];)if(1===t.nodeType||o)return e(t,i,s)}:function(t,i,r){var a,l,u=[H,s];if(r){for(;t=t[n];)if((1===t.nodeType||o)&&e(t,i,r))return!0}else for(;t=t[n];)if(1===t.nodeType||o){if(l=t[R]||(t[R]={}),(a=l[n])&&a[0]===H&&a[1]===s)return u[2]=a[2];if(l[n]=u,u[2]=e(t,i,r))return!0}}}function f(e){return e.length>1?function(t,i,n){for(var o=e.length;o--;)if(!e[o](t,i,n))return!1;return!0}:e[0]}function m(e,i,n){for(var o=0,s=i.length;s>o;o++)t(e,i[o],n);return n}function g(e,t,i,n,o){for(var s,r=[],a=0,l=e.length,u=null!=t;l>a;a++)(s=e[a])&&(!i||i(s,n,o))&&(r.push(s),u&&t.push(a));return r}function v(e,t,i,o,s,r){return o&&!o[R]&&(o=v(o)),s&&!s[R]&&(s=v(s,r)),n(function(n,r,a,l){var u,c,h,d=[],p=[],f=r.length,v=n||m(t||"*",a.nodeType?[a]:a,[]),b=!e||!n&&t?v:g(v,d,e,a,l),y=i?s||(n?e:f||o)?[]:r:b;if(i&&i(b,y,a,l),o)for(u=g(y,p),o(u,[],a,l),c=u.length;c--;)(h=u[c])&&(y[p[c]]=!(b[p[c]]=h));if(n){if(s||e){if(s){for(u=[],c=y.length;c--;)(h=y[c])&&u.push(b[c]=h);s(null,y=[],u,l)}for(c=y.length;c--;)(h=y[c])&&(u=s?it.call(n,h):d[c])>-1&&(n[u]=!(r[u]=h))}}else y=g(y===r?y.splice(f,y.length):y),s?s(null,r,y,l):et.apply(r,y)})}function b(e){for(var t,i,n,o=e.length,s=x.relative[e[0].type],r=s||x.relative[" "],a=s?1:0,l=p(function(e){return e===t},r,!0),u=p(function(e){return it.call(t,e)>-1},r,!0),c=[function(e,i,n){return!s&&(n||i!==E)||((t=i).nodeType?l(e,i,n):u(e,i,n))}];o>a;a++)if(i=x.relative[e[a].type])c=[p(f(c),i)];else{if(i=x.filter[e[a].type].apply(null,e[a].matches),i[R]){for(n=++a;o>n&&!x.relative[e[n].type];n++);return v(a>1&&f(c),a>1&&d(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ut,"$1"),i,n>a&&b(e.slice(a,n)),o>n&&b(e=e.slice(n)),o>n&&d(e))}c.push(i)}return f(c)}function y(e,i){var o=i.length>0,s=e.length>0,r=function(n,r,a,l,u){var c,h,d,p=0,f="0",m=n&&[],v=[],b=E,y=n||s&&x.find.TAG("*",u),w=H+=null==b?1:Math.random()||.1,_=y.length;for(u&&(E=r!==O&&r);f!==_&&null!=(c=y[f]);f++){if(s&&c){for(h=0;d=e[h++];)if(d(c,r,a)){l.push(c);break}u&&(H=w)}o&&((c=!d&&c)&&p--,n&&m.push(c))}if(p+=f,o&&f!==p){for(h=0;d=i[h++];)d(m,v,r,a);if(n){if(p>0)for(;f--;)m[f]||v[f]||(v[f]=Y.call(l));v=g(v)}et.apply(l,v),u&&!n&&v.length>0&&p+i.length>1&&t.uniqueSort(l)}return u&&(H=w,E=b),m};return o?n(r):r}var w,_,x,C,k,T,S,P,E,A,D,j,O,F,I,N,L,q,M,R="sizzle"+-new Date,B=e.document,H=0,U=0,W=i(),z=i(),K=i(),V=function(e,t){return e===t&&(D=!0),0},G="undefined",X=1<<31,Q={}.hasOwnProperty,J=[],Y=J.pop,Z=J.push,et=J.push,tt=J.slice,it=J.indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]===e)return t;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ot="[\\x20\\t\\r\\n\\f]",st="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt=st.replace("w","w#"),at="\\["+ot+"*("+st+")(?:"+ot+"*([*^$|!~]?=)"+ot+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+ot+"*\\]",lt=":("+st+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+at+")*)|.*)\\)|)",ut=new RegExp("^"+ot+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ot+"+$","g"),ct=new RegExp("^"+ot+"*,"+ot+"*"),ht=new RegExp("^"+ot+"*([>+~]|"+ot+")"+ot+"*"),dt=new RegExp("="+ot+"*([^\\]'\"]*?)"+ot+"*\\]","g"),$=new RegExp(lt),pt=new RegExp("^"+rt+"$"),ft={ID:new RegExp("^#("+st+")"),CLASS:new RegExp("^\\.("+st+")"),TAG:new RegExp("^("+st.replace("w","w*")+")"),ATTR:new RegExp("^"+at),PSEUDO:new RegExp("^"+lt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ot+"*(even|odd|(([+-]|)(\\d*)n|)"+ot+"*(?:([+-]|)"+ot+"*(\\d+)|))"+ot+"*\\)|)","i"),bool:new RegExp("^(?:"+nt+")$","i"),needsContext:new RegExp("^"+ot+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ot+"*((?:-\\d)?\\d*)"+ot+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,bt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,wt=/'|\\/g,_t=new RegExp("\\\\([\\da-f]{1,6}"+ot+"?|("+ot+")|.)","ig"),xt=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{et.apply(J=tt.call(B.childNodes),B.childNodes),J[B.childNodes.length].nodeType}catch(Ct){et={apply:J.length?function(e,t){Z.apply(e,tt.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}_=t.support={},k=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},j=t.setDocument=function(e){var t,i=e?e.ownerDocument||e:B,n=i.defaultView;return i!==O&&9===i.nodeType&&i.documentElement?(O=i,F=i.documentElement,I=!k(i),n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",function(){j()},!1):n.attachEvent&&n.attachEvent("onunload",function(){j()})),_.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),_.getElementsByTagName=o(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),_.getElementsByClassName=vt.test(i.getElementsByClassName)&&o(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),_.getById=o(function(e){return F.appendChild(e).id=R,!i.getElementsByName||!i.getElementsByName(R).length}),_.getById?(x.find.ID=function(e,t){if(typeof t.getElementById!==G&&I){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},x.filter.ID=function(e){var t=e.replace(_t,xt);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var t=e.replace(_t,xt);return function(e){var i=typeof e.getAttributeNode!==G&&e.getAttributeNode("id");return i&&i.value===t}}),x.find.TAG=_.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==G?t.getElementsByTagName(e):void 0}:function(e,t){var i,n=[],o=0,s=t.getElementsByTagName(e);if("*"===e){for(;i=s[o++];)1===i.nodeType&&n.push(i);return n}return s},x.find.CLASS=_.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==G&&I?t.getElementsByClassName(e):void 0},L=[],N=[],(_.qsa=vt.test(i.querySelectorAll))&&(o(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&N.push("[*^$]="+ot+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||N.push("\\["+ot+"*(?:value|"+nt+")"),e.querySelectorAll(":checked").length||N.push(":checked")}),o(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&N.push("name"+ot+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||N.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),N.push(",.*:")})),(_.matchesSelector=vt.test(q=F.matches||F.webkitMatchesSelector||F.mozMatchesSelector||F.oMatchesSelector||F.msMatchesSelector))&&o(function(e){_.disconnectedMatch=q.call(e,"div"),q.call(e,"[s!='']:x"),L.push("!=",lt)}),N=N.length&&new RegExp(N.join("|")),L=L.length&&new RegExp(L.join("|")),t=vt.test(F.compareDocumentPosition),M=t||vt.test(F.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!!n&&1===n.nodeType&&!!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return D=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!_.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===B&&M(B,e)?-1:t===i||t.ownerDocument===B&&M(B,t)?1:A?it.call(A,e)-it.call(A,t):0:4&n?-1:1)}:function(e,t){if(e===t)return D=!0,0;var n,o=0,s=e.parentNode,a=t.parentNode,l=[e],u=[t];if(!s||!a)return e===i?-1:t===i?1:s?-1:a?1:A?it.call(A,e)-it.call(A,t):0;if(s===a)return r(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;l[o]===u[o];)o++;return o?r(l[o],u[o]):l[o]===B?-1:u[o]===B?1:0},i):O},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==O&&j(e),i=i.replace(dt,"='$1']"),!(!_.matchesSelector||!I||L&&L.test(i)||N&&N.test(i)))try{var n=q.call(e,i);if(n||_.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(o){}return t(i,O,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==O&&j(e),M(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==O&&j(e);var i=x.attrHandle[t.toLowerCase()],n=i&&Q.call(x.attrHandle,t.toLowerCase())?i(e,t,!I):void 0;return void 0!==n?n:_.attributes||!I?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],n=0,o=0;if(D=!_.detectDuplicates,A=!_.sortStable&&e.slice(0),e.sort(V),D){for(;t=e[o++];)t===e[o]&&(n=i.push(o));for(;n--;)e.splice(i[n],1)}return A=null,e},C=t.getText=function(e){var t,i="",n=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=C(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[n++];)i+=C(t);return i},x=t.selectors={cacheLength:50,createPseudo:n,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(_t,xt),e[3]=(e[3]||e[4]||e[5]||"").replace(_t,xt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return ft.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&$.test(i)&&(t=T(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(_t,xt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+ot+")"+e+"("+ot+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==G&&e.getAttribute("class")||"")})},ATTR:function(e,i,n){return function(o){var s=t.attr(o,e);return null==s?"!="===i:i?(s+="","="===i?s===n:"!="===i?s!==n:"^="===i?n&&0===s.indexOf(n):"*="===i?n&&s.indexOf(n)>-1:"$="===i?n&&s.slice(-n.length)===n:"~="===i?(" "+s+" ").indexOf(n)>-1:"|="===i?s===n||s.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,i,n,o){var s="nth"!==e.slice(0,3),r="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===o?function(e){return!!e.parentNode}:function(t,i,l){var u,c,h,d,p,f,m=s!==r?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),b=!l&&!a;if(g){if(s){for(;m;){for(h=t;h=h[m];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[r?g.firstChild:g.lastChild],r&&b){for(c=g[R]||(g[R]={}),u=c[e]||[],p=u[0]===H&&u[1],d=u[0]===H&&u[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(d=p=0)||f.pop();)if(1===h.nodeType&&++d&&h===t){c[e]=[H,p,d];break}}else if(b&&(u=(t[R]||(t[R]={}))[e])&&u[0]===H)d=u[1];else for(;(h=++p&&h&&h[m]||(d=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(b&&((h[R]||(h[R]={}))[e]=[H,d]),h!==t)););return d-=o,d===n||d%n===0&&d/n>=0}}},PSEUDO:function(e,i){var o,s=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return s[R]?s(i):s.length>1?(o=[e,e,"",i],x.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,o=s(e,i),r=o.length;r--;)n=it.call(e,o[r]),e[n]=!(t[n]=o[r])}):function(e){return s(e,0,o)}):s}},pseudos:{not:n(function(e){var t=[],i=[],o=S(e.replace(ut,"$1"));return o[R]?n(function(e,t,i,n){for(var s,r=o(e,null,n,[]),a=e.length;a--;)(s=r[a])&&(e[a]=!(t[a]=s))}):function(e,n,s){return t[0]=e,o(t,null,s,i),!i.pop()}}),has:n(function(e){return function(i){return t(e,i).length>0}}),contains:n(function(e){return function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:n(function(e){return pt.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(_t,xt).toLowerCase(),function(t){var i;do if(i=I?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===F},focus:function(e){return e===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return gt.test(e.nodeName)},input:function(e){return mt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,i){return[0>i?i+t:i]}),even:u(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:u(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:u(function(e,t,i){for(var n=0>i?i+t:i;--n>=0;)e.push(n);return e}),gt:u(function(e,t,i){for(var n=0>i?i+t:i;++n<t;)e.push(n);return e})}},x.pseudos.nth=x.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})x.pseudos[w]=l(w);return h.prototype=x.filters=x.pseudos,x.setFilters=new h,T=t.tokenize=function(e,i){var n,o,s,r,a,l,u,c=z[e+" "];if(c)return i?0:c.slice(0);for(a=e,l=[],u=x.preFilter;a;){(!n||(o=ct.exec(a)))&&(o&&(a=a.slice(o[0].length)||a),l.push(s=[])),n=!1,(o=ht.exec(a))&&(n=o.shift(),s.push({value:n,type:o[0].replace(ut," ")}),a=a.slice(n.length));for(r in x.filter)!(o=ft[r].exec(a))||u[r]&&!(o=u[r](o))||(n=o.shift(),s.push({value:n,type:r,matches:o}),a=a.slice(n.length));if(!n)break}return i?a.length:a?t.error(e):z(e,l).slice(0)},S=t.compile=function(e,t){var i,n=[],o=[],s=K[e+" "];
if(!s){for(t||(t=T(e)),i=t.length;i--;)s=b(t[i]),s[R]?n.push(s):o.push(s);s=K(e,y(o,n)),s.selector=e}return s},P=t.select=function(e,t,i,n){var o,s,r,a,l,u="function"==typeof e&&e,h=!n&&T(e=u.selector||e);if(i=i||[],1===h.length){if(s=h[0]=h[0].slice(0),s.length>2&&"ID"===(r=s[0]).type&&_.getById&&9===t.nodeType&&I&&x.relative[s[1].type]){if(t=(x.find.ID(r.matches[0].replace(_t,xt),t)||[])[0],!t)return i;u&&(t=t.parentNode),e=e.slice(s.shift().value.length)}for(o=ft.needsContext.test(e)?0:s.length;o--&&(r=s[o],!x.relative[a=r.type]);)if((l=x.find[a])&&(n=l(r.matches[0].replace(_t,xt),yt.test(s[0].type)&&c(t.parentNode)||t))){if(s.splice(o,1),e=n.length&&d(s),!e)return et.apply(i,n),i;break}}return(u||S(e,h))(n,t,!I,i,yt.test(e)&&c(t.parentNode)||t),i},_.sortStable=R.split("").sort(V).join("")===R,_.detectDuplicates=!!D,j(),_.sortDetached=o(function(e){return 1&e.compareDocumentPosition(O.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,t,i){return i?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),_.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,t,i){return i||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||s(nt,function(e,t,i){var n;return i?void 0:e[t]===!0?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);Z.find=ot,Z.expr=ot.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=ot.uniqueSort,Z.text=ot.getText,Z.isXMLDoc=ot.isXML,Z.contains=ot.contains;var st=Z.expr.match.needsContext,rt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,at=/^.[^:#\[\.,]*$/;Z.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?Z.find.matchesSelector(n,e)?[n]:[]:Z.find.matches(e,Z.grep(t,function(e){return 1===e.nodeType}))},Z.fn.extend({find:function(e){var t,i=this.length,n=[],o=this;if("string"!=typeof e)return this.pushStack(Z(e).filter(function(){for(t=0;i>t;t++)if(Z.contains(o[t],this))return!0}));for(t=0;i>t;t++)Z.find(e,o[t],n);return n=this.pushStack(i>1?Z.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(n(this,e||[],!1))},not:function(e){return this.pushStack(n(this,e||[],!0))},is:function(e){return!!n(this,"string"==typeof e&&st.test(e)?Z(e):e||[],!1).length}});var lt,ut=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ct=Z.fn.init=function(e,t){var i,n;if(!e)return this;if("string"==typeof e){if(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ut.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||lt).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof Z?t[0]:t,Z.merge(this,Z.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:J,!0)),rt.test(i[1])&&Z.isPlainObject(t))for(i in t)Z.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return n=J.getElementById(i[2]),n&&n.parentNode&&(this.length=1,this[0]=n),this.context=J,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Z.isFunction(e)?"undefined"!=typeof lt.ready?lt.ready(e):e(Z):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Z.makeArray(e,this))};ct.prototype=Z.fn,lt=Z(J);var ht=/^(?:parents|prev(?:Until|All))/,dt={children:!0,contents:!0,next:!0,prev:!0};Z.extend({dir:function(e,t,i){for(var n=[],o=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&Z(e).is(i))break;n.push(e)}return n},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}}),Z.fn.extend({has:function(e){var t=Z(e,this),i=t.length;return this.filter(function(){for(var e=0;i>e;e++)if(Z.contains(this,t[e]))return!0})},closest:function(e,t){for(var i,n=0,o=this.length,s=[],r=st.test(e)||"string"!=typeof e?Z(e,t||this.context):0;o>n;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(r?r.index(i)>-1:1===i.nodeType&&Z.find.matchesSelector(i,e))){s.push(i);break}return this.pushStack(s.length>1?Z.unique(s):s)},index:function(e){return e?"string"==typeof e?K.call(Z(e),this[0]):K.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Z.unique(Z.merge(this.get(),Z(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Z.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Z.dir(e,"parentNode")},parentsUntil:function(e,t,i){return Z.dir(e,"parentNode",i)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return Z.dir(e,"nextSibling")},prevAll:function(e){return Z.dir(e,"previousSibling")},nextUntil:function(e,t,i){return Z.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return Z.dir(e,"previousSibling",i)},siblings:function(e){return Z.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Z.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Z.merge([],e.childNodes)}},function(e,t){Z.fn[e]=function(i,n){var o=Z.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=Z.filter(n,o)),this.length>1&&(dt[e]||Z.unique(o),ht.test(e)&&o.reverse()),this.pushStack(o)}});var pt=/\S+/g,ft={};Z.Callbacks=function(e){e="string"==typeof e?ft[e]||s(e):Z.extend({},e);var t,i,n,o,r,a,l=[],u=!e.once&&[],c=function(s){for(t=e.memory&&s,i=!0,a=o||0,o=0,r=l.length,n=!0;l&&r>a;a++)if(l[a].apply(s[0],s[1])===!1&&e.stopOnFalse){t=!1;break}n=!1,l&&(u?u.length&&c(u.shift()):t?l=[]:h.disable())},h={add:function(){if(l){var i=l.length;!function s(t){Z.each(t,function(t,i){var n=Z.type(i);"function"===n?e.unique&&h.has(i)||l.push(i):i&&i.length&&"string"!==n&&s(i)})}(arguments),n?r=l.length:t&&(o=i,c(t))}return this},remove:function(){return l&&Z.each(arguments,function(e,t){for(var i;(i=Z.inArray(t,l,i))>-1;)l.splice(i,1),n&&(r>=i&&r--,a>=i&&a--)}),this},has:function(e){return e?Z.inArray(e,l)>-1:!!l&&!!l.length},empty:function(){return l=[],r=0,this},disable:function(){return l=u=t=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,t||h.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!l||i&&!u||(t=t||[],t=[e,t.slice?t.slice():t],n?u.push(t):c(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h},Z.extend({Deferred:function(e){var t=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Z.Deferred(function(i){Z.each(t,function(t,s){var r=Z.isFunction(e[t])&&e[t];o[s[1]](function(){var e=r&&r.apply(this,arguments);e&&Z.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[s[0]+"With"](this===n?i.promise():this,r?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Z.extend(e,n):n}},o={};return n.pipe=n.then,Z.each(t,function(e,s){var r=s[2],a=s[3];n[s[1]]=r.add,a&&r.add(function(){i=a},t[1^e][2].disable,t[2][2].lock),o[s[0]]=function(){return o[s[0]+"With"](this===o?n:this,arguments),this},o[s[0]+"With"]=r.fireWith}),n.promise(o),e&&e.call(o,o),o},when:function(e){var t,i,n,o=0,s=U.call(arguments),r=s.length,a=1!==r||e&&Z.isFunction(e.promise)?r:0,l=1===a?e:Z.Deferred(),u=function(e,i,n){return function(o){i[e]=this,n[e]=arguments.length>1?U.call(arguments):o,n===t?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(r>1)for(t=new Array(r),i=new Array(r),n=new Array(r);r>o;o++)s[o]&&Z.isFunction(s[o].promise)?s[o].promise().done(u(o,n,s)).fail(l.reject).progress(u(o,i,t)):--a;return a||l.resolveWith(n,s),l.promise()}});var mt;Z.fn.ready=function(e){return Z.ready.promise().done(e),this},Z.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Z.readyWait++:Z.ready(!0)},ready:function(e){(e===!0?--Z.readyWait:Z.isReady)||(Z.isReady=!0,e!==!0&&--Z.readyWait>0||(mt.resolveWith(J,[Z]),Z.fn.triggerHandler&&(Z(J).triggerHandler("ready"),Z(J).off("ready"))))}}),Z.ready.promise=function(t){return mt||(mt=Z.Deferred(),"complete"===J.readyState?setTimeout(Z.ready):(J.addEventListener("DOMContentLoaded",r,!1),e.addEventListener("load",r,!1))),mt.promise(t)},Z.ready.promise();var gt=Z.access=function(e,t,i,n,o,s,r){var a=0,l=e.length,u=null==i;if("object"===Z.type(i)){o=!0;for(a in i)Z.access(e,t,a,i[a],!0,s,r)}else if(void 0!==n&&(o=!0,Z.isFunction(n)||(r=!0),u&&(r?(t.call(e,n),t=null):(u=t,t=function(e,t,i){return u.call(Z(e),i)})),t))for(;l>a;a++)t(e[a],i,r?n:n.call(e[a],a,t(e[a],i)));return o?e:u?t.call(e):l?t(e[0],i):s};Z.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},a.uid=1,a.accepts=Z.acceptData,a.prototype={key:function(e){if(!a.accepts(e))return 0;var t={},i=e[this.expando];if(!i){i=a.uid++;try{t[this.expando]={value:i},Object.defineProperties(e,t)}catch(n){t[this.expando]=i,Z.extend(e,t)}}return this.cache[i]||(this.cache[i]={}),i},set:function(e,t,i){var n,o=this.key(e),s=this.cache[o];if("string"==typeof t)s[t]=i;else if(Z.isEmptyObject(s))Z.extend(this.cache[o],t);else for(n in t)s[n]=t[n];return s},get:function(e,t){var i=this.cache[this.key(e)];return void 0===t?i:i[t]},access:function(e,t,i){var n;return void 0===t||t&&"string"==typeof t&&void 0===i?(n=this.get(e,t),void 0!==n?n:this.get(e,Z.camelCase(t))):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n,o,s=this.key(e),r=this.cache[s];if(void 0===t)this.cache[s]={};else{Z.isArray(t)?n=t.concat(t.map(Z.camelCase)):(o=Z.camelCase(t),t in r?n=[t,o]:(n=o,n=n in r?[n]:n.match(pt)||[])),i=n.length;for(;i--;)delete r[n[i]]}},hasData:function(e){return!Z.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var vt=new a,bt=new a,yt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,wt=/([A-Z])/g;Z.extend({hasData:function(e){return bt.hasData(e)||vt.hasData(e)},data:function(e,t,i){return bt.access(e,t,i)},removeData:function(e,t){bt.remove(e,t)},_data:function(e,t,i){return vt.access(e,t,i)},_removeData:function(e,t){vt.remove(e,t)}}),Z.fn.extend({data:function(e,t){var i,n,o,s=this[0],r=s&&s.attributes;if(void 0===e){if(this.length&&(o=bt.get(s),1===s.nodeType&&!vt.get(s,"hasDataAttrs"))){for(i=r.length;i--;)r[i]&&(n=r[i].name,0===n.indexOf("data-")&&(n=Z.camelCase(n.slice(5)),l(s,n,o[n])));vt.set(s,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){bt.set(this,e)}):gt(this,function(t){var i,n=Z.camelCase(e);if(s&&void 0===t){if(i=bt.get(s,e),void 0!==i)return i;if(i=bt.get(s,n),void 0!==i)return i;if(i=l(s,n,void 0),void 0!==i)return i}else this.each(function(){var i=bt.get(this,n);bt.set(this,n,t),-1!==e.indexOf("-")&&void 0!==i&&bt.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){bt.remove(this,e)})}}),Z.extend({queue:function(e,t,i){var n;return e?(t=(t||"fx")+"queue",n=vt.get(e,t),i&&(!n||Z.isArray(i)?n=vt.access(e,t,Z.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=Z.queue(e,t),n=i.length,o=i.shift(),s=Z._queueHooks(e,t),r=function(){Z.dequeue(e,t)};"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===t&&i.unshift("inprogress"),delete s.stop,o.call(e,r,s)),!n&&s&&s.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return vt.get(e,i)||vt.access(e,i,{empty:Z.Callbacks("once memory").add(function(){vt.remove(e,[t+"queue",i])})})}}),Z.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?Z.queue(this[0],e):void 0===t?this:this.each(function(){var i=Z.queue(this,e,t);Z._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&Z.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Z.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,o=Z.Deferred(),s=this,r=this.length,a=function(){--n||o.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";r--;)i=vt.get(s[r],e+"queueHooks"),i&&i.empty&&(n++,i.empty.add(a));return a(),o.promise(t)}});var _t=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,xt=["Top","Right","Bottom","Left"],Ct=function(e,t){return e=t||e,"none"===Z.css(e,"display")||!Z.contains(e.ownerDocument,e)},kt=/^(?:checkbox|radio)$/i;!function(){var e=J.createDocumentFragment(),t=e.appendChild(J.createElement("div")),i=J.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),t.appendChild(i),Q.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",Q.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Tt="undefined";Q.focusinBubbles="onfocusin"in e;var St=/^key/,Pt=/^(?:mouse|pointer|contextmenu)|click/,Et=/^(?:focusinfocus|focusoutblur)$/,At=/^([^.]*)(?:\.(.+)|)$/;Z.event={global:{},add:function(e,t,i,n,o){var s,r,a,l,u,c,h,d,p,f,m,g=vt.get(e);if(g)for(i.handler&&(s=i,i=s.handler,o=s.selector),i.guid||(i.guid=Z.guid++),(l=g.events)||(l=g.events={}),(r=g.handle)||(r=g.handle=function(t){return typeof Z!==Tt&&Z.event.triggered!==t.type?Z.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(pt)||[""],u=t.length;u--;)a=At.exec(t[u])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p&&(h=Z.event.special[p]||{},p=(o?h.delegateType:h.bindType)||p,h=Z.event.special[p]||{},c=Z.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&Z.expr.match.needsContext.test(o),namespace:f.join(".")},s),(d=l[p])||(d=l[p]=[],d.delegateCount=0,h.setup&&h.setup.call(e,n,f,r)!==!1||e.addEventListener&&e.addEventListener(p,r,!1)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=i.guid)),o?d.splice(d.delegateCount++,0,c):d.push(c),Z.event.global[p]=!0)},remove:function(e,t,i,n,o){var s,r,a,l,u,c,h,d,p,f,m,g=vt.hasData(e)&&vt.get(e);if(g&&(l=g.events)){for(t=(t||"").match(pt)||[""],u=t.length;u--;)if(a=At.exec(t[u])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(h=Z.event.special[p]||{},p=(n?h.delegateType:h.bindType)||p,d=l[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=s=d.length;s--;)c=d[s],!o&&m!==c.origType||i&&i.guid!==c.guid||a&&!a.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(d.splice(s,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(e,c));r&&!d.length&&(h.teardown&&h.teardown.call(e,f,g.handle)!==!1||Z.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)Z.event.remove(e,p+t[u],i,n,!0);Z.isEmptyObject(l)&&(delete g.handle,vt.remove(e,"events"))}},trigger:function(t,i,n,o){var s,r,a,l,u,c,h,d=[n||J],p=X.call(t,"type")?t.type:t,f=X.call(t,"namespace")?t.namespace.split("."):[];if(r=a=n=n||J,3!==n.nodeType&&8!==n.nodeType&&!Et.test(p+Z.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),u=p.indexOf(":")<0&&"on"+p,t=t[Z.expando]?t:new Z.Event(p,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:Z.makeArray(i,[t]),h=Z.event.special[p]||{},o||!h.trigger||h.trigger.apply(n,i)!==!1)){if(!o&&!h.noBubble&&!Z.isWindow(n)){for(l=h.delegateType||p,Et.test(l+p)||(r=r.parentNode);r;r=r.parentNode)d.push(r),a=r;a===(n.ownerDocument||J)&&d.push(a.defaultView||a.parentWindow||e)}for(s=0;(r=d[s++])&&!t.isPropagationStopped();)t.type=s>1?l:h.bindType||p,c=(vt.get(r,"events")||{})[t.type]&&vt.get(r,"handle"),c&&c.apply(r,i),c=u&&r[u],c&&c.apply&&Z.acceptData(r)&&(t.result=c.apply(r,i),t.result===!1&&t.preventDefault());return t.type=p,o||t.isDefaultPrevented()||h._default&&h._default.apply(d.pop(),i)!==!1||!Z.acceptData(n)||u&&Z.isFunction(n[p])&&!Z.isWindow(n)&&(a=n[u],a&&(n[u]=null),Z.event.triggered=p,n[p](),Z.event.triggered=void 0,a&&(n[u]=a)),t.result}},dispatch:function(e){e=Z.event.fix(e);var t,i,n,o,s,r=[],a=U.call(arguments),l=(vt.get(this,"events")||{})[e.type]||[],u=Z.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(r=Z.event.handlers.call(this,e,l),t=0;(o=r[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,i=0;(s=o.handlers[i++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(s.namespace))&&(e.handleObj=s,e.data=s.data,n=((Z.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,a),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,o,s,r=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==e.type){for(n=[],i=0;a>i;i++)s=t[i],o=s.selector+" ",void 0===n[o]&&(n[o]=s.needsContext?Z(o,this).index(l)>=0:Z.find(o,this,null,[l]).length),n[o]&&n.push(s);n.length&&r.push({elem:l,handlers:n})}return a<t.length&&r.push({elem:this,handlers:t.slice(a)}),r},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,o,s=t.button;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||J,n=i.documentElement,o=i.body,e.pageX=t.clientX+(n&&n.scrollLeft||o&&o.scrollLeft||0)-(n&&n.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(n&&n.scrollTop||o&&o.scrollTop||0)-(n&&n.clientTop||o&&o.clientTop||0)),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[Z.expando])return e;var t,i,n,o=e.type,s=e,r=this.fixHooks[o];for(r||(this.fixHooks[o]=r=Pt.test(o)?this.mouseHooks:St.test(o)?this.keyHooks:{}),n=r.props?this.props.concat(r.props):this.props,e=new Z.Event(s),t=n.length;t--;)i=n[t],e[i]=s[i];return e.target||(e.target=J),3===e.target.nodeType&&(e.target=e.target.parentNode),r.filter?r.filter(e,s):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==c()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===c()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Z.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return Z.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var o=Z.extend(new Z.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?Z.event.trigger(o,null,t):Z.event.dispatch.call(t,o),o.isDefaultPrevented()&&i.preventDefault()}},Z.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)},Z.Event=function(e,t){return this instanceof Z.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?u:$):this.type=e,t&&Z.extend(this,t),this.timeStamp=e&&e.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(e,t)},Z.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=u,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=u,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=u,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Z.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,o=e.relatedTarget,s=e.handleObj;return(!o||o!==n&&!Z.contains(n,o))&&(e.type=s.origType,i=s.handler.apply(this,arguments),e.type=t),i}}}),Q.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){Z.event.simulate(t,e.target,Z.event.fix(e),!0)};Z.event.special[t]={setup:function(){var n=this.ownerDocument||this,o=vt.access(n,t);o||n.addEventListener(e,i,!0),vt.access(n,t,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this,o=vt.access(n,t)-1;o?vt.access(n,t,o):(n.removeEventListener(e,i,!0),vt.remove(n,t))}}}),Z.fn.extend({on:function(e,t,i,n,o){var s,r;if("object"==typeof e){"string"!=typeof t&&(i=i||t,t=void 0);for(r in e)this.on(r,t,i,e[r],o);return this}if(null==i&&null==n?(n=t,i=t=void 0):null==n&&("string"==typeof t?(n=i,i=void 0):(n=i,i=t,t=void 0)),n===!1)n=$;else if(!n)return this;return 1===o&&(s=n,n=function(e){return Z().off(e),s.apply(this,arguments)},n.guid=s.guid||(s.guid=Z.guid++)),this.each(function(){Z.event.add(this,e,n,i,t)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,t,i){var n,o;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,Z(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return(t===!1||"function"==typeof t)&&(i=t,t=void 0),i===!1&&(i=$),this.each(function(){Z.event.remove(this,e,i,t)})},trigger:function(e,t){return this.each(function(){Z.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?Z.event.trigger(e,t,i,!0):void 0}});var Dt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,jt=/<([\w:]+)/,Ot=/<|&#?\w+;/,Ft=/<(?:script|style|link)/i,It=/checked\s*(?:[^=]|=\s*.checked.)/i,Nt=/^$|\/(?:java|ecma)script/i,Lt=/^true\/(.*)/,qt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Mt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Mt.optgroup=Mt.option,Mt.tbody=Mt.tfoot=Mt.colgroup=Mt.caption=Mt.thead,Mt.th=Mt.td,Z.extend({clone:function(e,t,i){var n,o,s,r,a=e.cloneNode(!0),l=Z.contains(e.ownerDocument,e);if(!(Q.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Z.isXMLDoc(e)))for(r=g(a),s=g(e),n=0,o=s.length;o>n;n++)v(s[n],r[n]);if(t)if(i)for(s=s||g(e),r=r||g(a),n=0,o=s.length;o>n;n++)m(s[n],r[n]);else m(e,a);return r=g(a,"script"),r.length>0&&f(r,!l&&g(e,"script")),a},buildFragment:function(e,t,i,n){for(var o,s,r,a,l,u,c=t.createDocumentFragment(),h=[],d=0,p=e.length;p>d;d++)if(o=e[d],o||0===o)if("object"===Z.type(o))Z.merge(h,o.nodeType?[o]:o);else if(Ot.test(o)){for(s=s||c.appendChild(t.createElement("div")),r=(jt.exec(o)||["",""])[1].toLowerCase(),a=Mt[r]||Mt._default,s.innerHTML=a[1]+o.replace(Dt,"<$1></$2>")+a[2],u=a[0];u--;)s=s.lastChild;Z.merge(h,s.childNodes),s=c.firstChild,s.textContent=""}else h.push(t.createTextNode(o));for(c.textContent="",d=0;o=h[d++];)if((!n||-1===Z.inArray(o,n))&&(l=Z.contains(o.ownerDocument,o),s=g(c.appendChild(o),"script"),l&&f(s),i))for(u=0;o=s[u++];)Nt.test(o.type||"")&&i.push(o);return c},cleanData:function(e){for(var t,i,n,o,s=Z.event.special,r=0;void 0!==(i=e[r]);r++){if(Z.acceptData(i)&&(o=i[vt.expando],o&&(t=vt.cache[o]))){if(t.events)for(n in t.events)s[n]?Z.event.remove(i,n):Z.removeEvent(i,n,t.handle);vt.cache[o]&&delete vt.cache[o]}delete bt.cache[i[bt.expando]]}}}),Z.fn.extend({text:function(e){return gt(this,function(e){return void 0===e?Z.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,n=e?Z.filter(e,this):this,o=0;null!=(i=n[o]);o++)t||1!==i.nodeType||Z.cleanData(g(i)),i.parentNode&&(t&&Z.contains(i.ownerDocument,i)&&f(g(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Z.cleanData(g(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Z.clone(this,e,t)})},html:function(e){return gt(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ft.test(e)&&!Mt[(jt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Dt,"<$1></$2>");try{for(;n>i;i++)t=this[i]||{},1===t.nodeType&&(Z.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(o){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Z.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=W.apply([],e);var i,n,o,s,r,a,l=0,u=this.length,c=this,h=u-1,f=e[0],m=Z.isFunction(f);if(m||u>1&&"string"==typeof f&&!Q.checkClone&&It.test(f))return this.each(function(i){var n=c.eq(i);m&&(e[0]=f.call(this,i,n.html())),n.domManip(e,t)});if(u&&(i=Z.buildFragment(e,this[0].ownerDocument,!1,this),n=i.firstChild,1===i.childNodes.length&&(i=n),n)){for(o=Z.map(g(i,"script"),d),s=o.length;u>l;l++)r=i,l!==h&&(r=Z.clone(r,!0,!0),s&&Z.merge(o,g(r,"script"))),t.call(this[l],r,l);if(s)for(a=o[o.length-1].ownerDocument,Z.map(o,p),l=0;s>l;l++)r=o[l],Nt.test(r.type||"")&&!vt.access(r,"globalEval")&&Z.contains(a,r)&&(r.src?Z._evalUrl&&Z._evalUrl(r.src):Z.globalEval(r.textContent.replace(qt,"")))}return this}}),Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Z.fn[e]=function(e){for(var i,n=[],o=Z(e),s=o.length-1,r=0;s>=r;r++)i=r===s?this:this.clone(!0),Z(o[r])[t](i),z.apply(n,i.get());return this.pushStack(n)}});var Rt,$t={},Bt=/^margin/,Ht=new RegExp("^("+_t+")(?!px)[a-z%]+$","i"),Ut=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};!function(){function t(){r.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",r.innerHTML="",o.appendChild(s);var t=e.getComputedStyle(r,null);i="1%"!==t.top,n="4px"===t.width,o.removeChild(s)}var i,n,o=J.documentElement,s=J.createElement("div"),r=J.createElement("div");r.style&&(r.style.backgroundClip="content-box",r.cloneNode(!0).style.backgroundClip="",Q.clearCloneStyle="content-box"===r.style.backgroundClip,s.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",s.appendChild(r),e.getComputedStyle&&Z.extend(Q,{pixelPosition:function(){return t(),i},boxSizingReliable:function(){return null==n&&t(),n},reliableMarginRight:function(){var t,i=r.appendChild(J.createElement("div"));return i.style.cssText=r.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",r.style.width="1px",o.appendChild(s),t=!parseFloat(e.getComputedStyle(i,null).marginRight),o.removeChild(s),t}}))}(),Z.swap=function(e,t,i,n){var o,s,r={};for(s in t)r[s]=e.style[s],e.style[s]=t[s];o=i.apply(e,n||[]);for(s in t)e.style[s]=r[s];return o};var Wt=/^(none|table(?!-c[ea]).+)/,zt=new RegExp("^("+_t+")(.*)$","i"),Kt=new RegExp("^([+-])=("+_t+")","i"),Vt={position:"absolute",visibility:"hidden",display:"block"},Gt={letterSpacing:"0",fontWeight:"400"},Xt=["Webkit","O","Moz","ms"];Z.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=w(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,s,r,a=Z.camelCase(t),l=e.style;return t=Z.cssProps[a]||(Z.cssProps[a]=x(l,a)),r=Z.cssHooks[t]||Z.cssHooks[a],void 0===i?r&&"get"in r&&void 0!==(o=r.get(e,!1,n))?o:l[t]:(s=typeof i,"string"===s&&(o=Kt.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(Z.css(e,t)),s="number"),null!=i&&i===i&&("number"!==s||Z.cssNumber[a]||(i+="px"),Q.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),r&&"set"in r&&void 0===(i=r.set(e,i,n))||(l[t]=i)),void 0)}},css:function(e,t,i,n){var o,s,r,a=Z.camelCase(t);return t=Z.cssProps[a]||(Z.cssProps[a]=x(e.style,a)),r=Z.cssHooks[t]||Z.cssHooks[a],r&&"get"in r&&(o=r.get(e,!0,i)),void 0===o&&(o=w(e,t,n)),"normal"===o&&t in Gt&&(o=Gt[t]),""===i||i?(s=parseFloat(o),i===!0||Z.isNumeric(s)?s||0:o):o}}),Z.each(["height","width"],function(e,t){Z.cssHooks[t]={get:function(e,i,n){return i?Wt.test(Z.css(e,"display"))&&0===e.offsetWidth?Z.swap(e,Vt,function(){return T(e,t,n)}):T(e,t,n):void 0},set:function(e,i,n){var o=n&&Ut(e);return C(e,i,n?k(e,t,n,"border-box"===Z.css(e,"boxSizing",!1,o),o):0)}}}),Z.cssHooks.marginRight=_(Q.reliableMarginRight,function(e,t){return t?Z.swap(e,{display:"inline-block"},w,[e,"marginRight"]):void 0}),Z.each({margin:"",padding:"",border:"Width"},function(e,t){Z.cssHooks[e+t]={expand:function(i){for(var n=0,o={},s="string"==typeof i?i.split(" "):[i];4>n;n++)o[e+xt[n]+t]=s[n]||s[n-2]||s[0];return o}},Bt.test(e)||(Z.cssHooks[e+t].set=C)}),Z.fn.extend({css:function(e,t){return gt(this,function(e,t,i){var n,o,s={},r=0;if(Z.isArray(t)){for(n=Ut(e),o=t.length;o>r;r++)s[t[r]]=Z.css(e,t[r],!1,n);return s}return void 0!==i?Z.style(e,t,i):Z.css(e,t)},e,t,arguments.length>1)},show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ct(this)?Z(this).show():Z(this).hide()})}}),Z.Tween=P,P.prototype={constructor:P,init:function(e,t,i,n,o,s){this.elem=e,this.prop=i,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=s||(Z.cssNumber[i]?"":"px")},cur:function(){var e=P.propHooks[this.prop];return e&&e.get?e.get(this):P.propHooks._default.get(this)},run:function(e){var t,i=P.propHooks[this.prop];return this.pos=t=this.options.duration?Z.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):P.propHooks._default.set(this),this}},P.prototype.init.prototype=P.prototype,P.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Z.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Z.fx.step[e.prop]?Z.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Z.cssProps[e.prop]]||Z.cssHooks[e.prop])?Z.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},P.propHooks.scrollTop=P.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Z.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Z.fx=P.prototype.init,Z.fx.step={};var Qt,Jt,Yt=/^(?:toggle|show|hide)$/,Zt=new RegExp("^(?:([+-])=|)("+_t+")([a-z%]*)$","i"),ei=/queueHooks$/,ti=[j],ii={"*":[function(e,t){var i=this.createTween(e,t),n=i.cur(),o=Zt.exec(t),s=o&&o[3]||(Z.cssNumber[e]?"":"px"),r=(Z.cssNumber[e]||"px"!==s&&+n)&&Zt.exec(Z.css(i.elem,e)),a=1,l=20;
if(r&&r[3]!==s){s=s||r[3],o=o||[],r=+n||1;do a=a||".5",r/=a,Z.style(i.elem,e,r+s);while(a!==(a=i.cur()/n)&&1!==a&&--l)}return o&&(r=i.start=+r||+n||0,i.unit=s,i.end=o[1]?r+(o[1]+1)*o[2]:+o[2]),i}]};Z.Animation=Z.extend(F,{tweener:function(e,t){Z.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,o=e.length;o>n;n++)i=e[n],ii[i]=ii[i]||[],ii[i].unshift(t)},prefilter:function(e,t){t?ti.unshift(e):ti.push(e)}}),Z.speed=function(e,t,i){var n=e&&"object"==typeof e?Z.extend({},e):{complete:i||!i&&t||Z.isFunction(e)&&e,duration:e,easing:i&&t||t&&!Z.isFunction(t)&&t};return n.duration=Z.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in Z.fx.speeds?Z.fx.speeds[n.duration]:Z.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){Z.isFunction(n.old)&&n.old.call(this),n.queue&&Z.dequeue(this,n.queue)},n},Z.fn.extend({fadeTo:function(e,t,i,n){return this.filter(Ct).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var o=Z.isEmptyObject(e),s=Z.speed(t,i,n),r=function(){var t=F(this,Z.extend({},e),s);(o||vt.get(this,"finish"))&&t.stop(!0)};return r.finish=r,o||s.queue===!1?this.each(r):this.queue(s.queue,r)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",s=Z.timers,r=vt.get(this);if(o)r[o]&&r[o].stop&&n(r[o]);else for(o in r)r[o]&&r[o].stop&&ei.test(o)&&n(r[o]);for(o=s.length;o--;)s[o].elem!==this||null!=e&&s[o].queue!==e||(s[o].anim.stop(i),t=!1,s.splice(o,1));(t||!i)&&Z.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=vt.get(this),n=i[e+"queue"],o=i[e+"queueHooks"],s=Z.timers,r=n?n.length:0;for(i.finish=!0,Z.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;r>t;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),Z.each(["toggle","show","hide"],function(e,t){var i=Z.fn[t];Z.fn[t]=function(e,n,o){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(A(t,!0),e,n,o)}}),Z.each({slideDown:A("show"),slideUp:A("hide"),slideToggle:A("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Z.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),Z.timers=[],Z.fx.tick=function(){var e,t=0,i=Z.timers;for(Qt=Z.now();t<i.length;t++)e=i[t],e()||i[t]!==e||i.splice(t--,1);i.length||Z.fx.stop(),Qt=void 0},Z.fx.timer=function(e){Z.timers.push(e),e()?Z.fx.start():Z.timers.pop()},Z.fx.interval=13,Z.fx.start=function(){Jt||(Jt=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.stop=function(){clearInterval(Jt),Jt=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fn.delay=function(e,t){return e=Z.fx?Z.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},function(){var e=J.createElement("input"),t=J.createElement("select"),i=t.appendChild(J.createElement("option"));e.type="checkbox",Q.checkOn=""!==e.value,Q.optSelected=i.selected,t.disabled=!0,Q.optDisabled=!i.disabled,e=J.createElement("input"),e.value="t",e.type="radio",Q.radioValue="t"===e.value}();var ni,oi,si=Z.expr.attrHandle;Z.fn.extend({attr:function(e,t){return gt(this,Z.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Z.removeAttr(this,e)})}}),Z.extend({attr:function(e,t,i){var n,o,s=e.nodeType;return e&&3!==s&&8!==s&&2!==s?typeof e.getAttribute===Tt?Z.prop(e,t,i):(1===s&&Z.isXMLDoc(e)||(t=t.toLowerCase(),n=Z.attrHooks[t]||(Z.expr.match.bool.test(t)?oi:ni)),void 0===i?n&&"get"in n&&null!==(o=n.get(e,t))?o:(o=Z.find.attr(e,t),null==o?void 0:o):null!==i?n&&"set"in n&&void 0!==(o=n.set(e,i,t))?o:(e.setAttribute(t,i+""),i):void Z.removeAttr(e,t)):void 0},removeAttr:function(e,t){var i,n,o=0,s=t&&t.match(pt);if(s&&1===e.nodeType)for(;i=s[o++];)n=Z.propFix[i]||i,Z.expr.match.bool.test(i)&&(e[n]=!1),e.removeAttribute(i)},attrHooks:{type:{set:function(e,t){if(!Q.radioValue&&"radio"===t&&Z.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}}}),oi={set:function(e,t,i){return t===!1?Z.removeAttr(e,i):e.setAttribute(i,i),i}},Z.each(Z.expr.match.bool.source.match(/\w+/g),function(e,t){var i=si[t]||Z.find.attr;si[t]=function(e,t,n){var o,s;return n||(s=si[t],si[t]=o,o=null!=i(e,t,n)?t.toLowerCase():null,si[t]=s),o}});var ri=/^(?:input|select|textarea|button)$/i;Z.fn.extend({prop:function(e,t){return gt(this,Z.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Z.propFix[e]||e]})}}),Z.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,i){var n,o,s,r=e.nodeType;return e&&3!==r&&8!==r&&2!==r?(s=1!==r||!Z.isXMLDoc(e),s&&(t=Z.propFix[t]||t,o=Z.propHooks[t]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(e,i,t))?n:e[t]=i:o&&"get"in o&&null!==(n=o.get(e,t))?n:e[t]):void 0},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||ri.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),Q.optSelected||(Z.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Z.propFix[this.toLowerCase()]=this});var ai=/[\t\r\n\f]/g;Z.fn.extend({addClass:function(e){var t,i,n,o,s,r,a="string"==typeof e&&e,l=0,u=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(pt)||[];u>l;l++)if(i=this[l],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(ai," "):" ")){for(s=0;o=t[s++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");r=Z.trim(n),i.className!==r&&(i.className=r)}return this},removeClass:function(e){var t,i,n,o,s,r,a=0===arguments.length||"string"==typeof e&&e,l=0,u=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(pt)||[];u>l;l++)if(i=this[l],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(ai," "):"")){for(s=0;o=t[s++];)for(;n.indexOf(" "+o+" ")>=0;)n=n.replace(" "+o+" "," ");r=e?Z.trim(n):"",i.className!==r&&(i.className=r)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):this.each(Z.isFunction(e)?function(i){Z(this).toggleClass(e.call(this,i,this.className,t),t)}:function(){if("string"===i)for(var t,n=0,o=Z(this),s=e.match(pt)||[];t=s[n++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else(i===Tt||"boolean"===i)&&(this.className&&vt.set(this,"__className__",this.className),this.className=this.className||e===!1?"":vt.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(ai," ").indexOf(t)>=0)return!0;return!1}});var li=/\r/g;Z.fn.extend({val:function(e){var t,i,n,o=this[0];return arguments.length?(n=Z.isFunction(e),this.each(function(i){var o;1===this.nodeType&&(o=n?e.call(this,i,Z(this).val()):e,null==o?o="":"number"==typeof o?o+="":Z.isArray(o)&&(o=Z.map(o,function(e){return null==e?"":e+""})),t=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))})):o?(t=Z.valHooks[o.type]||Z.valHooks[o.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(i=t.get(o,"value"))?i:(i=o.value,"string"==typeof i?i.replace(li,""):null==i?"":i)):void 0}}),Z.extend({valHooks:{option:{get:function(e){var t=Z.find.attr(e,"value");return null!=t?t:Z.trim(Z.text(e))}},select:{get:function(e){for(var t,i,n=e.options,o=e.selectedIndex,s="select-one"===e.type||0>o,r=s?null:[],a=s?o+1:n.length,l=0>o?a:s?o:0;a>l;l++)if(i=n[l],!(!i.selected&&l!==o||(Q.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&Z.nodeName(i.parentNode,"optgroup"))){if(t=Z(i).val(),s)return t;r.push(t)}return r},set:function(e,t){for(var i,n,o=e.options,s=Z.makeArray(t),r=o.length;r--;)n=o[r],(n.selected=Z.inArray(n.value,s)>=0)&&(i=!0);return i||(e.selectedIndex=-1),s}}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]={set:function(e,t){return Z.isArray(t)?e.checked=Z.inArray(Z(e).val(),t)>=0:void 0}},Q.checkOn||(Z.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Z.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),Z.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var ui=Z.now(),ci=/\?/;Z.parseJSON=function(e){return JSON.parse(e+"")},Z.parseXML=function(e){var t,i;if(!e||"string"!=typeof e)return null;try{i=new DOMParser,t=i.parseFromString(e,"text/xml")}catch(n){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&Z.error("Invalid XML: "+e),t};var hi,di,pi=/#.*$/,fi=/([?&])_=[^&]*/,mi=/^(.*?):[ \t]*([^\r\n]*)$/gm,gi=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,vi=/^(?:GET|HEAD)$/,bi=/^\/\//,yi=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,wi={},_i={},xi="*/".concat("*");try{di=location.href}catch(Ci){di=J.createElement("a"),di.href="",di=di.href}hi=yi.exec(di.toLowerCase())||[],Z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:di,type:"GET",isLocal:gi.test(hi[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":xi,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?L(L(e,Z.ajaxSettings),t):L(Z.ajaxSettings,e)},ajaxPrefilter:I(wi),ajaxTransport:I(_i),ajax:function(e,t){function i(e,t,i,r){var l,c,v,b,w,x=t;2!==y&&(y=2,a&&clearTimeout(a),n=void 0,s=r||"",_.readyState=e>0?4:0,l=e>=200&&300>e||304===e,i&&(b=q(h,_,i)),b=M(h,b,_,l),l?(h.ifModified&&(w=_.getResponseHeader("Last-Modified"),w&&(Z.lastModified[o]=w),w=_.getResponseHeader("etag"),w&&(Z.etag[o]=w)),204===e||"HEAD"===h.type?x="nocontent":304===e?x="notmodified":(x=b.state,c=b.data,v=b.error,l=!v)):(v=x,(e||!x)&&(x="error",0>e&&(e=0))),_.status=e,_.statusText=(t||x)+"",l?f.resolveWith(d,[c,x,_]):f.rejectWith(d,[_,x,v]),_.statusCode(g),g=void 0,u&&p.trigger(l?"ajaxSuccess":"ajaxError",[_,h,l?c:v]),m.fireWith(d,[_,x]),u&&(p.trigger("ajaxComplete",[_,h]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,o,s,r,a,l,u,c,h=Z.ajaxSetup({},t),d=h.context||h,p=h.context&&(d.nodeType||d.jquery)?Z(d):Z.event,f=Z.Deferred(),m=Z.Callbacks("once memory"),g=h.statusCode||{},v={},b={},y=0,w="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!r)for(r={};t=mi.exec(s);)r[t[1].toLowerCase()]=t[2];t=r[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?s:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return y||(e=b[i]=b[i]||e,v[e]=t),this},overrideMimeType:function(e){return y||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)g[t]=[g[t],e[t]];else _.always(e[_.status]);return this},abort:function(e){var t=e||w;return n&&n.abort(t),i(0,t),this}};if(f.promise(_).complete=m.add,_.success=_.done,_.error=_.fail,h.url=((e||h.url||di)+"").replace(pi,"").replace(bi,hi[1]+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=Z.trim(h.dataType||"*").toLowerCase().match(pt)||[""],null==h.crossDomain&&(l=yi.exec(h.url.toLowerCase()),h.crossDomain=!(!l||l[1]===hi[1]&&l[2]===hi[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(hi[3]||("http:"===hi[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=Z.param(h.data,h.traditional)),N(wi,h,t,_),2===y)return _;u=h.global,u&&0===Z.active++&&Z.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!vi.test(h.type),o=h.url,h.hasContent||(h.data&&(o=h.url+=(ci.test(o)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=fi.test(o)?o.replace(fi,"$1_="+ui++):o+(ci.test(o)?"&":"?")+"_="+ui++)),h.ifModified&&(Z.lastModified[o]&&_.setRequestHeader("If-Modified-Since",Z.lastModified[o]),Z.etag[o]&&_.setRequestHeader("If-None-Match",Z.etag[o])),(h.data&&h.hasContent&&h.contentType!==!1||t.contentType)&&_.setRequestHeader("Content-Type",h.contentType),_.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+xi+"; q=0.01":""):h.accepts["*"]);for(c in h.headers)_.setRequestHeader(c,h.headers[c]);if(!h.beforeSend||h.beforeSend.call(d,_,h)!==!1&&2!==y){w="abort";for(c in{success:1,error:1,complete:1})_[c](h[c]);if(n=N(_i,h,t,_)){_.readyState=1,u&&p.trigger("ajaxSend",[_,h]),h.async&&h.timeout>0&&(a=setTimeout(function(){_.abort("timeout")},h.timeout));try{y=1,n.send(v,i)}catch(x){if(!(2>y))throw x;i(-1,x)}}else i(-1,"No Transport");return _}return _.abort()},getJSON:function(e,t,i){return Z.get(e,t,i,"json")},getScript:function(e,t){return Z.get(e,void 0,t,"script")}}),Z.each(["get","post"],function(e,t){Z[t]=function(e,i,n,o){return Z.isFunction(i)&&(o=o||n,n=i,i=void 0),Z.ajax({url:e,type:t,dataType:o,data:i,success:n})}}),Z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Z.fn[t]=function(e){return this.on(t,e)}}),Z._evalUrl=function(e){return Z.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Z.fn.extend({wrapAll:function(e){var t;return Z.isFunction(e)?this.each(function(t){Z(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Z(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(Z.isFunction(e)?function(t){Z(this).wrapInner(e.call(this,t))}:function(){var t=Z(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=Z.isFunction(e);return this.each(function(i){Z(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()}}),Z.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Z.expr.filters.visible=function(e){return!Z.expr.filters.hidden(e)};var ki=/%20/g,Ti=/\[\]$/,Si=/\r?\n/g,Pi=/^(?:submit|button|image|reset|file)$/i,Ei=/^(?:input|select|textarea|keygen)/i;Z.param=function(e,t){var i,n=[],o=function(e,t){t=Z.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(e)||e.jquery&&!Z.isPlainObject(e))Z.each(e,function(){o(this.name,this.value)});else for(i in e)R(i,e[i],t,o);return n.join("&").replace(ki,"+")},Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Z.prop(this,"elements");return e?Z.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Z(this).is(":disabled")&&Ei.test(this.nodeName)&&!Pi.test(e)&&(this.checked||!kt.test(e))}).map(function(e,t){var i=Z(this).val();return null==i?null:Z.isArray(i)?Z.map(i,function(e){return{name:t.name,value:e.replace(Si,"\r\n")}}):{name:t.name,value:i.replace(Si,"\r\n")}}).get()}}),Z.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Ai=0,Di={},ji={0:200,1223:204},Oi=Z.ajaxSettings.xhr();e.ActiveXObject&&Z(e).on("unload",function(){for(var e in Di)Di[e]()}),Q.cors=!!Oi&&"withCredentials"in Oi,Q.ajax=Oi=!!Oi,Z.ajaxTransport(function(e){var t;return Q.cors||Oi&&!e.crossDomain?{send:function(i,n){var o,s=e.xhr(),r=++Ai;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)s[o]=e.xhrFields[o];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(o in i)s.setRequestHeader(o,i[o]);t=function(e){return function(){t&&(delete Di[r],t=s.onload=s.onerror=null,"abort"===e?s.abort():"error"===e?n(s.status,s.statusText):n(ji[s.status]||s.status,s.statusText,"string"==typeof s.responseText?{text:s.responseText}:void 0,s.getAllResponseHeaders()))}},s.onload=t(),s.onerror=t("error"),t=Di[r]=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(a){if(t)throw a}},abort:function(){t&&t()}}:void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Z.globalEval(e),e}}}),Z.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Z.ajaxTransport("script",function(e){if(e.crossDomain){var t,i;return{send:function(n,o){t=Z("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&o("error"===e.type?404:200,e.type)}),J.head.appendChild(t[0])},abort:function(){i&&i()}}}});var Fi=[],Ii=/(=)\?(?=&|$)|\?\?/;Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Fi.pop()||Z.expando+"_"+ui++;return this[e]=!0,e}}),Z.ajaxPrefilter("json jsonp",function(t,i,n){var o,s,r,a=t.jsonp!==!1&&(Ii.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ii.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(o=t.jsonpCallback=Z.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Ii,"$1"+o):t.jsonp!==!1&&(t.url+=(ci.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return r||Z.error(o+" was not called"),r[0]},t.dataTypes[0]="json",s=e[o],e[o]=function(){r=arguments},n.always(function(){e[o]=s,t[o]&&(t.jsonpCallback=i.jsonpCallback,Fi.push(o)),r&&Z.isFunction(s)&&s(r[0]),r=s=void 0}),"script"):void 0}),Z.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||J;var n=rt.exec(e),o=!i&&[];return n?[t.createElement(n[1])]:(n=Z.buildFragment([e],t,o),o&&o.length&&Z(o).remove(),Z.merge([],n.childNodes))};var Ni=Z.fn.load;Z.fn.load=function(e,t,i){if("string"!=typeof e&&Ni)return Ni.apply(this,arguments);var n,o,s,r=this,a=e.indexOf(" ");return a>=0&&(n=Z.trim(e.slice(a)),e=e.slice(0,a)),Z.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(o="POST"),r.length>0&&Z.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){s=arguments,r.html(n?Z("<div>").append(Z.parseHTML(e)).find(n):e)}).complete(i&&function(e,t){r.each(i,s||[e.responseText,t,e])}),this},Z.expr.filters.animated=function(e){return Z.grep(Z.timers,function(t){return e===t.elem}).length};var Li=e.document.documentElement;Z.offset={setOffset:function(e,t,i){var n,o,s,r,a,l,u,c=Z.css(e,"position"),h=Z(e),d={};"static"===c&&(e.style.position="relative"),a=h.offset(),s=Z.css(e,"top"),l=Z.css(e,"left"),u=("absolute"===c||"fixed"===c)&&(s+l).indexOf("auto")>-1,u?(n=h.position(),r=n.top,o=n.left):(r=parseFloat(s)||0,o=parseFloat(l)||0),Z.isFunction(t)&&(t=t.call(e,i,a)),null!=t.top&&(d.top=t.top-a.top+r),null!=t.left&&(d.left=t.left-a.left+o),"using"in t?t.using.call(e,d):h.css(d)}},Z.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Z.offset.setOffset(this,e,t)});var t,i,n=this[0],o={top:0,left:0},s=n&&n.ownerDocument;return s?(t=s.documentElement,Z.contains(t,n)?(typeof n.getBoundingClientRect!==Tt&&(o=n.getBoundingClientRect()),i=B(s),{top:o.top+i.pageYOffset-t.clientTop,left:o.left+i.pageXOffset-t.clientLeft}):o):void 0},position:function(){if(this[0]){var e,t,i=this[0],n={top:0,left:0};return"fixed"===Z.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Z.nodeName(e[0],"html")||(n=e.offset()),n.top+=Z.css(e[0],"borderTopWidth",!0),n.left+=Z.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-Z.css(i,"marginTop",!0),left:t.left-n.left-Z.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Li;e&&!Z.nodeName(e,"html")&&"static"===Z.css(e,"position");)e=e.offsetParent;return e||Li})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var n="pageYOffset"===i;Z.fn[t]=function(o){return gt(this,function(t,o,s){var r=B(t);return void 0===s?r?r[i]:t[o]:void(r?r.scrollTo(n?e.pageXOffset:s,n?s:e.pageYOffset):t[o]=s)},t,o,arguments.length,null)}}),Z.each(["top","left"],function(e,t){Z.cssHooks[t]=_(Q.pixelPosition,function(e,i){return i?(i=w(e,t),Ht.test(i)?Z(e).position()[t]+"px":i):void 0})}),Z.each({Height:"height",Width:"width"},function(e,t){Z.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){Z.fn[n]=function(n,o){var s=arguments.length&&(i||"boolean"!=typeof n),r=i||(n===!0||o===!0?"margin":"border");return gt(this,function(t,i,n){var o;return Z.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===n?Z.css(t,i,r):Z.style(t,i,n,r)},t,s?n:void 0,s,null)}})}),Z.fn.size=function(){return this.length},Z.fn.andSelf=Z.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Z});var qi=e.jQuery,Mi=e.$;return Z.noConflict=function(t){return e.$===Z&&(e.$=Mi),t&&e.jQuery===Z&&(e.jQuery=qi),Z},typeof t===Tt&&(e.jQuery=e.$=Z),Z}),define("jquerymobile.config",["jquery"],function(e){"use strict";e(document).on("mobileinit",function(){e.mobile.ajaxEnabled=!1,e.mobile.hashListeningEnabled=!1,e.mobile.pushStateEnabled=!1,e.mobile.linkBindingEnabled=!1})}),!function(e,t,i){"function"==typeof define&&define.amd?define("jquerymobile",["jquery"],function(n){return i(n,e,t),n.mobile}):i(e.jQuery,e,t)}(this,document,function(e,t,i){!function(e){e.mobile={}}(e),function(e,t){function n(t,i){var n,s,r,a=t.nodeName.toLowerCase();return"area"===a?(n=t.parentNode,s=n.name,t.href&&s&&"map"===n.nodeName.toLowerCase()?(r=e("img[usemap=#"+s+"]")[0],!!r&&o(r)):!1):(/input|select|textarea|button|object/.test(a)?!t.disabled:"a"===a?t.href||i:i)&&o(t)}function o(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var s=0,r=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"c0ab71056b936627e8a7821f03c044aec6280a40",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(i,n){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),n&&n.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(this[0].ownerDocument||i):t},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++s)})},removeUniqueId:function(){return this.each(function(){r.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var i=e.attr(t,"tabindex"),o=isNaN(i);return(o||i>=0)&&n(t,!o)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(i,n){function o(t,i,n,o){return e.each(s,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),o&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var s="Width"===n?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(i){return i===t?a["inner"+n].call(this):this.each(function(){e(this).css(r,o(this,i)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?a["outer"+n].call(this,t):this.each(function(){e(this).css(r,o(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in i.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var o,s,r=e(this[0]);r.length&&r[0]!==i;){if(o=r.css("position"),("absolute"===o||"relative"===o||"fixed"===o)&&(s=parseInt(r.css("zIndex"),10),!isNaN(s)&&0!==s))return s;r=r.parent()}return 0}}),e.ui.plugin={add:function(t,i,n){var o,s=e.ui[t].prototype;for(o in n)s.plugins[o]=s.plugins[o]||[],s.plugins[o].push([i,n[o]])},call:function(e,t,i,n){var o,s=e.plugins[t];if(s&&(n||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(o=0;o<s.length;o++)e.options[s[o][0]]&&s[o][1].apply(e.element,i)}}}(e),function(e,t){var n=function(t,i){var n=t.parent(),o=[],s=function(){var t=e(this),i=e.mobile.toolbar&&t.data("mobile-toolbar")?t.toolbar("option"):{position:t.attr("data-"+e.mobile.ns+"position"),updatePagePadding:t.attr("data-"+e.mobile.ns+"update-page-padding")!==!1};return"fixed"!==i.position||i.updatePagePadding!==!0},r=n.children(":jqmData(role='header')").filter(s),a=t.children(":jqmData(role='header')"),l=n.children(":jqmData(role='footer')").filter(s),u=t.children(":jqmData(role='footer')");return 0===a.length&&r.length>0&&(o=o.concat(r.toArray())),0===u.length&&l.length>0&&(o=o.concat(l.toArray())),e.each(o,function(t,n){i-=e(n).outerHeight()}),Math.max(0,i)};e.extend(e.mobile,{window:e(t),document:e(i),keyCode:e.ui.keyCode,behaviors:{},silentScroll:function(i){"number"!==e.type(i)&&(i=e.mobile.defaultHomeScroll),e.event.special.scrollstart.enabled=!1,setTimeout(function(){t.scrollTo(0,i),e.mobile.document.trigger("silentscroll",{x:0,y:i})},20),setTimeout(function(){e.event.special.scrollstart.enabled=!0},150)},getClosestBaseUrl:function(t){var i=e(t).closest(".ui-page").jqmData("url"),n=e.mobile.path.documentBase.hrefNoHash;return e.mobile.dynamicBaseEnabled&&i&&e.mobile.path.isPath(i)||(i=n),e.mobile.path.makeUrlAbsolute(i,n)},removeActiveLinkClass:function(t){!e.mobile.activeClickedLink||e.mobile.activeClickedLink.closest("."+e.mobile.activePageClass).length&&!t||e.mobile.activeClickedLink.removeClass(e.mobile.activeBtnClass),e.mobile.activeClickedLink=null},getInheritedTheme:function(e,t){for(var i,n,o=e[0],s="",r=/ui-(bar|body|overlay)-([a-z])\b/;o&&(i=o.className||"",!(i&&(n=r.exec(i))&&(s=n[2])));)o=o.parentNode;return s||t||"a"},enhanceable:function(e){return this.haveParents(e,"enhance")},hijackable:function(e){return this.haveParents(e,"ajax")},haveParents:function(t,i){if(!e.mobile.ignoreContentEnabled)return t;var n,o,s,r,a,l=t.length,u=e();for(r=0;l>r;r++){for(o=t.eq(r),s=!1,n=t[r];n;){if(a=n.getAttribute?n.getAttribute("data-"+e.mobile.ns+i):"","false"===a){s=!0;break}n=n.parentNode}s||(u=u.add(o))}return u},getScreenHeight:function(){return t.innerHeight||e.mobile.window.height()},resetActivePageHeight:function(t){var i=e("."+e.mobile.activePageClass),o=i.height(),s=i.outerHeight(!0);t=n(i,"number"==typeof t?t:e.mobile.getScreenHeight()),i.css("min-height",""),i.height()<t&&i.css("min-height",t-(s-o))},loading:function(){var t=this.loading._widget||e(e.mobile.loader.prototype.defaultHtml).loader(),i=t.loader.apply(t,arguments);return this.loading._widget=t,i}}),e.addDependents=function(t,i){var n=e(t),o=n.jqmData("dependents")||e();n.jqmData("dependents",e(o).add(i))},e.fn.extend({removeWithDependents:function(){e.removeWithDependents(this)},enhanceWithin:function(){var t,i={},n=e.mobile.page.prototype.keepNativeSelector(),o=this;e.mobile.nojs&&e.mobile.nojs(this),e.mobile.links&&e.mobile.links(this),e.mobile.degradeInputsWithin&&e.mobile.degradeInputsWithin(this),e.fn.buttonMarkup&&this.find(e.fn.buttonMarkup.initSelector).not(n).jqmEnhanceable().buttonMarkup(),e.fn.fieldcontain&&this.find(":jqmData(role='fieldcontain')").not(n).jqmEnhanceable().fieldcontain(),e.each(e.mobile.widgets,function(t,s){if(s.initSelector){var r=e.mobile.enhanceable(o.find(s.initSelector));r.length>0&&(r=r.not(n)),r.length>0&&(i[s.prototype.widgetName]=r)}});for(t in i)i[t][t]();return this},addDependents:function(t){e.addDependents(this,t)},getEncodedText:function(){return e("<a>").text(this.text()).html()},jqmEnhanceable:function(){return e.mobile.enhanceable(this)},jqmHijackable:function(){return e.mobile.hijackable(this)}}),e.removeWithDependents=function(t){var i=e(t);(i.jqmData("dependents")||e()).remove(),i.remove()},e.addDependents=function(t,i){var n=e(t),o=n.jqmData("dependents")||e();n.jqmData("dependents",e(o).add(i))},e.find.matches=function(t,i){return e.find(t,null,null,i)},e.find.matchesSelector=function(t,i){return e.find(i,null,null,[t]).length>0}}(e,this),function(e){e.extend(e.mobile,{version:"1.4.5",subPageUrlKey:"ui-page",hideUrlBar:!0,keepNative:":jqmData(role='none'), :jqmData(role='nojs')",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,minScrollBack:0,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"a",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,buttonMarkup:{hoverDelay:200},dynamicBaseEnabled:!0,pageContainer:e(),allowCrossDomainPages:!1,dialogHashKey:"&ui-state=dialog"})}(e,this),function(e,t){var i=0,n=Array.prototype.slice,o=e.cleanData;e.cleanData=function(t){for(var i,n=0;null!=(i=t[n]);n++)try{e(i).triggerHandler("remove")}catch(s){}o(t)},e.widget=function(t,i,n){var o,s,r,a,l={},u=t.split(".")[0];return t=t.split(".")[1],o=u+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][o.toLowerCase()]=function(t){return!!e.data(t,o)},e[u]=e[u]||{},s=e[u][t],r=e[u][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new r(e,t)},e.extend(r,s,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),a=new i,a.options=e.widget.extend({},a.options),e.each(n,function(t,n){return e.isFunction(n)?void(l[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},o=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,s=this._superApply;return this._super=e,this._superApply=o,t=n.apply(this,arguments),this._super=i,this._superApply=s,t
}}()):void(l[t]=n)}),r.prototype=e.widget.extend(a,{widgetEventPrefix:s?a.widgetEventPrefix||t:t},l,{constructor:r,namespace:u,widgetName:t,widgetFullName:o}),s?(e.each(s._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,r,i._proto)}),delete s._childConstructors):i._childConstructors.push(r),e.widget.bridge(t,r),r},e.widget.extend=function(i){for(var o,s,r=n.call(arguments,1),a=0,l=r.length;l>a;a++)for(o in r[a])s=r[a][o],r[a].hasOwnProperty(o)&&s!==t&&(i[o]=e.isPlainObject(s)?e.isPlainObject(i[o])?e.widget.extend({},i[o],s):e.widget.extend({},s):s);return i},e.widget.bridge=function(i,o){var s=o.prototype.widgetFullName||i;e.fn[i]=function(r){var a="string"==typeof r,l=n.call(arguments,1),u=this;return r=!a&&l.length?e.widget.extend.apply(null,[r].concat(l)):r,this.each(a?function(){var n,o=e.data(this,s);return"instance"===r?(u=o,!1):o?e.isFunction(o[r])&&"_"!==r.charAt(0)?(n=o[r].apply(o,l),n!==o&&n!==t?(u=n&&n.jquery?u.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+r+"' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+r+"'")}:function(){var t=e.data(this,s);t?t.option(r||{})._init():e.data(this,s,new o(r,this))}),u}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(i,n){var o,s,r,a=i;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof i)if(a={},o=i.split("."),i=o.shift(),o.length){for(s=a[i]=e.widget.extend({},this.options[i]),r=0;r<o.length-1;r++)s[o[r]]=s[o[r]]||{},s=s[o[r]];if(i=o.pop(),n===t)return s[i]===t?null:s[i];s[i]=n}else{if(n===t)return this.options[i]===t?null:this.options[i];a[i]=n}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,n){var o,s=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=o=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,o=this.widget()),e.each(n,function(n,r){function a(){return t||s.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof r?s[r]:r).apply(s,arguments):void 0}"string"!=typeof r&&(a.guid=r.guid=r.guid||a.guid||e.guid++);var l=n.match(/^(\w+)\s*(.*)$/),u=l[1]+s.eventNamespace,c=l[2];c?o.delegate(c,u,a):i.bind(u,a)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var o,s,r=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],s=i.originalEvent)for(o in s)o in i||(i[o]=s[o]);return this.element.trigger(i,n),!(e.isFunction(r)&&r.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,o,s){"string"==typeof o&&(o={effect:o});var r,a=o?o===!0||"number"==typeof o?i:o.effect||i:t;o=o||{},"number"==typeof o&&(o={duration:o}),r=!e.isEmptyObject(o),o.complete=s,o.delay&&n.delay(o.delay),r&&e.effects&&e.effects.effect[a]?n[t](o):a!==t&&n[a]?n[a](o.duration,o.easing,s):n.queue(function(i){e(this)[t](),s&&s.call(n[0]),i()})}})}(e),function(e,t,i){var n={},o=e.find,s=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,r=/:jqmData\(([^)]*)\)/g;e.extend(e.mobile,{ns:"",getAttribute:function(t,i){var n;t=t.jquery?t[0]:t,t&&t.getAttribute&&(n=t.getAttribute("data-"+e.mobile.ns+i));try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:s.test(n)?JSON.parse(n):n}catch(o){}return n},nsNormalizeDict:n,nsNormalize:function(t){return n[t]||(n[t]=e.camelCase(e.mobile.ns+t))},closestPageData:function(e){return e.closest(":jqmData(role='page'), :jqmData(role='dialog')").data("mobile-page")}}),e.fn.jqmData=function(t,n){var o;return"undefined"!=typeof t&&(t&&(t=e.mobile.nsNormalize(t)),o=arguments.length<2||n===i?this.data(t):this.data(t,n)),o},e.jqmData=function(t,i,n){var o;return"undefined"!=typeof i&&(o=e.data(t,i?e.mobile.nsNormalize(i):i,n)),o},e.fn.jqmRemoveData=function(t){return this.removeData(e.mobile.nsNormalize(t))},e.jqmRemoveData=function(t,i){return e.removeData(t,e.mobile.nsNormalize(i))},e.find=function(t,i,n,s){return t.indexOf(":jqmData")>-1&&(t=t.replace(r,"[data-"+(e.mobile.ns||"")+"$1]")),o.call(this,t,i,n,s)},e.extend(e.find,o)}(e,this),function(e){var t=/[A-Z]/g,i=function(e){return"-"+e.toLowerCase()};e.extend(e.Widget.prototype,{_getCreateOptions:function(){var n,o,s=this.element[0],r={};if(!e.mobile.getAttribute(s,"defaults"))for(n in this.options)o=e.mobile.getAttribute(s,n.replace(t,i)),null!=o&&(r[n]=o);return r}}),e.mobile.widget=e.Widget}(e),function(e){var t="ui-loader",i=e("html");e.widget("mobile.loader",{options:{theme:"a",textVisible:!1,html:"",text:"loading"},defaultHtml:"<div class='"+t+"'><span class='ui-icon-loading'></span><h1></h1></div>",fakeFixLoader:function(){var t=e("."+e.mobile.activeBtnClass).first();this.element.css({top:e.support.scrollTop&&this.window.scrollTop()+this.window.height()/2||t.length&&t.offset().top||100})},checkLoaderPosition:function(){var t=this.element.offset(),i=this.window.scrollTop(),n=e.mobile.getScreenHeight();(t.top<i||t.top-i>n)&&(this.element.addClass("ui-loader-fakefix"),this.fakeFixLoader(),this.window.unbind("scroll",this.checkLoaderPosition).bind("scroll",e.proxy(this.fakeFixLoader,this)))},resetHtml:function(){this.element.html(e(this.defaultHtml).html())},show:function(n,o,s){var r,a,l;this.resetHtml(),"object"===e.type(n)?(l=e.extend({},this.options,n),n=l.theme):(l=this.options,n=n||l.theme),a=o||(l.text===!1?"":l.text),i.addClass("ui-loading"),r=l.textVisible,this.element.attr("class",t+" ui-corner-all ui-body-"+n+" ui-loader-"+(r||o||n.text?"verbose":"default")+(l.textonly||s?" ui-loader-textonly":"")),l.html?this.element.html(l.html):this.element.find("h1").text(a),this.element.appendTo(e(e.mobile.pagecontainer?":mobile-pagecontainer":"body")),this.checkLoaderPosition(),this.window.bind("scroll",e.proxy(this.checkLoaderPosition,this))},hide:function(){i.removeClass("ui-loading"),this.options.text&&this.element.removeClass("ui-loader-fakefix"),this.window.unbind("scroll",this.fakeFixLoader),this.window.unbind("scroll",this.checkLoaderPosition)}})}(e,this),function(e,t,n){"$:nomunge";function o(e){return e=e||location.href,"#"+e.replace(/^[^#]*#?(.*)$/,"$1")}var s,r="hashchange",a=i,l=e.event.special,u=a.documentMode,c="on"+r in t&&(u===n||u>7);e.fn[r]=function(e){return e?this.bind(r,e):this.trigger(r)},e.fn[r].delay=50,l[r]=e.extend(l[r],{setup:function(){return c?!1:void e(s.start)},teardown:function(){return c?!1:void e(s.stop)}}),s=function(){function i(){var n=o(),a=p(u);n!==u?(d(u=n,a),e(t).trigger(r)):a!==u&&(location.href=location.href.replace(/#.*/,"")+a),s=setTimeout(i,e.fn[r].delay)}var s,l={},u=o(),h=function(e){return e},d=h,p=h;return l.start=function(){s||i()},l.stop=function(){s&&clearTimeout(s),s=n},t.attachEvent&&!t.addEventListener&&!c&&function(){var t,n;l.start=function(){t||(n=e.fn[r].src,n=n&&n+o(),t=e('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){n||d(o()),i()}).attr("src",n||"javascript:0").insertAfter("body")[0].contentWindow,a.onpropertychange=function(){try{"title"===event.propertyName&&(t.document.title=a.title)}catch(e){}})},l.stop=h,p=function(){return o(t.location.href)},d=function(i,n){var o=t.document,s=e.fn[r].domain;i!==n&&(o.title=a.title,o.open(),s&&o.write('<script>document.domain="'+s+'"</script>'),o.close(),t.location.hash=i)}}(),l}()}(e,this),function(e){t.matchMedia=t.matchMedia||function(e){var t,i=e.documentElement,n=i.firstElementChild||i.firstChild,o=e.createElement("body"),s=e.createElement("div");return s.id="mq-test-1",s.style.cssText="position:absolute;top:-100em",o.style.background="none",o.appendChild(s),function(e){return s.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',i.insertBefore(o,n),t=42===s.offsetWidth,i.removeChild(o),{matches:t,media:e}}}(i),e.mobile.media=function(e){return t.matchMedia(e).matches}}(e),function(e){var t={touch:"ontouchend"in i};e.mobile.support=e.mobile.support||{},e.extend(e.support,t),e.extend(e.mobile.support,t)}(e),function(e){e.extend(e.support,{orientation:"orientation"in t&&"onorientationchange"in t})}(e),function(e,n){function o(e){var t,i=e.charAt(0).toUpperCase()+e.substr(1),o=(e+" "+f.join(i+" ")+i).split(" ");for(t in o)if(p[o[t]]!==n)return!0}function s(){var i=t,n=!(!i.document.createElementNS||!i.document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect||i.opera&&-1===navigator.userAgent.indexOf("Chrome")),o=function(t){t&&n||e("html").addClass("ui-nosvg")},s=new i.Image;s.onerror=function(){o(!1)},s.onload=function(){o(1===s.width&&1===s.height)},s.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="}function r(){var o,s,r,a="transform-3d",l=e.mobile.media("(-"+f.join("-"+a+"),(-")+"-"+a+"),("+a+")");if(l)return!!l;o=i.createElement("div"),s={MozTransform:"-moz-transform",transform:"transform"},d.append(o);for(r in s)o.style[r]!==n&&(o.style[r]="translate3d( 100px, 1px, 1px )",l=t.getComputedStyle(o).getPropertyValue(s[r]));return!!l&&"none"!==l}function a(){var t,i,n=location.protocol+"//"+location.host+location.pathname+"ui-dir/",o=e("head base"),s=null,r="";return o.length?r=o.attr("href"):o=s=e("<base>",{href:n}).appendTo("head"),t=e("<a href='testurl' />").prependTo(d),i=t[0].href,o[0].href=r||location.pathname,s&&s.remove(),0===i.indexOf(n)}function l(){var e,n=i.createElement("x"),o=i.documentElement,s=t.getComputedStyle;return"pointerEvents"in n.style?(n.style.pointerEvents="auto",n.style.pointerEvents="x",o.appendChild(n),e=s&&"auto"===s(n,"").pointerEvents,o.removeChild(n),!!e):!1}function u(){var e=i.createElement("div");return"undefined"!=typeof e.getBoundingClientRect}function c(){var e=t,i=navigator.userAgent,n=navigator.platform,o=i.match(/AppleWebKit\/([0-9]+)/),s=!!o&&o[1],r=i.match(/Fennec\/([0-9]+)/),a=!!r&&r[1],l=i.match(/Opera Mobi\/([0-9]+)/),u=!!l&&l[1];return(n.indexOf("iPhone")>-1||n.indexOf("iPad")>-1||n.indexOf("iPod")>-1)&&s&&534>s||e.operamini&&"[object OperaMini]"==={}.toString.call(e.operamini)||l&&7458>u||i.indexOf("Android")>-1&&s&&533>s||a&&6>a||"palmGetResource"in t&&s&&534>s||i.indexOf("MeeGo")>-1&&i.indexOf("NokiaBrowser/8.5.0")>-1?!1:!0}var h,d=e("<body>").prependTo("html"),p=d[0].style,f=["Webkit","Moz","O"],m="palmGetResource"in t,g=t.operamini&&"[object OperaMini]"==={}.toString.call(t.operamini),v=t.blackberry&&!o("-webkit-transform");e.extend(e.mobile,{browser:{}}),e.mobile.browser.oldIE=function(){var e=3,t=i.createElement("div"),n=t.all||[];do t.innerHTML="<!--[if gt IE "+ ++e+"]><br><![endif]-->";while(n[0]);return e>4?e:!e}(),e.extend(e.support,{pushState:"pushState"in history&&"replaceState"in history&&!(t.navigator.userAgent.indexOf("Firefox")>=0&&t.top!==t)&&-1===t.navigator.userAgent.search(/CriOS/),mediaquery:e.mobile.media("only all"),cssPseudoElement:!!o("content"),touchOverflow:!!o("overflowScrolling"),cssTransform3d:r(),boxShadow:!!o("boxShadow")&&!v,fixedPosition:c(),scrollTop:("pageXOffset"in t||"scrollTop"in i.documentElement||"scrollTop"in d[0])&&!m&&!g,dynamicBaseTag:a(),cssPointerEvents:l(),boundingRect:u(),inlineSVG:s}),d.remove(),h=function(){var e=t.navigator.userAgent;return e.indexOf("Nokia")>-1&&(e.indexOf("Symbian/3")>-1||e.indexOf("Series60/5")>-1)&&e.indexOf("AppleWebKit")>-1&&e.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}(),e.mobile.gradeA=function(){return(e.support.mediaquery&&e.support.cssPseudoElement||e.mobile.browser.oldIE&&e.mobile.browser.oldIE>=8)&&(e.support.boundingRect||null!==e.fn.jquery.match(/1\.[0-7+]\.[0-9+]?/))},e.mobile.ajaxBlacklist=t.blackberry&&!t.WebKitPoint||g||h,h&&e(function(){e("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")}),e.support.boxShadow||e("html").addClass("ui-noboxshadow")}(e),function(e,t){var i,n=e.mobile.window,o=function(){};e.event.special.beforenavigate={setup:function(){n.on("navigate",o)},teardown:function(){n.off("navigate",o)}},e.event.special.navigate=i={bound:!1,pushStateEnabled:!0,originalEventName:t,isPushStateEnabled:function(){return e.support.pushState&&e.mobile.pushStateEnabled===!0&&this.isHashChangeEnabled()},isHashChangeEnabled:function(){return e.mobile.hashListeningEnabled===!0},popstate:function(t){var i=new e.Event("navigate"),o=new e.Event("beforenavigate"),s=t.originalEvent.state||{};o.originalEvent=t,n.trigger(o),o.isDefaultPrevented()||(t.historyState&&e.extend(s,t.historyState),i.originalEvent=t,setTimeout(function(){n.trigger(i,{state:s})},0))},hashchange:function(t){var i=new e.Event("navigate"),o=new e.Event("beforenavigate");o.originalEvent=t,n.trigger(o),o.isDefaultPrevented()||(i.originalEvent=t,n.trigger(i,{state:t.hashchangeState||{}}))},setup:function(){i.bound||(i.bound=!0,i.isPushStateEnabled()?(i.originalEventName="popstate",n.bind("popstate.navigate",i.popstate)):i.isHashChangeEnabled()&&(i.originalEventName="hashchange",n.bind("hashchange.navigate",i.hashchange)))}}}(e),function(e,i){var n,o,s="&ui-state=dialog";e.mobile.path=n={uiStateKey:"&ui-state",urlParseRE:/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,getLocation:function(e){var t=this.parseUrl(e||location.href),i=e?t:location,n=t.hash;return n="#"===n?"":n,i.protocol+t.doubleSlash+i.host+(""!==i.protocol&&"/"!==i.pathname.substring(0,1)?"/":"")+i.pathname+i.search+n},getDocumentUrl:function(t){return t?e.extend({},n.documentUrl):n.documentUrl.href},parseLocation:function(){return this.parseUrl(this.getLocation())},parseUrl:function(t){if("object"===e.type(t))return t;var i=n.urlParseRE.exec(t||"")||[];return{href:i[0]||"",hrefNoHash:i[1]||"",hrefNoSearch:i[2]||"",domain:i[3]||"",protocol:i[4]||"",doubleSlash:i[5]||"",authority:i[6]||"",username:i[8]||"",password:i[9]||"",host:i[10]||"",hostname:i[11]||"",port:i[12]||"",pathname:i[13]||"",directory:i[14]||"",filename:i[15]||"",search:i[16]||"",hash:i[17]||""}},makePathAbsolute:function(e,t){var i,n,o,s;if(e&&"/"===e.charAt(0))return e;for(e=e||"",t=t?t.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"",i=t?t.split("/"):[],n=e.split("/"),o=0;o<n.length;o++)switch(s=n[o]){case".":break;case"..":i.length&&i.pop();break;default:i.push(s)}return"/"+i.join("/")},isSameDomain:function(e,t){return n.parseUrl(e).domain.toLowerCase()===n.parseUrl(t).domain.toLowerCase()},isRelativeUrl:function(e){return""===n.parseUrl(e).protocol},isAbsoluteUrl:function(e){return""!==n.parseUrl(e).protocol},makeUrlAbsolute:function(e,t){if(!n.isRelativeUrl(e))return e;t===i&&(t=this.documentBase);var o=n.parseUrl(e),s=n.parseUrl(t),r=o.protocol||s.protocol,a=o.protocol?o.doubleSlash:o.doubleSlash||s.doubleSlash,l=o.authority||s.authority,u=""!==o.pathname,c=n.makePathAbsolute(o.pathname||s.filename,s.pathname),h=o.search||!u&&s.search||"",d=o.hash;return r+a+l+c+h+d},addSearchParams:function(t,i){var o=n.parseUrl(t),s="object"==typeof i?e.param(i):i,r=o.search||"?";return o.hrefNoSearch+r+("?"!==r.charAt(r.length-1)?"&":"")+s+(o.hash||"")},convertUrlToDataUrl:function(e){var i=e,o=n.parseUrl(e);return n.isEmbeddedPage(o)?i=o.hash.split(s)[0].replace(/^#/,"").replace(/\?.*$/,""):n.isSameDomain(o,this.documentBase)&&(i=o.hrefNoHash.replace(this.documentBase.domain,"").split(s)[0]),t.decodeURIComponent(i)},get:function(e){return e===i&&(e=n.parseLocation().hash),n.stripHash(e).replace(/[^\/]*\.[^\/*]+$/,"")},set:function(e){location.hash=e},isPath:function(e){return/\//.test(e)},clean:function(e){return e.replace(this.documentBase.domain,"")},stripHash:function(e){return e.replace(/^#/,"")},stripQueryParams:function(e){return e.replace(/\?.*$/,"")},cleanHash:function(e){return n.stripHash(e.replace(/\?.*$/,"").replace(s,""))},isHashValid:function(e){return/^#[^#]+$/.test(e)},isExternal:function(e){var t=n.parseUrl(e);return!!t.protocol&&t.domain.toLowerCase()!==this.documentUrl.domain.toLowerCase()},hasProtocol:function(e){return/^(:?\w+:)/.test(e)},isEmbeddedPage:function(e){var t=n.parseUrl(e);return""!==t.protocol?!this.isPath(t.hash)&&t.hash&&(t.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&t.hrefNoHash===this.documentBase.hrefNoHash):/^#/.test(t.href)},squash:function(e,t){var i,o,s,r,a,l=this.isPath(e),u=this.parseUrl(e),c=u.hash,h="";return t||(l?t=n.getLocation():(a=n.getDocumentUrl(!0),t=n.isPath(a.hash)?n.squash(a.href):a.href)),o=l?n.stripHash(e):e,o=n.isPath(u.hash)?n.stripHash(u.hash):o,r=o.indexOf(this.uiStateKey),r>-1&&(h=o.slice(r),o=o.slice(0,r)),i=n.makeUrlAbsolute(o,t),s=this.parseUrl(i).search,l?((n.isPath(c)||0===c.replace("#","").indexOf(this.uiStateKey))&&(c=""),h&&-1===c.indexOf(this.uiStateKey)&&(c+=h),-1===c.indexOf("#")&&""!==c&&(c="#"+c),i=n.parseUrl(i),i=i.protocol+i.doubleSlash+i.host+i.pathname+s+c):i+=i.indexOf("#")>-1?h:"#"+h,i},isPreservableHash:function(e){return 0===e.replace("#","").indexOf(this.uiStateKey)},hashToSelector:function(e){var t="#"===e.substring(0,1);return t&&(e=e.substring(1)),(t?"#":"")+e.replace(/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g,"\\$1")},getFilePath:function(e){return e&&e.split(s)[0]},isFirstPageUrl:function(t){var o=n.parseUrl(n.makeUrlAbsolute(t,this.documentBase)),s=o.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&o.hrefNoHash===this.documentBase.hrefNoHash,r=e.mobile.firstPage,a=r&&r[0]?r[0].id:i;return s&&(!o.hash||"#"===o.hash||a&&o.hash.replace(/^#/,"")===a)},isPermittedCrossDomainRequest:function(t,i){return e.mobile.allowCrossDomainPages&&("file:"===t.protocol||"content:"===t.protocol)&&-1!==i.search(/^https?:/)}},n.documentUrl=n.parseLocation(),o=e("head").find("base"),n.documentBase=o.length?n.parseUrl(n.makeUrlAbsolute(o.attr("href"),n.documentUrl.href)):n.documentUrl,n.documentBaseDiffers=n.documentUrl.hrefNoHash!==n.documentBase.hrefNoHash,n.getDocumentBase=function(t){return t?e.extend({},n.documentBase):n.documentBase.href},e.extend(e.mobile,{getDocumentUrl:n.getDocumentUrl,getDocumentBase:n.getDocumentBase})}(e),function(e,t){e.mobile.History=function(e,t){this.stack=e||[],this.activeIndex=t||0},e.extend(e.mobile.History.prototype,{getActive:function(){return this.stack[this.activeIndex]},getLast:function(){return this.stack[this.previousIndex]},getNext:function(){return this.stack[this.activeIndex+1]},getPrev:function(){return this.stack[this.activeIndex-1]},add:function(e,t){t=t||{},this.getNext()&&this.clearForward(),t.hash&&-1===t.hash.indexOf("#")&&(t.hash="#"+t.hash),t.url=e,this.stack.push(t),this.activeIndex=this.stack.length-1},clearForward:function(){this.stack=this.stack.slice(0,this.activeIndex+1)},find:function(e,t,i){t=t||this.stack;var n,o,s,r=t.length;for(o=0;r>o;o++)if(n=t[o],(decodeURIComponent(e)===decodeURIComponent(n.url)||decodeURIComponent(e)===decodeURIComponent(n.hash))&&(s=o,i))return s;return s},closest:function(e){var i,n=this.activeIndex;return i=this.find(e,this.stack.slice(0,n)),i===t&&(i=this.find(e,this.stack.slice(n),!0),i=i===t?i:i+n),i},direct:function(i){var n=this.closest(i.url),o=this.activeIndex;n!==t&&(this.activeIndex=n,this.previousIndex=o),o>n?(i.present||i.back||e.noop)(this.getActive(),"back"):n>o?(i.present||i.forward||e.noop)(this.getActive(),"forward"):n===t&&i.missing&&i.missing(this.getActive())}})}(e),function(e){var n=e.mobile.path,o=location.href;e.mobile.Navigator=function(t){this.history=t,this.ignoreInitialHashChange=!0,e.mobile.window.bind({"popstate.history":e.proxy(this.popstate,this),"hashchange.history":e.proxy(this.hashchange,this)})},e.extend(e.mobile.Navigator.prototype,{squash:function(o,s){var r,a,l=n.isPath(o)?n.stripHash(o):o;return a=n.squash(o),r=e.extend({hash:l,url:a},s),t.history.replaceState(r,r.title||i.title,a),r},hash:function(e,t){var i,o,s,r;return i=n.parseUrl(e),o=n.parseLocation(),o.pathname+o.search===i.pathname+i.search?s=i.hash?i.hash:i.pathname+i.search:n.isPath(e)?(r=n.parseUrl(t),s=r.pathname+r.search+(n.isPreservableHash(r.hash)?r.hash.replace("#",""):"")):s=e,s},go:function(o,s,r){var a,l,u,c,h=e.event.special.navigate.isPushStateEnabled();l=n.squash(o),u=this.hash(o,l),r&&u!==n.stripHash(n.parseLocation().hash)&&(this.preventNextHashChange=r),this.preventHashAssignPopState=!0,t.location.hash=u,this.preventHashAssignPopState=!1,a=e.extend({url:l,hash:u,title:i.title},s),h&&(c=new e.Event("popstate"),c.originalEvent={type:"popstate",state:null},this.squash(o,a),r||(this.ignorePopState=!0,e.mobile.window.trigger(c))),this.history.add(a.url,a)},popstate:function(t){var i,s;return e.event.special.navigate.isPushStateEnabled()?this.preventHashAssignPopState?(this.preventHashAssignPopState=!1,void t.stopImmediatePropagation()):this.ignorePopState?void(this.ignorePopState=!1):!t.originalEvent.state&&1===this.history.stack.length&&this.ignoreInitialHashChange&&(this.ignoreInitialHashChange=!1,location.href===o)?void t.preventDefault():(i=n.parseLocation().hash,!t.originalEvent.state&&i?(s=this.squash(i),this.history.add(s.url,s),void(t.historyState=s)):void this.history.direct({url:(t.originalEvent.state||{}).url||i,present:function(i,n){t.historyState=e.extend({},i),t.historyState.direction=n}})):void 0},hashchange:function(t){var o,s;if(e.event.special.navigate.isHashChangeEnabled()&&!e.event.special.navigate.isPushStateEnabled()){if(this.preventNextHashChange)return this.preventNextHashChange=!1,void t.stopImmediatePropagation();o=this.history,s=n.parseLocation().hash,this.history.direct({url:s,present:function(i,n){t.hashchangeState=e.extend({},i),t.hashchangeState.direction=n},missing:function(){o.add(s,{hash:s,title:i.title})}})}}})}(e),function(e){e.mobile.navigate=function(t,i,n){e.mobile.navigate.navigator.go(t,i,n)},e.mobile.navigate.history=new e.mobile.History,e.mobile.navigate.navigator=new e.mobile.Navigator(e.mobile.navigate.history);var t=e.mobile.path.parseLocation();e.mobile.navigate.history.add(t.href,{hash:t.hash})}(e),function(e,t){var n={animation:{},transition:{}},o=i.createElement("a"),s=["","webkit-","moz-","o-"];e.each(["animation","transition"],function(i,r){var a=0===i?r+"-name":r;e.each(s,function(i,s){return o.style[e.camelCase(s+a)]!==t?(n[r].prefix=s,!1):void 0}),n[r].duration=e.camelCase(n[r].prefix+r+"-duration"),n[r].event=e.camelCase(n[r].prefix+r+"-end"),""===n[r].prefix&&(n[r].event=n[r].event.toLowerCase())}),e.support.cssTransitions=n.transition.prefix!==t,e.support.cssAnimations=n.animation.prefix!==t,e(o).remove(),e.fn.animationComplete=function(o,s,r){var a,l,u=this,c=function(){clearTimeout(a),o.apply(this,arguments)},h=s&&"animation"!==s?"transition":"animation";return e.support.cssTransitions&&"transition"===h||e.support.cssAnimations&&"animation"===h?(r===t&&(e(this).context!==i&&(l=3e3*parseFloat(e(this).css(n[h].duration))),(0===l||l===t||isNaN(l))&&(l=e.fn.animationComplete.defaultDuration)),a=setTimeout(function(){e(u).off(n[h].event,c),o.apply(u)},l),e(this).one(n[h].event,c)):(setTimeout(e.proxy(o,this),0),e(this))},e.fn.animationComplete.defaultDuration=1e3}(e),function(e,t,i,n){function o(e){for(;e&&"undefined"!=typeof e.originalEvent;)e=e.originalEvent;return e}function s(t,i){var s,r,a,l,u,c,h,d,p,f=t.type;if(t=e.Event(t),t.type=i,s=t.originalEvent,r=e.event.props,f.search(/^(mouse|click)/)>-1&&(r=D),s)for(h=r.length,l;h;)l=r[--h],t[l]=s[l];if(f.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1),-1!==f.search(/^touch/)&&(a=o(s),f=a.touches,u=a.changedTouches,c=f&&f.length?f[0]:u&&u.length?u[0]:n))for(d=0,p=E.length;p>d;d++)l=E[d],t[l]=c[l];return t}function r(t){for(var i,n,o={};t;){i=e.data(t,T);for(n in i)i[n]&&(o[n]=o.hasVirtualBinding=!0);t=t.parentNode}return o}function a(t,i){for(var n;t;){if(n=e.data(t,T),n&&(!i||n[i]))return t;t=t.parentNode}return null}function l(){M=!1}function u(){M=!0}function c(){U=0,L.length=0,q=!1,u()}function h(){l()}function d(){p(),O=setTimeout(function(){O=0,c()},e.vmouse.resetTimerDuration)}function p(){O&&(clearTimeout(O),O=0)}function f(t,i,n){var o;return(n&&n[t]||!n&&a(i.target,t))&&(o=s(i,t),e(i.target).trigger(o)),o}function m(t){var i,n=e.data(t.target,S);q||U&&U===n||(i=f("v"+t.type,t),i&&(i.isDefaultPrevented()&&t.preventDefault(),i.isPropagationStopped()&&t.stopPropagation(),i.isImmediatePropagationStopped()&&t.stopImmediatePropagation()))}function g(t){var i,n,s,a=o(t).touches;a&&1===a.length&&(i=t.target,n=r(i),n.hasVirtualBinding&&(U=H++,e.data(i,S,U),p(),h(),N=!1,s=o(t).touches[0],F=s.pageX,I=s.pageY,f("vmouseover",t,n),f("vmousedown",t,n)))}function v(e){M||(N||f("vmousecancel",e,r(e.target)),N=!0,d())}function b(t){if(!M){var i=o(t).touches[0],n=N,s=e.vmouse.moveDistanceThreshold,a=r(t.target);N=N||Math.abs(i.pageX-F)>s||Math.abs(i.pageY-I)>s,N&&!n&&f("vmousecancel",t,a),f("vmousemove",t,a),d()}}function y(e){if(!M){u();var t,i,n=r(e.target);f("vmouseup",e,n),N||(t=f("vclick",e,n),t&&t.isDefaultPrevented()&&(i=o(e).changedTouches[0],L.push({touchID:U,x:i.clientX,y:i.clientY}),q=!0)),f("vmouseout",e,n),N=!1,d()}}function w(t){var i,n=e.data(t,T);if(n)for(i in n)if(n[i])return!0;return!1}function _(){}function x(t){var i=t.substr(1);return{setup:function(){w(this)||e.data(this,T,{});var n=e.data(this,T);n[t]=!0,j[t]=(j[t]||0)+1,1===j[t]&&B.bind(i,m),e(this).bind(i,_),R&&(j.touchstart=(j.touchstart||0)+1,1===j.touchstart&&B.bind("touchstart",g).bind("touchend",y).bind("touchmove",b).bind("scroll",v))},teardown:function(){--j[t],j[t]||B.unbind(i,m),R&&(--j.touchstart,j.touchstart||B.unbind("touchstart",g).unbind("touchmove",b).unbind("touchend",y).unbind("scroll",v));var n=e(this),o=e.data(this,T);o&&(o[t]=!1),n.unbind(i,_),w(this)||n.removeData(T)}}}var C,k,T="virtualMouseBindings",S="virtualTouchID",P="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),E="clientX clientY pageX pageY screenX screenY".split(" "),A=e.event.mouseHooks?e.event.mouseHooks.props:[],D=e.event.props.concat(A),j={},O=0,F=0,I=0,N=!1,L=[],q=!1,M=!1,R="addEventListener"in i,B=e(i),H=1,U=0;for(e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},k=0;k<P.length;k++)e.event.special[P[k]]=x(P[k]);R&&i.addEventListener("click",function(t){var i,n,o,s,r,a,l=L.length,u=t.target;if(l)for(i=t.clientX,n=t.clientY,C=e.vmouse.clickDistanceThreshold,o=u;o;){for(s=0;l>s;s++)if(r=L[s],a=0,o===u&&Math.abs(r.x-i)<C&&Math.abs(r.y-n)<C||e.data(o,S)===r.touchID)return t.preventDefault(),void t.stopPropagation();o=o.parentNode}},!0)}(e,t,i),function(e,t,n){function o(t,i,o,s){var r=o.type;o.type=i,s?e.event.trigger(o,n,t):e.event.dispatch.call(t,o),o.type=r}var s=e(i),r=e.mobile.support.touch,a="touchmove scroll",l=r?"touchstart":"mousedown",u=r?"touchend":"mouseup",c=r?"touchmove":"mousemove";e.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,i){e.fn[i]=function(e){return e?this.bind(i,e):this.trigger(i)},e.attrFn&&(e.attrFn[i]=!0)}),e.event.special.scrollstart={enabled:!0,setup:function(){function t(e,t){i=t,o(s,i?"scrollstart":"scrollstop",e)}var i,n,s=this,r=e(s);r.bind(a,function(o){e.event.special.scrollstart.enabled&&(i||t(o,!0),clearTimeout(n),n=setTimeout(function(){t(o,!1)},50))})},teardown:function(){e(this).unbind(a)}},e.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var t=this,i=e(t),n=!1;i.bind("vmousedown",function(r){function a(){clearTimeout(c)}function l(){a(),i.unbind("vclick",u).unbind("vmouseup",a),s.unbind("vmousecancel",l)}function u(e){l(),n||h!==e.target?n&&e.preventDefault():o(t,"tap",e)}if(n=!1,r.which&&1!==r.which)return!1;var c,h=r.target;i.bind("vmouseup",a).bind("vclick",u),s.bind("vmousecancel",l),c=setTimeout(function(){e.event.special.tap.emitTapOnTaphold||(n=!0),o(t,"taphold",e.Event("taphold",{target:h}))},e.event.special.tap.tapholdThreshold)})},teardown:function(){e(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),s.unbind("vmousecancel")}},e.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(e){var i=t.pageXOffset,n=t.pageYOffset,o=e.clientX,s=e.clientY;return 0===e.pageY&&Math.floor(s)>Math.floor(e.pageY)||0===e.pageX&&Math.floor(o)>Math.floor(e.pageX)?(o-=i,s-=n):(s<e.pageY-n||o<e.pageX-i)&&(o=e.pageX-i,s=e.pageY-n),{x:o,y:s}},start:function(t){var i=t.originalEvent.touches?t.originalEvent.touches[0]:t,n=e.event.special.swipe.getLocation(i);return{time:(new Date).getTime(),coords:[n.x,n.y],origin:e(t.target)}},stop:function(t){var i=t.originalEvent.touches?t.originalEvent.touches[0]:t,n=e.event.special.swipe.getLocation(i);return{time:(new Date).getTime(),coords:[n.x,n.y]}},handleSwipe:function(t,i,n,s){if(i.time-t.time<e.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-i.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-i.coords[1])<e.event.special.swipe.verticalDistanceThreshold){var r=t.coords[0]>i.coords[0]?"swipeleft":"swiperight";return o(n,"swipe",e.Event("swipe",{target:s,swipestart:t,swipestop:i}),!0),o(n,r,e.Event(r,{target:s,swipestart:t,swipestop:i}),!0),!0}return!1},eventInProgress:!1,setup:function(){var t,i=this,n=e(i),o={};t=e.data(this,"mobile-events"),t||(t={length:0},e.data(this,"mobile-events",t)),t.length++,t.swipe=o,o.start=function(t){if(!e.event.special.swipe.eventInProgress){e.event.special.swipe.eventInProgress=!0;var n,r=e.event.special.swipe.start(t),a=t.target,l=!1;o.move=function(t){r&&!t.isDefaultPrevented()&&(n=e.event.special.swipe.stop(t),l||(l=e.event.special.swipe.handleSwipe(r,n,i,a),l&&(e.event.special.swipe.eventInProgress=!1)),Math.abs(r.coords[0]-n.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&t.preventDefault())},o.stop=function(){l=!0,e.event.special.swipe.eventInProgress=!1,s.off(c,o.move),o.move=null
},s.on(c,o.move).one(u,o.stop)}},n.on(l,o.start)},teardown:function(){var t,i;t=e.data(this,"mobile-events"),t&&(i=t.swipe,delete t.swipe,t.length--,0===t.length&&e.removeData(this,"mobile-events")),i&&(i.start&&e(this).off(l,i.start),i.move&&s.off(c,i.move),i.stop&&s.off(u,i.stop))}},e.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(t,i){e.event.special[t]={setup:function(){e(this).bind(i,e.noop)},teardown:function(){e(this).unbind(i)}}})}(e,this),function(e){e.event.special.throttledresize={setup:function(){e(this).bind("resize",s)},teardown:function(){e(this).unbind("resize",s)}};var t,i,n,o=250,s=function(){i=(new Date).getTime(),n=i-r,n>=o?(r=i,e(this).trigger("throttledresize")):(t&&clearTimeout(t),t=setTimeout(s,o-n))},r=0}(e),function(e,t){function n(){var e=o();e!==s&&(s=e,h.trigger(d))}var o,s,r,a,l,u,c,h=e(t),d="orientationchange",p={0:!0,180:!0};e.support.orientation&&(l=t.innerWidth||h.width(),u=t.innerHeight||h.height(),c=50,r=l>u&&l-u>c,a=p[t.orientation],(r&&a||!r&&!a)&&(p={"-90":!0,90:!0})),e.event.special.orientationchange=e.extend({},e.event.special.orientationchange,{setup:function(){return e.support.orientation&&!e.event.special.orientationchange.disabled?!1:(s=o(),void h.bind("throttledresize",n))},teardown:function(){return e.support.orientation&&!e.event.special.orientationchange.disabled?!1:void h.unbind("throttledresize",n)},add:function(e){var t=e.handler;e.handler=function(e){return e.orientation=o(),t.apply(this,arguments)}}}),e.event.special.orientationchange.orientation=o=function(){var n=!0,o=i.documentElement;return n=e.support.orientation?p[t.orientation]:o&&o.clientWidth/o.clientHeight<1.1,n?"portrait":"landscape"},e.fn[d]=function(e){return e?this.bind(d,e):this.trigger(d)},e.attrFn&&(e.attrFn[d]=!0)}(e,this),function(e){var t=e("head").children("base"),i={element:t.length?t:e("<base>",{href:e.mobile.path.documentBase.hrefNoHash}).prependTo(e("head")),linkSelector:"[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]",set:function(t){e.mobile.dynamicBaseEnabled&&e.support.dynamicBaseTag&&i.element.attr("href",e.mobile.path.makeUrlAbsolute(t,e.mobile.path.documentBase))},rewrite:function(t,n){var o=e.mobile.path.get(t);n.find(i.linkSelector).each(function(t,i){var n=e(i).is("[href]")?"href":e(i).is("[src]")?"src":"action",s=e.mobile.path.parseLocation(),r=e(i).attr(n);r=r.replace(s.protocol+s.doubleSlash+s.host+s.pathname,""),/^(\w+:|#|\/)/.test(r)||e(i).attr(n,o+r)})},reset:function(){i.element.attr("href",e.mobile.path.documentBase.hrefNoSearch)}};e.mobile.base=i}(e),function(e,t){e.mobile.widgets={};var i=e.widget,n=e.mobile.keepNative;e.widget=function(i){return function(){var n=i.apply(this,arguments),o=n.prototype.widgetName;return n.initSelector=n.prototype.initSelector!==t?n.prototype.initSelector:":jqmData(role='"+o+"')",e.mobile.widgets[o]=n,n}}(e.widget),e.extend(e.widget,i),e.mobile.document.on("create",function(t){e(t.target).enhanceWithin()}),e.widget("mobile.page",{options:{theme:"a",domCache:!1,keepNativeDefault:e.mobile.keepNative,contentTheme:null,enhanced:!1},_createWidget:function(){e.Widget.prototype._createWidget.apply(this,arguments),this._trigger("init")},_create:function(){return this._trigger("beforecreate")===!1?!1:(this.options.enhanced||this._enhance(),this._on(this.element,{pagebeforehide:"removeContainerBackground",pagebeforeshow:"_handlePageBeforeShow"}),this.element.enhanceWithin(),void("dialog"===e.mobile.getAttribute(this.element[0],"role")&&e.mobile.dialog&&this.element.dialog()))},_enhance:function(){var i="data-"+e.mobile.ns,n=this;this.options.role&&this.element.attr("data-"+e.mobile.ns+"role",this.options.role),this.element.attr("tabindex","0").addClass("ui-page ui-page-theme-"+this.options.theme),this.element.find("["+i+"role='content']").each(function(){var o=e(this),s=this.getAttribute(i+"theme")||t;n.options.contentTheme=s||n.options.contentTheme||n.options.dialog&&n.options.theme||"dialog"===n.element.jqmData("role")&&n.options.theme,o.addClass("ui-content"),n.options.contentTheme&&o.addClass("ui-body-"+n.options.contentTheme),o.attr("role","main").addClass("ui-content")})},bindRemove:function(t){var i=this.element;!i.data("mobile-page").options.domCache&&i.is(":jqmData(external-page='true')")&&i.bind("pagehide.remove",t||function(t,i){if(!i.samePage){var n=e(this),o=new e.Event("pageremove");n.trigger(o),o.isDefaultPrevented()||n.removeWithDependents()}})},_setOptions:function(i){i.theme!==t&&this.element.removeClass("ui-page-theme-"+this.options.theme).addClass("ui-page-theme-"+i.theme),i.contentTheme!==t&&this.element.find("[data-"+e.mobile.ns+"='content']").removeClass("ui-body-"+this.options.contentTheme).addClass("ui-body-"+i.contentTheme)},_handlePageBeforeShow:function(){this.setContainerBackground()},removeContainerBackground:function(){this.element.closest(":mobile-pagecontainer").pagecontainer({theme:"none"})},setContainerBackground:function(e){this.element.parent().pagecontainer({theme:e||this.options.theme})},keepNativeSelector:function(){var t=this.options,i=e.trim(t.keepNative||""),o=e.trim(e.mobile.keepNative),s=e.trim(t.keepNativeDefault),r=n===o?"":o,a=""===r?s:"";return(i?[i]:[]).concat(r?[r]:[]).concat(a?[a]:[]).join(", ")}})}(e),function(e,n){e.widget("mobile.pagecontainer",{options:{theme:"a"},initSelector:!1,_create:function(){this._trigger("beforecreate"),this.setLastScrollEnabled=!0,this._on(this.window,{navigate:"_disableRecordScroll",scrollstop:"_delayedRecordScroll"}),this._on(this.window,{navigate:"_filterNavigateEvents"}),this._on({pagechange:"_afterContentChange"}),this.window.one("navigate",e.proxy(function(){this.setLastScrollEnabled=!0},this))},_setOptions:function(e){e.theme!==n&&"none"!==e.theme?this.element.removeClass("ui-overlay-"+this.options.theme).addClass("ui-overlay-"+e.theme):e.theme!==n&&this.element.removeClass("ui-overlay-"+this.options.theme),this._super(e)},_disableRecordScroll:function(){this.setLastScrollEnabled=!1},_enableRecordScroll:function(){this.setLastScrollEnabled=!0},_afterContentChange:function(){this.setLastScrollEnabled=!0,this._off(this.window,"scrollstop"),this._on(this.window,{scrollstop:"_delayedRecordScroll"})},_recordScroll:function(){if(this.setLastScrollEnabled){var e,t,i,n=this._getActiveHistory();n&&(e=this._getScroll(),t=this._getMinScroll(),i=this._getDefaultScroll(),n.lastScroll=t>e?i:e)}},_delayedRecordScroll:function(){setTimeout(e.proxy(this,"_recordScroll"),100)},_getScroll:function(){return this.window.scrollTop()},_getMinScroll:function(){return e.mobile.minScrollBack},_getDefaultScroll:function(){return e.mobile.defaultHomeScroll},_filterNavigateEvents:function(t,i){var n;t.originalEvent&&t.originalEvent.isDefaultPrevented()||(n=t.originalEvent.type.indexOf("hashchange")>-1?i.state.hash:i.state.url,n||(n=this._getHash()),n&&"#"!==n&&0!==n.indexOf("#"+e.mobile.path.uiStateKey)||(n=location.href),this._handleNavigate(n,i.state))},_getHash:function(){return e.mobile.path.parseLocation().hash},getActivePage:function(){return this.activePage},_getInitialContent:function(){return e.mobile.firstPage},_getHistory:function(){return e.mobile.navigate.history},_getActiveHistory:function(){return this._getHistory().getActive()},_getDocumentBase:function(){return e.mobile.path.documentBase},back:function(){this.go(-1)},forward:function(){this.go(1)},go:function(i){if(e.mobile.hashListeningEnabled)t.history.go(i);else{var n=e.mobile.navigate.history.activeIndex,o=n+parseInt(i,10),s=e.mobile.navigate.history.stack[o].url,r=i>=1?"forward":"back";e.mobile.navigate.history.activeIndex=o,e.mobile.navigate.history.previousIndex=n,this.change(s,{direction:r,changeHash:!1,fromHashChange:!0})}},_handleDestination:function(t){var i;return"string"===e.type(t)&&(t=e.mobile.path.stripHash(t)),t&&(i=this._getHistory(),t=e.mobile.path.isPath(t)?t:e.mobile.path.makeUrlAbsolute("#"+t,this._getDocumentBase())),t||this._getInitialContent()},_transitionFromHistory:function(e,t){var i=this._getHistory(),n="back"===e?i.getLast():i.getActive();return n&&n.transition||t},_handleDialog:function(t,i){var n,o,s=this.getActivePage();return s&&!s.data("mobile-dialog")?("back"===i.direction?this.back():this.forward(),!1):(n=i.pageUrl,o=this._getActiveHistory(),e.extend(t,{role:o.role,transition:this._transitionFromHistory(i.direction,t.transition),reverse:"back"===i.direction}),n)},_handleNavigate:function(t,i){var n=e.mobile.path.stripHash(t),o=this._getHistory(),s=0===o.stack.length?"none":this._transitionFromHistory(i.direction),r={changeHash:!1,fromHashChange:!0,reverse:"back"===i.direction};e.extend(r,i,{transition:s}),o.activeIndex>0&&n.indexOf(e.mobile.dialogHashKey)>-1&&(n=this._handleDialog(r,i),n===!1)||this._changeContent(this._handleDestination(n),r)},_changeContent:function(t,i){e.mobile.changePage(t,i)},_getBase:function(){return e.mobile.base},_getNs:function(){return e.mobile.ns},_enhance:function(e,t){return e.page({role:t})},_include:function(e,t){e.appendTo(this.element),this._enhance(e,t.role),e.page("bindRemove")},_find:function(t){var i,n=this._createFileUrl(t),o=this._createDataUrl(t),s=this._getInitialContent();return i=this.element.children("[data-"+this._getNs()+"url='"+e.mobile.path.hashToSelector(o)+"']"),0===i.length&&o&&!e.mobile.path.isPath(o)&&(i=this.element.children(e.mobile.path.hashToSelector("#"+o)).attr("data-"+this._getNs()+"url",o).jqmData("url",o)),0===i.length&&e.mobile.path.isFirstPageUrl(n)&&s&&s.parent().length&&(i=e(s)),i},_getLoader:function(){return e.mobile.loading()},_showLoading:function(t,i,n,o){this._loadMsg||(this._loadMsg=setTimeout(e.proxy(function(){this._getLoader().loader("show",i,n,o),this._loadMsg=0},this),t))},_hideLoading:function(){clearTimeout(this._loadMsg),this._loadMsg=0,this._getLoader().loader("hide")},_showError:function(){this._hideLoading(),this._showLoading(0,e.mobile.pageLoadErrorMessageTheme,e.mobile.pageLoadErrorMessage,!0),setTimeout(e.proxy(this,"_hideLoading"),1500)},_parse:function(t,i){var n,o=e("<div></div>");return o.get(0).innerHTML=t,n=o.find(":jqmData(role='page'), :jqmData(role='dialog')").first(),n.length||(n=e("<div data-"+this._getNs()+"role='page'>"+(t.split(/<\/?body[^>]*>/gim)[1]||"")+"</div>")),n.attr("data-"+this._getNs()+"url",this._createDataUrl(i)).attr("data-"+this._getNs()+"external-page",!0),n},_setLoadedTitle:function(t,i){var n=i.match(/<title[^>]*>([^<]*)/)&&RegExp.$1;n&&!t.jqmData("title")&&(n=e("<div>"+n+"</div>").text(),t.jqmData("title",n))},_isRewritableBaseTag:function(){return e.mobile.dynamicBaseEnabled&&!e.support.dynamicBaseTag},_createDataUrl:function(t){return e.mobile.path.convertUrlToDataUrl(t)},_createFileUrl:function(t){return e.mobile.path.getFilePath(t)},_triggerWithDeprecated:function(t,i,n){var o=e.Event("page"+t),s=e.Event(this.widgetName+t);return(n||this.element).trigger(o,i),this._trigger(t,s,i),{deprecatedEvent:o,event:s}},_loadSuccess:function(t,i,o,s){var r=this._createFileUrl(t);return e.proxy(function(a,l,u){var c,h=new RegExp("(<[^>]+\\bdata-"+this._getNs()+"role=[\"']?page[\"']?[^>]*>)"),d=new RegExp("\\bdata-"+this._getNs()+"url=[\"']?([^\"'>]*)[\"']?");h.test(a)&&RegExp.$1&&d.test(RegExp.$1)&&RegExp.$1&&(r=e.mobile.path.getFilePath(e("<div>"+RegExp.$1+"</div>").text()),r=this.window[0].encodeURIComponent(r)),o.prefetch===n&&this._getBase().set(r),c=this._parse(a,r),this._setLoadedTitle(c,a),i.xhr=u,i.textStatus=l,i.page=c,i.content=c,i.toPage=c,this._triggerWithDeprecated("load",i).event.isDefaultPrevented()||(this._isRewritableBaseTag()&&c&&this._getBase().rewrite(r,c),this._include(c,o),o.showLoadMsg&&this._hideLoading(),s.resolve(t,o,c))},this)},_loadDefaults:{type:"get",data:n,reloadPage:!1,reload:!1,role:n,showLoadMsg:!1,loadMsgDelay:50},load:function(t,i){var o,s,r,a,l=i&&i.deferred||e.Deferred(),u=i&&i.reload===n&&i.reloadPage!==n?{reload:i.reloadPage}:{},c=e.extend({},this._loadDefaults,i,u),h=null,d=e.mobile.path.makeUrlAbsolute(t,this._findBaseWithDefault());return c.data&&"get"===c.type&&(d=e.mobile.path.addSearchParams(d,c.data),c.data=n),c.data&&"post"===c.type&&(c.reload=!0),o=this._createFileUrl(d),s=this._createDataUrl(d),h=this._find(d),0===h.length&&e.mobile.path.isEmbeddedPage(o)&&!e.mobile.path.isFirstPageUrl(o)?(l.reject(d,c),l.promise()):(this._getBase().reset(),h.length&&!c.reload?(this._enhance(h,c.role),l.resolve(d,c,h),c.prefetch||this._getBase().set(t),l.promise()):(a={url:t,absUrl:d,toPage:t,prevPage:i?i.fromPage:n,dataUrl:s,deferred:l,options:c},r=this._triggerWithDeprecated("beforeload",a),r.deprecatedEvent.isDefaultPrevented()||r.event.isDefaultPrevented()?l.promise():(c.showLoadMsg&&this._showLoading(c.loadMsgDelay),c.prefetch===n&&this._getBase().reset(),e.mobile.allowCrossDomainPages||e.mobile.path.isSameDomain(e.mobile.path.documentUrl,d)?(e.ajax({url:o,type:c.type,data:c.data,contentType:c.contentType,dataType:"html",success:this._loadSuccess(d,a,c,l),error:this._loadError(d,a,c,l)}),l.promise()):(l.reject(d,c),l.promise()))))},_loadError:function(t,i,n,o){return e.proxy(function(s,r,a){this._getBase().set(e.mobile.path.get()),i.xhr=s,i.textStatus=r,i.errorThrown=a;var l=this._triggerWithDeprecated("loadfailed",i);l.deprecatedEvent.isDefaultPrevented()||l.event.isDefaultPrevented()||(n.showLoadMsg&&this._showError(),o.reject(t,n))},this)},_getTransitionHandler:function(t){return t=e.mobile._maybeDegradeTransition(t),e.mobile.transitionHandlers[t]||e.mobile.defaultTransitionHandler},_triggerCssTransitionEvents:function(t,i,n){var o=!1;n=n||"",i&&(t[0]===i[0]&&(o=!0),this._triggerWithDeprecated(n+"hide",{nextPage:t,toPage:t,prevPage:i,samePage:o},i)),this._triggerWithDeprecated(n+"show",{prevPage:i||e(""),toPage:t},t)},_cssTransition:function(t,i,n){var o,s,r=n.transition,a=n.reverse,l=n.deferred;this._triggerCssTransitionEvents(t,i,"before"),this._hideLoading(),o=this._getTransitionHandler(r),s=new o(r,a,t,i).transition(),s.done(e.proxy(function(){this._triggerCssTransitionEvents(t,i)},this)),s.done(function(){l.resolve.apply(l,arguments)})},_releaseTransitionLock:function(){s=!1,o.length>0&&e.mobile.changePage.apply(null,o.pop())},_removeActiveLinkClass:function(t){e.mobile.removeActiveLinkClass(t)},_loadUrl:function(t,i,n){n.target=t,n.deferred=e.Deferred(),this.load(t,n),n.deferred.done(e.proxy(function(e,t,n){s=!1,t.absUrl=i.absUrl,this.transition(n,i,t)},this)),n.deferred.fail(e.proxy(function(){this._removeActiveLinkClass(!0),this._releaseTransitionLock(),this._triggerWithDeprecated("changefailed",i)},this))},_triggerPageBeforeChange:function(t,i,n){var o;return i.prevPage=this.activePage,e.extend(i,{toPage:t,options:n}),i.absUrl="string"===e.type(t)?e.mobile.path.makeUrlAbsolute(t,this._findBaseWithDefault()):n.absUrl,o=this._triggerWithDeprecated("beforechange",i),o.event.isDefaultPrevented()||o.deprecatedEvent.isDefaultPrevented()?!1:!0},change:function(t,i){if(s)return void o.unshift(arguments);var n=e.extend({},e.mobile.changePage.defaults,i),r={};n.fromPage=n.fromPage||this.activePage,this._triggerPageBeforeChange(t,r,n)&&(t=r.toPage,"string"===e.type(t)?(s=!0,this._loadUrl(t,r,n)):this.transition(t,r,n))},transition:function(t,r,a){var l,u,c,h,d,p,f,m,g,v,b,y,w,_;if(s)return void o.unshift([t,a]);if(this._triggerPageBeforeChange(t,r,a)&&(r.prevPage=a.fromPage,_=this._triggerWithDeprecated("beforetransition",r),!_.deprecatedEvent.isDefaultPrevented()&&!_.event.isDefaultPrevented())){if(s=!0,t[0]!==e.mobile.firstPage[0]||a.dataUrl||(a.dataUrl=e.mobile.path.documentUrl.hrefNoHash),l=a.fromPage,u=a.dataUrl&&e.mobile.path.convertUrlToDataUrl(a.dataUrl)||t.jqmData("url"),c=u,h=e.mobile.path.getFilePath(u),d=e.mobile.navigate.history.getActive(),p=0===e.mobile.navigate.history.activeIndex,f=0,m=i.title,g=("dialog"===a.role||"dialog"===t.jqmData("role"))&&t.jqmData("dialog")!==!0,l&&l[0]===t[0]&&!a.allowSamePageTransition)return s=!1,this._triggerWithDeprecated("transition",r),this._triggerWithDeprecated("change",r),void(a.fromHashChange&&e.mobile.navigate.history.direct({url:u}));t.page({role:a.role}),a.fromHashChange&&(f="back"===a.direction?-1:1);try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()?e(i.activeElement).blur():e("input:focus, textarea:focus, select:focus").blur()}catch(x){}v=!1,g&&d&&(d.url&&d.url.indexOf(e.mobile.dialogHashKey)>-1&&this.activePage&&!this.activePage.hasClass("ui-dialog")&&e.mobile.navigate.history.activeIndex>0&&(a.changeHash=!1,v=!0),u=d.url||"",u+=!v&&u.indexOf("#")>-1?e.mobile.dialogHashKey:"#"+e.mobile.dialogHashKey),b=d?t.jqmData("title")||t.children(":jqmData(role='header')").find(".ui-title").text():m,b&&m===i.title&&(m=b),t.jqmData("title")||t.jqmData("title",m),a.transition=a.transition||(f&&!p?d.transition:n)||(g?e.mobile.defaultDialogTransition:e.mobile.defaultPageTransition),!f&&v&&(e.mobile.navigate.history.getActive().pageUrl=c),u&&!a.fromHashChange&&(!e.mobile.path.isPath(u)&&u.indexOf("#")<0&&(u="#"+u),y={transition:a.transition,title:m,pageUrl:c,role:a.role},a.changeHash!==!1&&e.mobile.hashListeningEnabled?e.mobile.navigate(this.window[0].encodeURI(u),y,!0):t[0]!==e.mobile.firstPage[0]&&e.mobile.navigate.history.add(u,y)),i.title=m,e.mobile.activePage=t,this.activePage=t,a.reverse=a.reverse||0>f,w=e.Deferred(),this._cssTransition(t,l,{transition:a.transition,reverse:a.reverse,deferred:w}),w.done(e.proxy(function(i,n,o,s,l){e.mobile.removeActiveLinkClass(),a.duplicateCachedPage&&a.duplicateCachedPage.remove(),l||e.mobile.focusPage(t),this._releaseTransitionLock(),this._triggerWithDeprecated("transition",r),this._triggerWithDeprecated("change",r)},this))}},_findBaseWithDefault:function(){var t=this.activePage&&e.mobile.getClosestBaseUrl(this.activePage);return t||e.mobile.path.documentBase.hrefNoHash}}),e.mobile.navreadyDeferred=e.Deferred();var o=[],s=!1}(e),function(e,n){function o(e){for(;e&&("string"!=typeof e.nodeName||"a"!==e.nodeName.toLowerCase());)e=e.parentNode;return e}var s=e.Deferred(),r=e.Deferred(),a=function(){r.resolve(),r=null},l=e.mobile.path.documentUrl,u=null;e.mobile.loadPage=function(t,i){var n;return i=i||{},n=i.pageContainer||e.mobile.pageContainer,i.deferred=e.Deferred(),n.pagecontainer("load",t,i),i.deferred.promise()},e.mobile.back=function(){var i=t.navigator;this.phonegapNavigationEnabled&&i&&i.app&&i.app.backHistory?i.app.backHistory():e.mobile.pageContainer.pagecontainer("back")},e.mobile.focusPage=function(e){var t=e.find("[autofocus]"),i=e.find(".ui-title:eq(0)");return t.length?void t.focus():void(i.length?i.focus():e.focus())},e.mobile._maybeDegradeTransition=e.mobile._maybeDegradeTransition||function(e){return e},e.mobile.changePage=function(t,i){e.mobile.pageContainer.pagecontainer("change",t,i)},e.mobile.changePage.defaults={transition:n,reverse:!1,changeHash:!0,fromHashChange:!1,role:n,duplicateCachedPage:n,pageContainer:n,showLoadMsg:!0,dataUrl:n,fromPage:n,allowSamePageTransition:!1},e.mobile._registerInternalEvents=function(){var i=function(t,i){var n,o,s,r,a=!0;return!e.mobile.ajaxEnabled||t.is(":jqmData(ajax='false')")||!t.jqmHijackable().length||t.attr("target")?!1:(n=u&&u.attr("formaction")||t.attr("action"),r=(t.attr("method")||"get").toLowerCase(),n||(n=e.mobile.getClosestBaseUrl(t),"get"===r&&(n=e.mobile.path.parseUrl(n).hrefNoSearch),n===e.mobile.path.documentBase.hrefNoHash&&(n=l.hrefNoSearch)),n=e.mobile.path.makeUrlAbsolute(n,e.mobile.getClosestBaseUrl(t)),e.mobile.path.isExternal(n)&&!e.mobile.path.isPermittedCrossDomainRequest(l,n)?!1:(i||(o=t.serializeArray(),u&&u[0].form===t[0]&&(s=u.attr("name"),s&&(e.each(o,function(e,t){return t.name===s?(s="",!1):void 0}),s&&o.push({name:s,value:u.attr("value")}))),a={url:n,options:{type:r,data:e.param(o),transition:t.jqmData("transition"),reverse:"reverse"===t.jqmData("direction"),reloadPage:!0}}),a))};e.mobile.document.delegate("form","submit",function(t){var n;t.isDefaultPrevented()||(n=i(e(this)),n&&(e.mobile.changePage(n.url,n.options),t.preventDefault()))}),e.mobile.document.bind("vclick",function(t){var n,s,r=t.target,a=!1;if(!(t.which>1)&&e.mobile.linkBindingEnabled){if(u=e(r),e.data(r,"mobile-button")){if(!i(e(r).closest("form"),!0))return;r.parentNode&&(r=r.parentNode)}else{if(r=o(r),!r||"#"===e.mobile.path.parseUrl(r.getAttribute("href")||"#").hash)return;if(!e(r).jqmHijackable().length)return}~r.className.indexOf("ui-link-inherit")?r.parentNode&&(s=e.data(r.parentNode,"buttonElements")):s=e.data(r,"buttonElements"),s?r=s.outer:a=!0,n=e(r),a&&(n=n.closest(".ui-btn")),n.length>0&&!n.hasClass("ui-state-disabled")&&(e.mobile.removeActiveLinkClass(!0),e.mobile.activeClickedLink=n,e.mobile.activeClickedLink.addClass(e.mobile.activeBtnClass))}}),e.mobile.document.bind("click",function(i){if(e.mobile.linkBindingEnabled&&!i.isDefaultPrevented()){var s,r,a,u,c,h,d,p=o(i.target),f=e(p),m=function(){t.setTimeout(function(){e.mobile.removeActiveLinkClass(!0)},200)};if(e.mobile.activeClickedLink&&e.mobile.activeClickedLink[0]===i.target.parentNode&&m(),p&&!(i.which>1)&&f.jqmHijackable().length){if(f.is(":jqmData(rel='back')"))return e.mobile.back(),!1;if(s=e.mobile.getClosestBaseUrl(f),r=e.mobile.path.makeUrlAbsolute(f.attr("href")||"#",s),!e.mobile.ajaxEnabled&&!e.mobile.path.isEmbeddedPage(r))return void m();if(!(-1===r.search("#")||e.mobile.path.isExternal(r)&&e.mobile.path.isAbsoluteUrl(r))){if(r=r.replace(/[^#]*#/,""),!r)return void i.preventDefault();r=e.mobile.path.isPath(r)?e.mobile.path.makeUrlAbsolute(r,s):e.mobile.path.makeUrlAbsolute("#"+r,l.hrefNoHash)}if(a=f.is("[rel='external']")||f.is(":jqmData(ajax='false')")||f.is("[target]"),u=a||e.mobile.path.isExternal(r)&&!e.mobile.path.isPermittedCrossDomainRequest(l,r))return void m();c=f.jqmData("transition"),h="reverse"===f.jqmData("direction")||f.jqmData("back"),d=f.attr("data-"+e.mobile.ns+"rel")||n,e.mobile.changePage(r,{transition:c,reverse:h,role:d,link:f}),i.preventDefault()}}}),e.mobile.document.delegate(".ui-page","pageshow.prefetch",function(){var t=[];e(this).find("a:jqmData(prefetch)").each(function(){var i=e(this),n=i.attr("href");n&&-1===e.inArray(n,t)&&(t.push(n),e.mobile.loadPage(n,{role:i.attr("data-"+e.mobile.ns+"rel"),prefetch:!0}))})}),e.mobile.pageContainer.pagecontainer(),e.mobile.document.bind("pageshow",function(){r?r.done(e.mobile.resetActivePageHeight):e.mobile.resetActivePageHeight()}),e.mobile.window.bind("throttledresize",e.mobile.resetActivePageHeight)},e(function(){s.resolve()}),"complete"===i.readyState?a():e.mobile.window.load(a),e.when(s,e.mobile.navreadyDeferred).done(function(){e.mobile._registerInternalEvents()})}(e),function(e,t){e.mobile.Transition=function(){this.init.apply(this,arguments)},e.extend(e.mobile.Transition.prototype,{toPreClass:" ui-page-pre-in",init:function(t,i,n,o){e.extend(this,{name:t,reverse:i,$to:n,$from:o,deferred:new e.Deferred})},cleanFrom:function(){this.$from.removeClass(e.mobile.activePageClass+" out in reverse "+this.name).height("")},beforeDoneIn:function(){},beforeDoneOut:function(){},beforeStartOut:function(){},doneIn:function(){this.beforeDoneIn(),this.$to.removeClass("out in reverse "+this.name).height(""),this.toggleViewportClass(),e.mobile.window.scrollTop()!==this.toScroll&&this.scrollPage(),this.sequential||this.$to.addClass(e.mobile.activePageClass),this.deferred.resolve(this.name,this.reverse,this.$to,this.$from,!0)},doneOut:function(e,t,i,n){this.beforeDoneOut(),this.startIn(e,t,i,n)},hideIn:function(e){this.$to.css("z-index",-10),e.call(this),this.$to.css("z-index","")},scrollPage:function(){e.event.special.scrollstart.enabled=!1,(e.mobile.hideUrlBar||this.toScroll!==e.mobile.defaultHomeScroll)&&t.scrollTo(0,this.toScroll),setTimeout(function(){e.event.special.scrollstart.enabled=!0},150)},startIn:function(t,i,n,o){this.hideIn(function(){this.$to.addClass(e.mobile.activePageClass+this.toPreClass),o||e.mobile.focusPage(this.$to),this.$to.height(t+this.toScroll),n||this.scrollPage()}),this.$to.removeClass(this.toPreClass).addClass(this.name+" in "+i),n?this.doneIn():this.$to.animationComplete(e.proxy(function(){this.doneIn()},this))},startOut:function(t,i,n){this.beforeStartOut(t,i,n),this.$from.height(t+e.mobile.window.scrollTop()).addClass(this.name+" out"+i)},toggleViewportClass:function(){e.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+this.name)},transition:function(){var t,i=this.reverse?" reverse":"",n=e.mobile.getScreenHeight(),o=e.mobile.maxTransitionWidth!==!1&&e.mobile.window.width()>e.mobile.maxTransitionWidth;return this.toScroll=e.mobile.navigate.history.getActive().lastScroll||e.mobile.defaultHomeScroll,t=!e.support.cssTransitions||!e.support.cssAnimations||o||!this.name||"none"===this.name||Math.max(e.mobile.window.scrollTop(),this.toScroll)>e.mobile.getMaxScrollForTransition(),this.toggleViewportClass(),this.$from&&!t?this.startOut(n,i,t):this.doneOut(n,i,t,!0),this.deferred.promise()}})}(e,this),function(e){e.mobile.SerialTransition=function(){this.init.apply(this,arguments)},e.extend(e.mobile.SerialTransition.prototype,e.mobile.Transition.prototype,{sequential:!0,beforeDoneOut:function(){this.$from&&this.cleanFrom()},beforeStartOut:function(t,i,n){this.$from.animationComplete(e.proxy(function(){this.doneOut(t,i,n)},this))}})}(e),function(e){e.mobile.ConcurrentTransition=function(){this.init.apply(this,arguments)},e.extend(e.mobile.ConcurrentTransition.prototype,e.mobile.Transition.prototype,{sequential:!1,beforeDoneIn:function(){this.$from&&this.cleanFrom()},beforeStartOut:function(e,t,i){this.doneOut(e,t,i)}})}(e),function(e){var t=function(){return 3*e.mobile.getScreenHeight()};e.mobile.transitionHandlers={sequential:e.mobile.SerialTransition,simultaneous:e.mobile.ConcurrentTransition},e.mobile.defaultTransitionHandler=e.mobile.transitionHandlers.sequential,e.mobile.transitionFallbacks={},e.mobile._maybeDegradeTransition=function(t){return t&&!e.support.cssTransform3d&&e.mobile.transitionFallbacks[t]&&(t=e.mobile.transitionFallbacks[t]),t},e.mobile.getMaxScrollForTransition=e.mobile.getMaxScrollForTransition||t}(e),function(e){e.mobile.transitionFallbacks.flip="fade"}(e,this),function(e){e.mobile.transitionFallbacks.flow="fade"}(e,this),function(e){e.mobile.transitionFallbacks.pop="fade"}(e,this),function(e){e.mobile.transitionHandlers.slide=e.mobile.transitionHandlers.simultaneous,e.mobile.transitionFallbacks.slide="fade"}(e,this),function(e){e.mobile.transitionFallbacks.slidedown="fade"}(e,this),function(e){e.mobile.transitionFallbacks.slidefade="fade"}(e,this),function(e){e.mobile.transitionFallbacks.slideup="fade"}(e,this),function(e){e.mobile.transitionFallbacks.turn="fade"}(e,this),function(e){e.mobile.degradeInputs={color:!1,date:!1,datetime:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:"number",search:"text",tel:!1,time:!1,url:!1,week:!1},e.mobile.page.prototype.options.degradeInputs=e.mobile.degradeInputs,e.mobile.degradeInputsWithin=function(t){t=e(t),t.find("input").not(e.mobile.page.prototype.keepNativeSelector()).each(function(){var t,i,n,o,s=e(this),r=this.getAttribute("type"),a=e.mobile.degradeInputs[r]||"text";e.mobile.degradeInputs[r]&&(t=e("<div>").html(s.clone()).html(),i=t.indexOf(" type=")>-1,n=i?/\s+type=["']?\w+['"]?/:/\/?>/,o=' type="'+a+'" data-'+e.mobile.ns+'type="'+r+'"'+(i?"":">"),s.replaceWith(t.replace(n,o)))})}}(e),function(e,t,i){e.widget("mobile.page",e.mobile.page,{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:!0,dialog:!1},_create:function(){this._super(),this.options.dialog&&(e.extend(this,{_inner:this.element.children(),_headerCloseButton:null}),this.options.enhanced||this._setCloseBtn(this.options.closeBtn))},_enhance:function(){this._super(),this.options.dialog&&this.element.addClass("ui-dialog").wrapInner(e("<div/>",{role:"dialog","class":"ui-dialog-contain ui-overlay-shadow"+(this.options.corners?" ui-corner-all":"")}))},_setOptions:function(t){var n,o,s=this.options;t.corners!==i&&this._inner.toggleClass("ui-corner-all",!!t.corners),t.overlayTheme!==i&&e.mobile.activePage[0]===this.element[0]&&(s.overlayTheme=t.overlayTheme,this._handlePageBeforeShow()),t.closeBtnText!==i&&(n=s.closeBtn,o=t.closeBtnText),t.closeBtn!==i&&(n=t.closeBtn),n&&this._setCloseBtn(n,o),this._super(t)},_handlePageBeforeShow:function(){this.options.overlayTheme&&this.options.dialog?(this.removeContainerBackground(),this.setContainerBackground(this.options.overlayTheme)):this._super()},_setCloseBtn:function(t,i){var n,o=this._headerCloseButton;t="left"===t?"left":"right"===t?"right":"none","none"===t?o&&(o.remove(),o=null):o?(o.removeClass("ui-btn-left ui-btn-right").addClass("ui-btn-"+t),i&&o.text(i)):(n=this._inner.find(":jqmData(role='header')").first(),o=e("<a></a>",{href:"#","class":"ui-btn ui-corner-all ui-icon-delete ui-btn-icon-notext ui-btn-"+t}).attr("data-"+e.mobile.ns+"rel","back").text(i||this.options.closeBtnText||"").prependTo(n)),this._headerCloseButton=o}})}(e,this),function(e,t,i){e.widget("mobile.dialog",{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:!0},_handlePageBeforeShow:function(){this._isCloseable=!0,this.options.overlayTheme&&this.element.page("removeContainerBackground").page("setContainerBackground",this.options.overlayTheme)},_handlePageBeforeHide:function(){this._isCloseable=!1},_handleVClickSubmit:function(t){var i,n=e(t.target).closest("vclick"===t.type?"a":"form");n.length&&!n.jqmData("transition")&&(i={},i["data-"+e.mobile.ns+"transition"]=(e.mobile.navigate.history.getActive()||{}).transition||e.mobile.defaultDialogTransition,i["data-"+e.mobile.ns+"direction"]="reverse",n.attr(i))},_create:function(){var t=this.element,i=this.options;t.addClass("ui-dialog").wrapInner(e("<div/>",{role:"dialog","class":"ui-dialog-contain ui-overlay-shadow"+(i.corners?" ui-corner-all":"")})),e.extend(this,{_isCloseable:!1,_inner:t.children(),_headerCloseButton:null}),this._on(t,{vclick:"_handleVClickSubmit",submit:"_handleVClickSubmit",pagebeforeshow:"_handlePageBeforeShow",pagebeforehide:"_handlePageBeforeHide"}),this._setCloseBtn(i.closeBtn)},_setOptions:function(t){var n,o,s=this.options;t.corners!==i&&this._inner.toggleClass("ui-corner-all",!!t.corners),t.overlayTheme!==i&&e.mobile.activePage[0]===this.element[0]&&(s.overlayTheme=t.overlayTheme,this._handlePageBeforeShow()),t.closeBtnText!==i&&(n=s.closeBtn,o=t.closeBtnText),t.closeBtn!==i&&(n=t.closeBtn),n&&this._setCloseBtn(n,o),this._super(t)},_setCloseBtn:function(t,i){var n,o=this._headerCloseButton;t="left"===t?"left":"right"===t?"right":"none","none"===t?o&&(o.remove(),o=null):o?(o.removeClass("ui-btn-left ui-btn-right").addClass("ui-btn-"+t),i&&o.text(i)):(n=this._inner.find(":jqmData(role='header')").first(),o=e("<a></a>",{role:"button",href:"#","class":"ui-btn ui-corner-all ui-icon-delete ui-btn-icon-notext ui-btn-"+t}).text(i||this.options.closeBtnText||"").prependTo(n),this._on(o,{click:"close"})),this._headerCloseButton=o},close:function(){var t=e.mobile.navigate.history;this._isCloseable&&(this._isCloseable=!1,e.mobile.hashListeningEnabled&&t.activeIndex>0?e.mobile.back():e.mobile.pageContainer.pagecontainer("back"))}})}(e,this),function(e,t){var i=/([A-Z])/g,n=function(e){return"ui-btn-icon-"+(null===e?"left":e)};e.widget("mobile.collapsible",{options:{enhanced:!1,expandCueText:null,collapseCueText:null,collapsed:!0,heading:"h1,h2,h3,h4,h5,h6,legend",collapsedIcon:null,expandedIcon:null,iconpos:null,theme:null,contentTheme:null,inset:null,corners:null,mini:null},_create:function(){var t=this.element,i={accordion:t.closest(":jqmData(role='collapsible-set'),:jqmData(role='collapsibleset')"+(e.mobile.collapsibleset?", :mobile-collapsibleset":"")).addClass("ui-collapsible-set")};this._ui=i,this._renderedOptions=this._getOptions(this.options),this.options.enhanced?(i.heading=this.element.children(".ui-collapsible-heading"),i.content=i.heading.next(),i.anchor=i.heading.children(),i.status=i.anchor.children(".ui-collapsible-heading-status")):this._enhance(t,i),this._on(i.heading,{tap:function(){i.heading.find("a").first().addClass(e.mobile.activeBtnClass)
},click:function(e){this._handleExpandCollapse(!i.heading.hasClass("ui-collapsible-heading-collapsed")),e.preventDefault(),e.stopPropagation()}})},_getOptions:function(t){var n,o=this._ui.accordion,s=this._ui.accordionWidget;t=e.extend({},t),o.length&&!s&&(this._ui.accordionWidget=s=o.data("mobile-collapsibleset"));for(n in t)t[n]=null!=t[n]?t[n]:s?s.options[n]:o.length?e.mobile.getAttribute(o[0],n.replace(i,"-$1").toLowerCase()):null,null==t[n]&&(t[n]=e.mobile.collapsible.defaults[n]);return t},_themeClassFromOption:function(e,t){return t?"none"===t?"":e+t:""},_enhance:function(t,i){var o,s=this._renderedOptions,r=this._themeClassFromOption("ui-body-",s.contentTheme);return t.addClass("ui-collapsible "+(s.inset?"ui-collapsible-inset ":"")+(s.inset&&s.corners?"ui-corner-all ":"")+(r?"ui-collapsible-themed-content ":"")),i.originalHeading=t.children(this.options.heading).first(),i.content=t.wrapInner("<div class='ui-collapsible-content "+r+"'></div>").children(".ui-collapsible-content"),i.heading=i.originalHeading,i.heading.is("legend")&&(i.heading=e("<div role='heading'>"+i.heading.html()+"</div>"),i.placeholder=e("<div><!-- placeholder for legend --></div>").insertBefore(i.originalHeading),i.originalHeading.remove()),o=s.collapsed?s.collapsedIcon?"ui-icon-"+s.collapsedIcon:"":s.expandedIcon?"ui-icon-"+s.expandedIcon:"",i.status=e("<span class='ui-collapsible-heading-status'></span>"),i.anchor=i.heading.detach().addClass("ui-collapsible-heading").append(i.status).wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().addClass("ui-btn "+(o?o+" ":"")+(o?n(s.iconpos)+" ":"")+this._themeClassFromOption("ui-btn-",s.theme)+" "+(s.mini?"ui-mini ":"")),i.heading.insertBefore(i.content),this._handleExpandCollapse(this.options.collapsed),i},refresh:function(){this._applyOptions(this.options),this._renderedOptions=this._getOptions(this.options)},_applyOptions:function(e){var i,o,s,r,a,l=this.element,u=this._renderedOptions,c=this._ui,h=c.anchor,d=c.status,p=this._getOptions(e);e.collapsed!==t&&this._handleExpandCollapse(e.collapsed),i=l.hasClass("ui-collapsible-collapsed"),i?p.expandCueText!==t&&d.text(p.expandCueText):p.collapseCueText!==t&&d.text(p.collapseCueText),a=p.collapsedIcon!==t?p.collapsedIcon!==!1:u.collapsedIcon!==!1,(p.iconpos!==t||p.collapsedIcon!==t||p.expandedIcon!==t)&&(h.removeClass([n(u.iconpos)].concat(u.expandedIcon?["ui-icon-"+u.expandedIcon]:[]).concat(u.collapsedIcon?["ui-icon-"+u.collapsedIcon]:[]).join(" ")),a&&h.addClass([n(p.iconpos!==t?p.iconpos:u.iconpos)].concat(i?["ui-icon-"+(p.collapsedIcon!==t?p.collapsedIcon:u.collapsedIcon)]:["ui-icon-"+(p.expandedIcon!==t?p.expandedIcon:u.expandedIcon)]).join(" "))),p.theme!==t&&(s=this._themeClassFromOption("ui-btn-",u.theme),o=this._themeClassFromOption("ui-btn-",p.theme),h.removeClass(s).addClass(o)),p.contentTheme!==t&&(s=this._themeClassFromOption("ui-body-",u.contentTheme),o=this._themeClassFromOption("ui-body-",p.contentTheme),c.content.removeClass(s).addClass(o)),p.inset!==t&&(l.toggleClass("ui-collapsible-inset",p.inset),r=!(!p.inset||!p.corners&&!u.corners)),p.corners!==t&&(r=!(!p.corners||!p.inset&&!u.inset)),r!==t&&l.toggleClass("ui-corner-all",r),p.mini!==t&&h.toggleClass("ui-mini",p.mini)},_setOptions:function(e){this._applyOptions(e),this._super(e),this._renderedOptions=this._getOptions(this.options)},_handleExpandCollapse:function(t){var i=this._renderedOptions,n=this._ui;n.status.text(t?i.expandCueText:i.collapseCueText),n.heading.toggleClass("ui-collapsible-heading-collapsed",t).find("a").first().toggleClass("ui-icon-"+i.expandedIcon,!t).toggleClass("ui-icon-"+i.collapsedIcon,t||i.expandedIcon===i.collapsedIcon).removeClass(e.mobile.activeBtnClass),this.element.toggleClass("ui-collapsible-collapsed",t),n.content.toggleClass("ui-collapsible-content-collapsed",t).attr("aria-hidden",t).trigger("updatelayout"),this.options.collapsed=t,this._trigger(t?"collapse":"expand")},expand:function(){this._handleExpandCollapse(!1)},collapse:function(){this._handleExpandCollapse(!0)},_destroy:function(){var e=this._ui,t=this.options;t.enhanced||(e.placeholder?(e.originalHeading.insertBefore(e.placeholder),e.placeholder.remove(),e.heading.remove()):(e.status.remove(),e.heading.removeClass("ui-collapsible-heading ui-collapsible-heading-collapsed").children().contents().unwrap()),e.anchor.contents().unwrap(),e.content.contents().unwrap(),this.element.removeClass("ui-collapsible ui-collapsible-collapsed ui-collapsible-themed-content ui-collapsible-inset ui-corner-all"))}}),e.mobile.collapsible.defaults={expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsedIcon:"plus",contentTheme:"inherit",expandedIcon:"minus",iconpos:"left",inset:!0,corners:!0,theme:"inherit",mini:!1}}(e),function(e){function t(t){var n,o=t.length,s=[];for(n=0;o>n;n++)t[n].className.match(i)||s.push(t[n]);return e(s)}var i=/\bui-screen-hidden\b/;e.mobile.behaviors.addFirstLastClasses={_getVisibles:function(e,i){var n;return i?n=t(e):(n=e.filter(":visible"),0===n.length&&(n=t(e))),n},_addFirstLastClasses:function(e,t,i){e.removeClass("ui-first-child ui-last-child"),t.eq(0).addClass("ui-first-child").end().last().addClass("ui-last-child"),i||this.element.trigger("updatelayout")},_removeFirstLastClasses:function(e){e.removeClass("ui-first-child ui-last-child")}}}(e),function(e,t){var i=":mobile-collapsible, "+e.mobile.collapsible.initSelector;e.widget("mobile.collapsibleset",e.extend({initSelector:":jqmData(role='collapsible-set'),:jqmData(role='collapsibleset')",options:e.extend({enhanced:!1},e.mobile.collapsible.defaults),_handleCollapsibleExpand:function(t){var i=e(t.target).closest(".ui-collapsible");i.parent().is(":mobile-collapsibleset, :jqmData(role='collapsible-set')")&&i.siblings(".ui-collapsible:not(.ui-collapsible-collapsed)").collapsible("collapse")},_create:function(){var t=this.element,i=this.options;e.extend(this,{_classes:""}),i.enhanced||(t.addClass("ui-collapsible-set "+this._themeClassFromOption("ui-group-theme-",i.theme)+" "+(i.corners&&i.inset?"ui-corner-all ":"")),this.element.find(e.mobile.collapsible.initSelector).collapsible()),this._on(t,{collapsibleexpand:"_handleCollapsibleExpand"})},_themeClassFromOption:function(e,t){return t?"none"===t?"":e+t:""},_init:function(){this._refresh(!0),this.element.children(i).filter(":jqmData(collapsed='false')").collapsible("expand")},_setOptions:function(e){var i,n,o=this.element,s=this._themeClassFromOption("ui-group-theme-",e.theme);return s&&o.removeClass(this._themeClassFromOption("ui-group-theme-",this.options.theme)).addClass(s),e.inset!==t&&(n=!(!e.inset||!e.corners&&!this.options.corners)),e.corners!==t&&(n=!(!e.corners||!e.inset&&!this.options.inset)),n!==t&&o.toggleClass("ui-corner-all",n),i=this._super(e),this.element.children(":mobile-collapsible").collapsible("refresh"),i},_destroy:function(){var e=this.element;this._removeFirstLastClasses(e.children(i)),e.removeClass("ui-collapsible-set ui-corner-all "+this._themeClassFromOption("ui-group-theme-",this.options.theme)).children(":mobile-collapsible").collapsible("destroy")},_refresh:function(t){var n=this.element.children(i);this.element.find(e.mobile.collapsible.initSelector).not(".ui-collapsible").collapsible(),this._addFirstLastClasses(n,this._getVisibles(n,t),t)},refresh:function(){this._refresh(!1)}},e.mobile.behaviors.addFirstLastClasses))}(e),function(e){e.fn.fieldcontain=function(){return this.addClass("ui-field-contain")}}(e),function(e){e.fn.grid=function(t){return this.each(function(){var i,n,o=e(this),s=e.extend({grid:null},t),r=o.children(),a={solo:1,a:2,b:3,c:4,d:5},l=s.grid;if(!l)if(r.length<=5)for(n in a)a[n]===r.length&&(l=n);else l="a",o.addClass("ui-grid-duo");i=a[l],o.addClass("ui-grid-"+l),r.filter(":nth-child("+i+"n+1)").addClass("ui-block-a"),i>1&&r.filter(":nth-child("+i+"n+2)").addClass("ui-block-b"),i>2&&r.filter(":nth-child("+i+"n+3)").addClass("ui-block-c"),i>3&&r.filter(":nth-child("+i+"n+4)").addClass("ui-block-d"),i>4&&r.filter(":nth-child("+i+"n+5)").addClass("ui-block-e")})}}(e),function(e,t){e.widget("mobile.navbar",{options:{iconpos:"top",grid:null},_create:function(){var n=this.element,o=n.find("a, button"),s=o.filter(":jqmData(icon)").length?this.options.iconpos:t;n.addClass("ui-navbar").attr("role","navigation").find("ul").jqmEnhanceable().grid({grid:this.options.grid}),o.each(function(){var t=e.mobile.getAttribute(this,"icon"),i=e.mobile.getAttribute(this,"theme"),n="ui-btn";i&&(n+=" ui-btn-"+i),t&&(n+=" ui-icon-"+t+" ui-btn-icon-"+s),e(this).addClass(n)}),n.delegate("a","vclick",function(){var t=e(this);t.hasClass("ui-state-disabled")||t.hasClass("ui-disabled")||t.hasClass(e.mobile.activeBtnClass)||(o.removeClass(e.mobile.activeBtnClass),t.addClass(e.mobile.activeBtnClass),e(i).one("pagehide",function(){t.removeClass(e.mobile.activeBtnClass)}))}),n.closest(".ui-page").bind("pagebeforeshow",function(){o.filter(".ui-state-persist").addClass(e.mobile.activeBtnClass)})}})}(e),function(e){var t=e.mobile.getAttribute;e.widget("mobile.listview",e.extend({options:{theme:null,countTheme:null,dividerTheme:null,icon:"carat-r",splitIcon:"carat-r",splitTheme:null,corners:!0,shadow:!0,inset:!1},_create:function(){var e=this,t="";t+=e.options.inset?" ui-listview-inset":"",e.options.inset&&(t+=e.options.corners?" ui-corner-all":"",t+=e.options.shadow?" ui-shadow":""),e.element.addClass(" ui-listview"+t),e.refresh(!0)},_findFirstElementByTagName:function(e,t,i,n){var o={};for(o[i]=o[n]=!0;e;){if(o[e.nodeName])return e;e=e[t]}return null},_addThumbClasses:function(t){var i,n,o=t.length;for(i=0;o>i;i++)n=e(this._findFirstElementByTagName(t[i].firstChild,"nextSibling","img","IMG")),n.length&&e(this._findFirstElementByTagName(n[0].parentNode,"parentNode","li","LI")).addClass(n.hasClass("ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb")},_getChildrenByTagName:function(t,i,n){var o=[],s={};for(s[i]=s[n]=!0,t=t.firstChild;t;)s[t.nodeName]&&o.push(t),t=t.nextSibling;return e(o)},_beforeListviewRefresh:e.noop,_afterListviewRefresh:e.noop,refresh:function(i){var n,o,s,r,a,l,u,c,h,d,p,f,m,g,v,b,y,w,_,x,C=this.options,k=this.element,T=!!e.nodeName(k[0],"ol"),S=k.attr("start"),P={},E=k.find(".ui-li-count"),A=t(k[0],"counttheme")||this.options.countTheme,D=A?"ui-body-"+A:"ui-body-inherit";for(C.theme&&k.addClass("ui-group-theme-"+C.theme),T&&(S||0===S)&&(p=parseInt(S,10)-1,k.css("counter-reset","listnumbering "+p)),this._beforeListviewRefresh(),x=this._getChildrenByTagName(k[0],"li","LI"),o=0,s=x.length;s>o;o++)r=x.eq(o),a="",(i||r[0].className.search(/\bui-li-static\b|\bui-li-divider\b/)<0)&&(h=this._getChildrenByTagName(r[0],"a","A"),d="list-divider"===t(r[0],"role"),m=r.attr("value"),l=t(r[0],"theme"),h.length&&h[0].className.search(/\bui-btn\b/)<0&&!d?(u=t(r[0],"icon"),c=u===!1?!1:u||C.icon,h.removeClass("ui-link"),n="ui-btn",l&&(n+=" ui-btn-"+l),h.length>1?(a="ui-li-has-alt",g=h.last(),v=t(g[0],"theme")||C.splitTheme||t(r[0],"theme",!0),b=v?" ui-btn-"+v:"",y=t(g[0],"icon")||t(r[0],"icon")||C.splitIcon,w="ui-btn ui-btn-icon-notext ui-icon-"+y+b,g.attr("title",e.trim(g.getEncodedText())).addClass(w).empty(),h=h.first()):c&&(n+=" ui-btn-icon-right ui-icon-"+c),h.addClass(n)):d?(_=t(r[0],"theme")||C.dividerTheme||C.theme,a="ui-li-divider ui-bar-"+(_?_:"inherit"),r.attr("role","heading")):h.length<=0&&(a="ui-li-static ui-body-"+(l?l:"inherit")),T&&m&&(f=parseInt(m,10)-1,r.css("counter-reset","listnumbering "+f))),P[a]||(P[a]=[]),P[a].push(r[0]);for(a in P)e(P[a]).addClass(a);E.each(function(){e(this).closest("li").addClass("ui-li-has-count")}),D&&E.not("[class*='ui-body-']").addClass(D),this._addThumbClasses(x),this._addThumbClasses(x.find(".ui-btn")),this._afterListviewRefresh(),this._addFirstLastClasses(x,this._getVisibles(x,i),i)}},e.mobile.behaviors.addFirstLastClasses))}(e),function(e){function t(t){var i=e.trim(t.text())||null;return i?i=i.slice(0,1).toUpperCase():null}e.widget("mobile.listview",e.mobile.listview,{options:{autodividers:!1,autodividersSelector:t},_beforeListviewRefresh:function(){this.options.autodividers&&(this._replaceDividers(),this._superApply(arguments))},_replaceDividers:function(){var t,n,o,s,r,a=null,l=this.element;for(l.children("li:jqmData(role='list-divider')").remove(),n=l.children("li"),t=0;t<n.length;t++)o=n[t],s=this.options.autodividersSelector(e(o)),s&&a!==s&&(r=i.createElement("li"),r.appendChild(i.createTextNode(s)),r.setAttribute("data-"+e.mobile.ns+"role","list-divider"),o.parentNode.insertBefore(r,o)),a=s}})}(e),function(e){var t=/(^|\s)ui-li-divider($|\s)/,i=/(^|\s)ui-screen-hidden($|\s)/;e.widget("mobile.listview",e.mobile.listview,{options:{hideDividers:!1},_afterListviewRefresh:function(){var e,n,o,s=!0;if(this._superApply(arguments),this.options.hideDividers)for(e=this._getChildrenByTagName(this.element[0],"li","LI"),n=e.length-1;n>-1;n--)o=e[n],o.className.match(t)?(s&&(o.className=o.className+" ui-screen-hidden"),s=!0):o.className.match(i)||(s=!1)}})}(e),function(e){e.mobile.nojs=function(t){e(":jqmData(role='nojs')",t).addClass("ui-nojs")}}(e),function(e){e.mobile.behaviors.formReset={_handleFormReset:function(){this._on(this.element.closest("form"),{reset:function(){this._delay("_reset")}})}}}(e),function(e,t){var i=e.mobile.path.hashToSelector;e.widget("mobile.checkboxradio",e.extend({initSelector:"input:not( :jqmData(role='flipswitch' ) )[type='checkbox'],input[type='radio']:not( :jqmData(role='flipswitch' ))",options:{theme:"inherit",mini:!1,wrapperClass:null,enhanced:!1,iconpos:"left"},_create:function(){var t=this.element,i=this.options,n=function(e,t){return e.jqmData(t)||e.closest("form, fieldset").jqmData(t)},o=this.options.enhanced?{element:this.element.siblings("label"),isParent:!1}:this._findLabel(),s=t[0].type,r="ui-"+s+"-on",a="ui-"+s+"-off";("checkbox"===s||"radio"===s)&&(this.element[0].disabled&&(this.options.disabled=!0),i.iconpos=n(t,"iconpos")||o.element.attr("data-"+e.mobile.ns+"iconpos")||i.iconpos,i.mini=n(t,"mini")||i.mini,e.extend(this,{input:t,label:o.element,labelIsParent:o.isParent,inputtype:s,checkedClass:r,uncheckedClass:a}),this.options.enhanced||this._enhance(),this._on(o.element,{vmouseover:"_handleLabelVMouseOver",vclick:"_handleLabelVClick"}),this._on(t,{vmousedown:"_cacheVals",vclick:"_handleInputVClick",focus:"_handleInputFocus",blur:"_handleInputBlur"}),this._handleFormReset(),this.refresh())},_findLabel:function(){var t,n,o,s=this.element,r=s[0].labels;return r&&r.length>0?(n=e(r[0]),o=e.contains(n[0],s[0])):(t=s.closest("label"),o=t.length>0,n=o?t:e(this.document[0].getElementsByTagName("label")).filter("[for='"+i(s[0].id)+"']").first()),{element:n,isParent:o}},_enhance:function(){this.label.addClass("ui-btn ui-corner-all"),this.labelIsParent?this.input.add(this.label).wrapAll(this._wrapper()):(this.element.wrap(this._wrapper()),this.element.parent().prepend(this.label)),this._setOptions({theme:this.options.theme,iconpos:this.options.iconpos,mini:this.options.mini})},_wrapper:function(){return e("<div class='"+(this.options.wrapperClass?this.options.wrapperClass:"")+" ui-"+this.inputtype+(this.options.disabled?" ui-state-disabled":"")+"' ></div>")},_handleInputFocus:function(){this.label.addClass(e.mobile.focusClass)},_handleInputBlur:function(){this.label.removeClass(e.mobile.focusClass)},_handleInputVClick:function(){this.element.prop("checked",this.element.is(":checked")),this._getInputSet().not(this.element).prop("checked",!1),this._updateAll(!0)},_handleLabelVMouseOver:function(e){this.label.parent().hasClass("ui-state-disabled")&&e.stopPropagation()},_handleLabelVClick:function(e){var t=this.element;return t.is(":disabled")?void e.preventDefault():(this._cacheVals(),t.prop("checked","radio"===this.inputtype&&!0||!t.prop("checked")),t.triggerHandler("click"),this._getInputSet().not(t).prop("checked",!1),this._updateAll(),!1)},_cacheVals:function(){this._getInputSet().each(function(){e(this).attr("data-"+e.mobile.ns+"cacheVal",this.checked)})},_getInputSet:function(){var t,n,o=this.element[0],s=o.name,r=o.form,a=this.element.parents().last().get(0),l=this.element;return s&&"radio"===this.inputtype&&a&&(t="input[type='radio'][name='"+i(s)+"']",r?(n=r.getAttribute("id"),n&&(l=e(t+"[form='"+i(n)+"']",a)),l=e(r).find(t).filter(function(){return this.form===r}).add(l)):l=e(t,a).filter(function(){return!this.form})),l},_updateAll:function(t){var i=this;this._getInputSet().each(function(){var n=e(this);!this.checked&&"checkbox"!==i.inputtype||t||n.trigger("change")}).checkboxradio("refresh")},_reset:function(){this.refresh()},_hasIcon:function(){var t,i,n=e.mobile.controlgroup;return n&&(t=this.element.closest(":mobile-controlgroup,"+n.prototype.initSelector),t.length>0)?(i=e.data(t[0],"mobile-controlgroup"),"horizontal"!==(i?i.options.type:t.attr("data-"+e.mobile.ns+"type"))):!0},refresh:function(){var t=this.element[0].checked,i=e.mobile.activeBtnClass,n="ui-btn-icon-"+this.options.iconpos,o=[],s=[];this._hasIcon()?(s.push(i),o.push(n)):(s.push(n),(t?o:s).push(i)),t?(o.push(this.checkedClass),s.push(this.uncheckedClass)):(o.push(this.uncheckedClass),s.push(this.checkedClass)),this.widget().toggleClass("ui-state-disabled",this.element.prop("disabled")),this.label.addClass(o.join(" ")).removeClass(s.join(" "))},widget:function(){return this.label.parent()},_setOptions:function(e){var i=this.label,n=this.options,o=this.widget(),s=this._hasIcon();e.disabled!==t&&(this.input.prop("disabled",!!e.disabled),o.toggleClass("ui-state-disabled",!!e.disabled)),e.mini!==t&&o.toggleClass("ui-mini",!!e.mini),e.theme!==t&&i.removeClass("ui-btn-"+n.theme).addClass("ui-btn-"+e.theme),e.wrapperClass!==t&&o.removeClass(n.wrapperClass).addClass(e.wrapperClass),e.iconpos!==t&&s?i.removeClass("ui-btn-icon-"+n.iconpos).addClass("ui-btn-icon-"+e.iconpos):s||i.removeClass("ui-btn-icon-"+n.iconpos),this._super(e)}},e.mobile.behaviors.formReset))}(e),function(e,t){e.widget("mobile.button",{initSelector:"input[type='button'], input[type='submit'], input[type='reset']",options:{theme:null,icon:null,iconpos:"left",iconshadow:!1,corners:!0,shadow:!0,inline:null,mini:null,wrapperClass:null,enhanced:!1},_create:function(){this.element.is(":disabled")&&(this.options.disabled=!0),this.options.enhanced||this._enhance(),e.extend(this,{wrapper:this.element.parent()}),this._on({focus:function(){this.widget().addClass(e.mobile.focusClass)},blur:function(){this.widget().removeClass(e.mobile.focusClass)}}),this.refresh(!0)},_enhance:function(){this.element.wrap(this._button())},_button:function(){var t=this.options,i=this._getIconClasses(this.options);return e("<div class='ui-btn ui-input-btn"+(t.wrapperClass?" "+t.wrapperClass:"")+(t.theme?" ui-btn-"+t.theme:"")+(t.corners?" ui-corner-all":"")+(t.shadow?" ui-shadow":"")+(t.inline?" ui-btn-inline":"")+(t.mini?" ui-mini":"")+(t.disabled?" ui-state-disabled":"")+(i?" "+i:"")+"' >"+this.element.val()+"</div>")},widget:function(){return this.wrapper},_destroy:function(){this.element.insertBefore(this.wrapper),this.wrapper.remove()},_getIconClasses:function(e){return e.icon?"ui-icon-"+e.icon+(e.iconshadow?" ui-shadow-icon":"")+" ui-btn-icon-"+e.iconpos:""},_setOptions:function(i){var n=this.widget();i.theme!==t&&n.removeClass(this.options.theme).addClass("ui-btn-"+i.theme),i.corners!==t&&n.toggleClass("ui-corner-all",i.corners),i.shadow!==t&&n.toggleClass("ui-shadow",i.shadow),i.inline!==t&&n.toggleClass("ui-btn-inline",i.inline),i.mini!==t&&n.toggleClass("ui-mini",i.mini),i.disabled!==t&&(this.element.prop("disabled",i.disabled),n.toggleClass("ui-state-disabled",i.disabled)),(i.icon!==t||i.iconshadow!==t||i.iconpos!==t)&&n.removeClass(this._getIconClasses(this.options)).addClass(this._getIconClasses(e.extend({},this.options,i))),this._super(i)},refresh:function(t){var i,n=this.element.prop("disabled");this.options.icon&&"notext"===this.options.iconpos&&this.element.attr("title")&&this.element.attr("title",this.element.val()),t||(i=this.element.detach(),e(this.wrapper).text(this.element.val()).append(i)),this.options.disabled!==n&&this._setOptions({disabled:n})}})}(e),function(e){var t=e("meta[name=viewport]"),i=t.attr("content"),n=i+",maximum-scale=1, user-scalable=no",o=i+",maximum-scale=10, user-scalable=yes",s=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(i);e.mobile.zoom=e.extend({},{enabled:!s,locked:!1,disable:function(i){s||e.mobile.zoom.locked||(t.attr("content",n),e.mobile.zoom.enabled=!1,e.mobile.zoom.locked=i||!1)},enable:function(i){s||e.mobile.zoom.locked&&i!==!0||(t.attr("content",o),e.mobile.zoom.enabled=!0,e.mobile.zoom.locked=!1)},restore:function(){s||(t.attr("content",i),e.mobile.zoom.enabled=!0)}})}(e),function(e,t){e.widget("mobile.textinput",{initSelector:"input[type='text'],input[type='search'],:jqmData(type='search'),input[type='number'],:jqmData(type='number'),input[type='password'],input[type='email'],input[type='url'],input[type='tel'],textarea,input[type='time'],input[type='date'],input[type='month'],input[type='week'],input[type='datetime'],input[type='datetime-local'],input[type='color'],input:not([type]),input[type='file']",options:{theme:null,corners:!0,mini:!1,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,wrapperClass:"",enhanced:!1},_create:function(){var t=this.options,i=this.element.is("[type='search'], :jqmData(type='search')"),n="TEXTAREA"===this.element[0].tagName,o=this.element.is("[data-"+(e.mobile.ns||"")+"type='range']"),s=(this.element.is("input")||this.element.is("[data-"+(e.mobile.ns||"")+"type='search']"))&&!o;this.element.prop("disabled")&&(t.disabled=!0),e.extend(this,{classes:this._classesFromOptions(),isSearch:i,isTextarea:n,isRange:o,inputNeedsWrap:s}),this._autoCorrect(),t.enhanced||this._enhance(),this._on({focus:"_handleFocus",blur:"_handleBlur"})},refresh:function(){this.setOptions({disabled:this.element.is(":disabled")})},_enhance:function(){var e=[];this.isTextarea&&e.push("ui-input-text"),(this.isTextarea||this.isRange)&&e.push("ui-shadow-inset"),this.inputNeedsWrap?this.element.wrap(this._wrap()):e=e.concat(this.classes),this.element.addClass(e.join(" "))},widget:function(){return this.inputNeedsWrap?this.element.parent():this.element},_classesFromOptions:function(){var e=this.options,t=[];return t.push("ui-body-"+(null===e.theme?"inherit":e.theme)),e.corners&&t.push("ui-corner-all"),e.mini&&t.push("ui-mini"),e.disabled&&t.push("ui-state-disabled"),e.wrapperClass&&t.push(e.wrapperClass),t},_wrap:function(){return e("<div class='"+(this.isSearch?"ui-input-search ":"ui-input-text ")+this.classes.join(" ")+" ui-shadow-inset'></div>")},_autoCorrect:function(){"undefined"==typeof this.element[0].autocorrect||e.support.touchOverflow||(this.element[0].setAttribute("autocorrect","off"),this.element[0].setAttribute("autocomplete","off"))},_handleBlur:function(){this.widget().removeClass(e.mobile.focusClass),this.options.preventFocusZoom&&e.mobile.zoom.enable(!0)},_handleFocus:function(){this.options.preventFocusZoom&&e.mobile.zoom.disable(!0),this.widget().addClass(e.mobile.focusClass)},_setOptions:function(e){var i=this.widget();this._super(e),(e.disabled!==t||e.mini!==t||e.corners!==t||e.theme!==t||e.wrapperClass!==t)&&(i.removeClass(this.classes.join(" ")),this.classes=this._classesFromOptions(),i.addClass(this.classes.join(" "))),e.disabled!==t&&this.element.prop("disabled",!!e.disabled)},_destroy:function(){this.options.enhanced||(this.inputNeedsWrap&&this.element.unwrap(),this.element.removeClass("ui-input-text "+this.classes.join(" ")))}})}(e),function(e,n){e.widget("mobile.slider",e.extend({initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')",widgetEventPrefix:"slide",options:{theme:null,trackTheme:null,corners:!0,mini:!1,highlight:!1},_create:function(){var o,s,r,a,l,u,c,h,d,p,f=this,m=this.element,g=this.options.trackTheme||e.mobile.getAttribute(m[0],"theme"),v=g?" ui-bar-"+g:" ui-bar-inherit",b=this.options.corners||m.jqmData("corners")?" ui-corner-all":"",y=this.options.mini||m.jqmData("mini")?" ui-mini":"",w=m[0].nodeName.toLowerCase(),_="select"===w,x=m.parent().is(":jqmData(role='rangeslider')"),C=_?"ui-slider-switch":"",k=m.attr("id"),T=e("[for='"+k+"']"),S=T.attr("id")||k+"-label",P=_?0:parseFloat(m.attr("min")),E=_?m.find("option").length-1:parseFloat(m.attr("max")),A=t.parseFloat(m.attr("step")||1),D=i.createElement("a"),j=e(D),O=i.createElement("div"),F=e(O),I=this.options.highlight&&!_?function(){var t=i.createElement("div");return t.className="ui-slider-bg "+e.mobile.activeBtnClass,e(t).prependTo(F)}():!1;if(T.attr("id",S),this.isToggleSwitch=_,D.setAttribute("href","#"),O.setAttribute("role","application"),O.className=[this.isToggleSwitch?"ui-slider ui-slider-track ui-shadow-inset ":"ui-slider-track ui-shadow-inset ",C,v,b,y].join(""),D.className="ui-slider-handle",O.appendChild(D),j.attr({role:"slider","aria-valuemin":P,"aria-valuemax":E,"aria-valuenow":this._value(),"aria-valuetext":this._value(),title:this._value(),"aria-labelledby":S}),e.extend(this,{slider:F,handle:j,control:m,type:w,step:A,max:E,min:P,valuebg:I,isRangeslider:x,dragging:!1,beforeStart:null,userModified:!1,mouseMoved:!1}),_){for(c=m.attr("tabindex"),c&&j.attr("tabindex",c),m.attr("tabindex","-1").focus(function(){e(this).blur(),j.focus()}),s=i.createElement("div"),s.className="ui-slider-inneroffset",r=0,a=O.childNodes.length;a>r;r++)s.appendChild(O.childNodes[r]);for(O.appendChild(s),j.addClass("ui-slider-handle-snapping"),o=m.find("option"),l=0,u=o.length;u>l;l++)h=l?"a":"b",d=l?" "+e.mobile.activeBtnClass:"",p=i.createElement("span"),p.className=["ui-slider-label ui-slider-label-",h,d].join(""),p.setAttribute("role","img"),p.appendChild(i.createTextNode(o[l].innerHTML)),e(p).prependTo(F);f._labels=e(".ui-slider-label",F)}m.addClass(_?"ui-slider-switch":"ui-slider-input"),this._on(m,{change:"_controlChange",keyup:"_controlKeyup",blur:"_controlBlur",vmouseup:"_controlVMouseUp"}),F.bind("vmousedown",e.proxy(this._sliderVMouseDown,this)).bind("vclick",!1),this._on(i,{vmousemove:"_preventDocumentDrag"}),this._on(F.add(i),{vmouseup:"_sliderVMouseUp"}),F.insertAfter(m),_||x||(s=this.options.mini?"<div class='ui-slider ui-mini'>":"<div class='ui-slider'>",m.add(F).wrapAll(s)),this._on(this.handle,{vmousedown:"_handleVMouseDown",keydown:"_handleKeydown",keyup:"_handleKeyup"}),this.handle.bind("vclick",!1),this._handleFormReset(),this.refresh(n,n,!0)},_setOptions:function(e){e.theme!==n&&this._setTheme(e.theme),e.trackTheme!==n&&this._setTrackTheme(e.trackTheme),e.corners!==n&&this._setCorners(e.corners),e.mini!==n&&this._setMini(e.mini),e.highlight!==n&&this._setHighlight(e.highlight),e.disabled!==n&&this._setDisabled(e.disabled),this._super(e)},_controlChange:function(e){return this._trigger("controlchange",e)===!1?!1:void(this.mouseMoved||this.refresh(this._value(),!0))},_controlKeyup:function(){this.refresh(this._value(),!0,!0)},_controlBlur:function(){this.refresh(this._value(),!0)},_controlVMouseUp:function(){this._checkedRefresh()},_handleVMouseDown:function(){this.handle.focus()},_handleKeydown:function(t){var i=this._value();if(!this.options.disabled){switch(t.keyCode){case e.mobile.keyCode.HOME:case e.mobile.keyCode.END:case e.mobile.keyCode.PAGE_UP:case e.mobile.keyCode.PAGE_DOWN:case e.mobile.keyCode.UP:case e.mobile.keyCode.RIGHT:case e.mobile.keyCode.DOWN:case e.mobile.keyCode.LEFT:t.preventDefault(),this._keySliding||(this._keySliding=!0,this.handle.addClass("ui-state-active"))}switch(t.keyCode){case e.mobile.keyCode.HOME:this.refresh(this.min);break;case e.mobile.keyCode.END:this.refresh(this.max);break;case e.mobile.keyCode.PAGE_UP:case e.mobile.keyCode.UP:case e.mobile.keyCode.RIGHT:this.refresh(i+this.step);break;case e.mobile.keyCode.PAGE_DOWN:case e.mobile.keyCode.DOWN:case e.mobile.keyCode.LEFT:this.refresh(i-this.step)}}},_handleKeyup:function(){this._keySliding&&(this._keySliding=!1,this.handle.removeClass("ui-state-active"))},_sliderVMouseDown:function(e){return this.options.disabled||1!==e.which&&0!==e.which&&e.which!==n?!1:this._trigger("beforestart",e)===!1?!1:(this.dragging=!0,this.userModified=!1,this.mouseMoved=!1,this.isToggleSwitch&&(this.beforeStart=this.element[0].selectedIndex),this.refresh(e),this._trigger("start"),!1)},_sliderVMouseUp:function(){return this.dragging?(this.dragging=!1,this.isToggleSwitch&&(this.handle.addClass("ui-slider-handle-snapping"),this.refresh(this.mouseMoved?this.userModified?0===this.beforeStart?1:0:this.beforeStart:0===this.beforeStart?1:0)),this.mouseMoved=!1,this._trigger("stop"),!1):void 0},_preventDocumentDrag:function(e){return this._trigger("drag",e)===!1?!1:this.dragging&&!this.options.disabled?(this.mouseMoved=!0,this.isToggleSwitch&&this.handle.removeClass("ui-slider-handle-snapping"),this.refresh(e),this.userModified=this.beforeStart!==this.element[0].selectedIndex,!1):void 0},_checkedRefresh:function(){this.value!==this._value()&&this.refresh(this._value())},_value:function(){return this.isToggleSwitch?this.element[0].selectedIndex:parseFloat(this.element.val())},_reset:function(){this.refresh(n,!1,!0)},refresh:function(t,n,o){var s,r,a,l,u,c,h,d,p,f,m,g,v,b,y,w,_,x,C,k,T=this,S=e.mobile.getAttribute(this.element[0],"theme"),P=this.options.theme||S,E=P?" ui-btn-"+P:"",A=this.options.trackTheme||S,D=A?" ui-bar-"+A:" ui-bar-inherit",j=this.options.corners?" ui-corner-all":"",O=this.options.mini?" ui-mini":"";if(T.slider[0].className=[this.isToggleSwitch?"ui-slider ui-slider-switch ui-slider-track ui-shadow-inset":"ui-slider-track ui-shadow-inset",D,j,O].join(""),(this.options.disabled||this.element.prop("disabled"))&&this.disable(),this.value=this._value(),this.options.highlight&&!this.isToggleSwitch&&0===this.slider.find(".ui-slider-bg").length&&(this.valuebg=function(){var t=i.createElement("div");return t.className="ui-slider-bg "+e.mobile.activeBtnClass,e(t).prependTo(T.slider)}()),this.handle.addClass("ui-btn"+E+" ui-shadow"),h=this.element,d=!this.isToggleSwitch,p=d?[]:h.find("option"),f=d?parseFloat(h.attr("min")):0,m=d?parseFloat(h.attr("max")):p.length-1,g=d&&parseFloat(h.attr("step"))>0?parseFloat(h.attr("step")):1,"object"==typeof t){if(a=t,l=8,s=this.slider.offset().left,r=this.slider.width(),u=r/((m-f)/g),!this.dragging||a.pageX<s-l||a.pageX>s+r+l)return;c=u>1?(a.pageX-s)/r*100:Math.round((a.pageX-s)/r*100)}else null==t&&(t=d?parseFloat(h.val()||0):h[0].selectedIndex),c=(parseFloat(t)-f)/(m-f)*100;if(!isNaN(c)&&(v=c/100*(m-f)+f,b=(v-f)%g,y=v-b,2*Math.abs(b)>=g&&(y+=b>0?g:-g),w=100/((m-f)/g),v=parseFloat(y.toFixed(5)),"undefined"==typeof u&&(u=r/((m-f)/g)),u>1&&d&&(c=(v-f)*w*(1/g)),0>c&&(c=0),c>100&&(c=100),f>v&&(v=f),v>m&&(v=m),this.handle.css("left",c+"%"),this.handle[0].setAttribute("aria-valuenow",d?v:p.eq(v).attr("value")),this.handle[0].setAttribute("aria-valuetext",d?v:p.eq(v).getEncodedText()),this.handle[0].setAttribute("title",d?v:p.eq(v).getEncodedText()),this.valuebg&&this.valuebg.css("width",c+"%"),this._labels&&(_=this.handle.width()/this.slider.width()*100,x=c&&_+(100-_)*c/100,C=100===c?0:Math.min(_+100-x,100),this._labels.each(function(){var t=e(this).hasClass("ui-slider-label-a");e(this).width((t?x:C)+"%")})),!o)){if(k=!1,d?(k=parseFloat(h.val())!==v,h.val(v)):(k=h[0].selectedIndex!==v,h[0].selectedIndex=v),this._trigger("beforechange",t)===!1)return!1;!n&&k&&h.trigger("change")}},_setHighlight:function(e){e=!!e,e?(this.options.highlight=!!e,this.refresh()):this.valuebg&&(this.valuebg.remove(),this.valuebg=!1)},_setTheme:function(e){this.handle.removeClass("ui-btn-"+this.options.theme).addClass("ui-btn-"+e);var t=this.options.theme?this.options.theme:"inherit",i=e?e:"inherit";this.control.removeClass("ui-body-"+t).addClass("ui-body-"+i)},_setTrackTheme:function(e){var t=this.options.trackTheme?this.options.trackTheme:"inherit",i=e?e:"inherit";this.slider.removeClass("ui-body-"+t).addClass("ui-body-"+i)},_setMini:function(e){e=!!e,this.isToggleSwitch||this.isRangeslider||(this.slider.parent().toggleClass("ui-mini",e),this.element.toggleClass("ui-mini",e)),this.slider.toggleClass("ui-mini",e)
},_setCorners:function(e){this.slider.toggleClass("ui-corner-all",e),this.isToggleSwitch||this.control.toggleClass("ui-corner-all",e)},_setDisabled:function(e){e=!!e,this.element.prop("disabled",e),this.slider.toggleClass("ui-state-disabled",e).attr("aria-disabled",e),this.element.toggleClass("ui-state-disabled",e)}},e.mobile.behaviors.formReset))}(e),function(e){function t(){return i||(i=e("<div></div>",{"class":"ui-slider-popup ui-shadow ui-corner-all"})),i.clone()}var i;e.widget("mobile.slider",e.mobile.slider,{options:{popupEnabled:!1,showValue:!1},_create:function(){this._super(),e.extend(this,{_currentValue:null,_popup:null,_popupVisible:!1}),this._setOption("popupEnabled",this.options.popupEnabled),this._on(this.handle,{vmousedown:"_showPopup"}),this._on(this.slider.add(this.document),{vmouseup:"_hidePopup"}),this._refresh()},_positionPopup:function(){var e=this.handle.offset();this._popup.offset({left:e.left+(this.handle.width()-this._popup.width())/2,top:e.top-this._popup.outerHeight()-5})},_setOption:function(e,i){this._super(e,i),"showValue"===e?this.handle.html(i&&!this.options.mini?this._value():""):"popupEnabled"===e&&i&&!this._popup&&(this._popup=t().addClass("ui-body-"+(this.options.theme||"a")).hide().insertBefore(this.element))},refresh:function(){this._super.apply(this,arguments),this._refresh()},_refresh:function(){var e,t=this.options;t.popupEnabled&&this.handle.removeAttr("title"),e=this._value(),e!==this._currentValue&&(this._currentValue=e,t.popupEnabled&&this._popup&&(this._positionPopup(),this._popup.html(e)),t.showValue&&!this.options.mini&&this.handle.html(e))},_showPopup:function(){this.options.popupEnabled&&!this._popupVisible&&(this.handle.html(""),this._popup.show(),this._positionPopup(),this._popupVisible=!0)},_hidePopup:function(){var e=this.options;e.popupEnabled&&this._popupVisible&&(e.showValue&&!e.mini&&this.handle.html(this._value()),this._popup.hide(),this._popupVisible=!1)}})}(e),function(e,t){e.widget("mobile.flipswitch",e.extend({options:{onText:"On",offText:"Off",theme:null,enhanced:!1,wrapperClass:null,corners:!0,mini:!1},_create:function(){this.options.enhanced?e.extend(this,{flipswitch:this.element.parent(),on:this.element.find(".ui-flipswitch-on").eq(0),off:this.element.find(".ui-flipswitch-off").eq(0),type:this.element.get(0).tagName}):this._enhance(),this._handleFormReset(),this._originalTabIndex=this.element.attr("tabindex"),null!=this._originalTabIndex&&this.on.attr("tabindex",this._originalTabIndex),this.element.attr("tabindex","-1"),this._on({focus:"_handleInputFocus"}),this.element.is(":disabled")&&this._setOptions({disabled:!0}),this._on(this.flipswitch,{click:"_toggle",swipeleft:"_left",swiperight:"_right"}),this._on(this.on,{keydown:"_keydown"}),this._on({change:"refresh"})},_handleInputFocus:function(){this.on.focus()},widget:function(){return this.flipswitch},_left:function(){this.flipswitch.removeClass("ui-flipswitch-active"),"SELECT"===this.type?this.element.get(0).selectedIndex=0:this.element.prop("checked",!1),this.element.trigger("change")},_right:function(){this.flipswitch.addClass("ui-flipswitch-active"),"SELECT"===this.type?this.element.get(0).selectedIndex=1:this.element.prop("checked",!0),this.element.trigger("change")},_enhance:function(){var t=e("<div>"),i=this.options,n=this.element,o=i.theme?i.theme:"inherit",s=e("<a></a>",{href:"#"}),r=e("<span></span>"),a=n.get(0).tagName,l="INPUT"===a?i.onText:n.find("option").eq(1).text(),u="INPUT"===a?i.offText:n.find("option").eq(0).text();s.addClass("ui-flipswitch-on ui-btn ui-shadow ui-btn-inherit").text(l),r.addClass("ui-flipswitch-off").text(u),t.addClass("ui-flipswitch ui-shadow-inset ui-bar-"+o+" "+(i.wrapperClass?i.wrapperClass:"")+" "+(n.is(":checked")||n.find("option").eq(1).is(":selected")?"ui-flipswitch-active":"")+(n.is(":disabled")?" ui-state-disabled":"")+(i.corners?" ui-corner-all":"")+(i.mini?" ui-mini":"")).append(s,r),n.addClass("ui-flipswitch-input").after(t).appendTo(t),e.extend(this,{flipswitch:t,on:s,off:r,type:a})},_reset:function(){this.refresh()},refresh:function(){var e,t=this.flipswitch.hasClass("ui-flipswitch-active")?"_right":"_left";e="SELECT"===this.type?this.element.get(0).selectedIndex>0?"_right":"_left":this.element.prop("checked")?"_right":"_left",e!==t&&this[e]()},_toggle:function(){var e=this.flipswitch.hasClass("ui-flipswitch-active")?"_left":"_right";this[e]()},_keydown:function(t){t.which===e.mobile.keyCode.LEFT?this._left():t.which===e.mobile.keyCode.RIGHT?this._right():t.which===e.mobile.keyCode.SPACE&&(this._toggle(),t.preventDefault())},_setOptions:function(e){if(e.theme!==t){var i=e.theme?e.theme:"inherit",n=e.theme?e.theme:"inherit";this.widget().removeClass("ui-bar-"+i).addClass("ui-bar-"+n)}e.onText!==t&&this.on.text(e.onText),e.offText!==t&&this.off.text(e.offText),e.disabled!==t&&this.widget().toggleClass("ui-state-disabled",e.disabled),e.mini!==t&&this.widget().toggleClass("ui-mini",e.mini),e.corners!==t&&this.widget().toggleClass("ui-corner-all",e.corners),this._super(e)},_destroy:function(){this.options.enhanced||(null!=this._originalTabIndex?this.element.attr("tabindex",this._originalTabIndex):this.element.removeAttr("tabindex"),this.on.remove(),this.off.remove(),this.element.unwrap(),this.flipswitch.remove(),this.removeClass("ui-flipswitch-input"))}},e.mobile.behaviors.formReset))}(e),function(e,t){e.widget("mobile.rangeslider",e.extend({options:{theme:null,trackTheme:null,corners:!0,mini:!1,highlight:!0},_create:function(){var t=this.element,i=this.options.mini?"ui-rangeslider ui-mini":"ui-rangeslider",n=t.find("input").first(),o=t.find("input").last(),s=t.find("label").first(),r=e.data(n.get(0),"mobile-slider")||e.data(n.slider().get(0),"mobile-slider"),a=e.data(o.get(0),"mobile-slider")||e.data(o.slider().get(0),"mobile-slider"),l=r.slider,u=a.slider,c=r.handle,h=e("<div class='ui-rangeslider-sliders' />").appendTo(t);n.addClass("ui-rangeslider-first"),o.addClass("ui-rangeslider-last"),t.addClass(i),l.appendTo(h),u.appendTo(h),s.insertBefore(t),c.prependTo(u),e.extend(this,{_inputFirst:n,_inputLast:o,_sliderFirst:l,_sliderLast:u,_label:s,_targetVal:null,_sliderTarget:!1,_sliders:h,_proxy:!1}),this.refresh(),this._on(this.element.find("input.ui-slider-input"),{slidebeforestart:"_slidebeforestart",slidestop:"_slidestop",slidedrag:"_slidedrag",slidebeforechange:"_change",blur:"_change",keyup:"_change"}),this._on({mousedown:"_change"}),this._on(this.element.closest("form"),{reset:"_handleReset"}),this._on(c,{vmousedown:"_dragFirstHandle"})},_handleReset:function(){var e=this;setTimeout(function(){e._updateHighlight()},0)},_dragFirstHandle:function(t){return e.data(this._inputFirst.get(0),"mobile-slider").dragging=!0,e.data(this._inputFirst.get(0),"mobile-slider").refresh(t),e.data(this._inputFirst.get(0),"mobile-slider")._trigger("start"),!1},_slidedrag:function(t){var i=e(t.target).is(this._inputFirst),n=i?this._inputLast:this._inputFirst;return this._sliderTarget=!1,"first"===this._proxy&&i||"last"===this._proxy&&!i?(e.data(n.get(0),"mobile-slider").dragging=!0,e.data(n.get(0),"mobile-slider").refresh(t),!1):void 0},_slidestop:function(t){var i=e(t.target).is(this._inputFirst);this._proxy=!1,this.element.find("input").trigger("vmouseup"),this._sliderFirst.css("z-index",i?1:"")},_slidebeforestart:function(t){this._sliderTarget=!1,e(t.originalEvent.target).hasClass("ui-slider-track")&&(this._sliderTarget=!0,this._targetVal=e(t.target).val())},_setOptions:function(e){e.theme!==t&&this._setTheme(e.theme),e.trackTheme!==t&&this._setTrackTheme(e.trackTheme),e.mini!==t&&this._setMini(e.mini),e.highlight!==t&&this._setHighlight(e.highlight),e.disabled!==t&&this._setDisabled(e.disabled),this._super(e),this.refresh()},refresh:function(){var e=this.element,t=this.options;(this._inputFirst.is(":disabled")||this._inputLast.is(":disabled"))&&(this.options.disabled=!0),e.find("input").slider({theme:t.theme,trackTheme:t.trackTheme,disabled:t.disabled,corners:t.corners,mini:t.mini,highlight:t.highlight}).slider("refresh"),this._updateHighlight()},_change:function(t){if("keyup"===t.type)return this._updateHighlight(),!1;var i=this,n=parseFloat(this._inputFirst.val(),10),o=parseFloat(this._inputLast.val(),10),s=e(t.target).hasClass("ui-rangeslider-first"),r=s?this._inputFirst:this._inputLast,a=s?this._inputLast:this._inputFirst;if(this._inputFirst.val()>this._inputLast.val()&&"mousedown"===t.type&&!e(t.target).hasClass("ui-slider-handle"))r.blur();else if("mousedown"===t.type)return;return n>o&&!this._sliderTarget?(r.val(s?o:n).slider("refresh"),this._trigger("normalize")):n>o&&(r.val(this._targetVal).slider("refresh"),setTimeout(function(){a.val(s?n:o).slider("refresh"),e.data(a.get(0),"mobile-slider").handle.focus(),i._sliderFirst.css("z-index",s?"":1),i._trigger("normalize")},0),this._proxy=s?"first":"last"),n===o?(e.data(r.get(0),"mobile-slider").handle.css("z-index",1),e.data(a.get(0),"mobile-slider").handle.css("z-index",0)):(e.data(a.get(0),"mobile-slider").handle.css("z-index",""),e.data(r.get(0),"mobile-slider").handle.css("z-index","")),this._updateHighlight(),n>=o?!1:void 0},_updateHighlight:function(){var t=parseInt(e.data(this._inputFirst.get(0),"mobile-slider").handle.get(0).style.left,10),i=parseInt(e.data(this._inputLast.get(0),"mobile-slider").handle.get(0).style.left,10),n=i-t;this.element.find(".ui-slider-bg").css({"margin-left":t+"%",width:n+"%"})},_setTheme:function(e){this._inputFirst.slider("option","theme",e),this._inputLast.slider("option","theme",e)},_setTrackTheme:function(e){this._inputFirst.slider("option","trackTheme",e),this._inputLast.slider("option","trackTheme",e)},_setMini:function(e){this._inputFirst.slider("option","mini",e),this._inputLast.slider("option","mini",e),this.element.toggleClass("ui-mini",!!e)},_setHighlight:function(e){this._inputFirst.slider("option","highlight",e),this._inputLast.slider("option","highlight",e)},_setDisabled:function(e){this._inputFirst.prop("disabled",e),this._inputLast.prop("disabled",e)},_destroy:function(){this._label.prependTo(this.element),this.element.removeClass("ui-rangeslider ui-mini"),this._inputFirst.after(this._sliderFirst),this._inputLast.after(this._sliderLast),this._sliders.remove(),this.element.find("input").removeClass("ui-rangeslider-first ui-rangeslider-last").slider("destroy")}},e.mobile.behaviors.formReset))}(e),function(e,t){e.widget("mobile.textinput",e.mobile.textinput,{options:{clearBtn:!1,clearBtnText:"Clear text"},_create:function(){this._super(),this.isSearch&&(this.options.clearBtn=!0),this.options.clearBtn&&this.inputNeedsWrap&&this._addClearBtn()},clearButton:function(){return e("<a href='#' tabindex='-1' aria-hidden='true' class='ui-input-clear ui-btn ui-icon-delete ui-btn-icon-notext ui-corner-all'></a>").attr("title",this.options.clearBtnText).text(this.options.clearBtnText)},_clearBtnClick:function(e){this.element.val("").focus().trigger("change"),this._clearBtn.addClass("ui-input-clear-hidden"),e.preventDefault()},_addClearBtn:function(){this.options.enhanced||this._enhanceClear(),e.extend(this,{_clearBtn:this.widget().find("a.ui-input-clear")}),this._bindClearEvents(),this._toggleClear()},_enhanceClear:function(){this.clearButton().appendTo(this.widget()),this.widget().addClass("ui-input-has-clear")},_bindClearEvents:function(){this._on(this._clearBtn,{click:"_clearBtnClick"}),this._on({keyup:"_toggleClear",change:"_toggleClear",input:"_toggleClear",focus:"_toggleClear",blur:"_toggleClear",cut:"_toggleClear",paste:"_toggleClear"})},_unbindClear:function(){this._off(this._clearBtn,"click"),this._off(this.element,"keyup change input focus blur cut paste")},_setOptions:function(e){this._super(e),e.clearBtn===t||this.element.is("textarea, :jqmData(type='range')")||(e.clearBtn?this._addClearBtn():this._destroyClear()),e.clearBtnText!==t&&this._clearBtn!==t&&this._clearBtn.text(e.clearBtnText).attr("title",e.clearBtnText)},_toggleClear:function(){this._delay("_toggleClearClass",0)},_toggleClearClass:function(){this._clearBtn.toggleClass("ui-input-clear-hidden",!this.element.val())},_destroyClear:function(){this.widget().removeClass("ui-input-has-clear"),this._unbindClear(),this._clearBtn.remove()},_destroy:function(){this._super(),this.options.clearBtn&&this._destroyClear()}})}(e),function(e,t){e.widget("mobile.textinput",e.mobile.textinput,{options:{autogrow:!0,keyupTimeoutBuffer:100},_create:function(){this._super(),this.options.autogrow&&this.isTextarea&&this._autogrow()},_autogrow:function(){this.element.addClass("ui-textinput-autogrow"),this._on({keyup:"_timeout",change:"_timeout",input:"_timeout",paste:"_timeout"}),this._on(!0,this.document,{pageshow:"_handleShow",popupbeforeposition:"_handleShow",updatelayout:"_handleShow",panelopen:"_handleShow"})},_handleShow:function(t){e.contains(t.target,this.element[0])&&this.element.is(":visible")&&("popupbeforeposition"!==t.type&&this.element.addClass("ui-textinput-autogrow-resize").animationComplete(e.proxy(function(){this.element.removeClass("ui-textinput-autogrow-resize")},this),"transition"),this._prepareHeightUpdate())},_unbindAutogrow:function(){this.element.removeClass("ui-textinput-autogrow"),this._off(this.element,"keyup change input paste"),this._off(this.document,"pageshow popupbeforeposition updatelayout panelopen")},keyupTimeout:null,_prepareHeightUpdate:function(e){this.keyupTimeout&&clearTimeout(this.keyupTimeout),e===t?this._updateHeight():this.keyupTimeout=this._delay("_updateHeight",e)},_timeout:function(){this._prepareHeightUpdate(this.options.keyupTimeoutBuffer)},_updateHeight:function(){var e,t,i,n,o,s,r,a,l,u=this.window.scrollTop();this.keyupTimeout=0,"onpage"in this.element[0]||this.element.css({height:0,"min-height":0,"max-height":0}),n=this.element[0].scrollHeight,o=this.element[0].clientHeight,s=parseFloat(this.element.css("border-top-width")),r=parseFloat(this.element.css("border-bottom-width")),a=s+r,l=n+a+15,0===o&&(e=parseFloat(this.element.css("padding-top")),t=parseFloat(this.element.css("padding-bottom")),i=e+t,l+=i),this.element.css({height:l,"min-height":"","max-height":""}),this.window.scrollTop(u)},refresh:function(){this.options.autogrow&&this.isTextarea&&this._updateHeight()},_setOptions:function(e){this._super(e),e.autogrow!==t&&this.isTextarea&&(e.autogrow?this._autogrow():this._unbindAutogrow())}})}(e),function(e){e.widget("mobile.selectmenu",e.extend({initSelector:"select:not( :jqmData(role='slider')):not( :jqmData(role='flipswitch') )",options:{theme:null,icon:"carat-d",iconpos:"right",inline:!1,corners:!0,shadow:!0,iconshadow:!1,overlayTheme:null,dividerTheme:null,hidePlaceholderMenuItems:!0,closeText:"Close",nativeMenu:!0,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,mini:!1},_button:function(){return e("<div/>")},_setDisabled:function(e){return this.element.attr("disabled",e),this.button.attr("aria-disabled",e),this._setOption("disabled",e)},_focusButton:function(){var e=this;setTimeout(function(){e.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){var t=this.options.inline||this.element.jqmData("inline"),i=this.options.mini||this.element.jqmData("mini"),n="";~this.element[0].className.indexOf("ui-btn-left")&&(n=" ui-btn-left"),~this.element[0].className.indexOf("ui-btn-right")&&(n=" ui-btn-right"),t&&(n+=" ui-btn-inline"),i&&(n+=" ui-mini"),this.select=this.element.removeClass("ui-btn-left ui-btn-right").wrap("<div class='ui-select"+n+"'>"),this.selectId=this.select.attr("id")||"select-"+this.uuid,this.buttonId=this.selectId+"-button",this.label=e("label[for='"+this.selectId+"']"),this.isMultiple=this.select[0].multiple},_destroy:function(){var e=this.element.parents(".ui-select");e.length>0&&(e.is(".ui-btn-left, .ui-btn-right")&&this.element.addClass(e.hasClass("ui-btn-left")?"ui-btn-left":"ui-btn-right"),this.element.insertAfter(e),e.remove())},_create:function(){this._preExtension(),this.button=this._button();var i=this,n=this.options,o=n.icon?n.iconpos||this.select.jqmData("iconpos"):!1,s=this.button.insertBefore(this.select).attr("id",this.buttonId).addClass("ui-btn"+(n.icon?" ui-icon-"+n.icon+" ui-btn-icon-"+o+(n.iconshadow?" ui-shadow-icon":""):"")+(n.theme?" ui-btn-"+n.theme:"")+(n.corners?" ui-corner-all":"")+(n.shadow?" ui-shadow":""));this.setButtonText(),n.nativeMenu&&t.opera&&t.opera.version&&s.addClass("ui-select-nativeonly"),this.isMultiple&&(this.buttonCount=e("<span>").addClass("ui-li-count ui-body-inherit").hide().appendTo(s.addClass("ui-li-has-count"))),(n.disabled||this.element.attr("disabled"))&&this.disable(),this.select.change(function(){i.refresh(),n.nativeMenu&&i._delay(function(){i.select.blur()})}),this._handleFormReset(),this._on(this.button,{keydown:"_handleKeydown"}),this.build()},build:function(){var t=this;this.select.appendTo(t.button).bind("vmousedown",function(){t.button.addClass(e.mobile.activeBtnClass)}).bind("focus",function(){t.button.addClass(e.mobile.focusClass)}).bind("blur",function(){t.button.removeClass(e.mobile.focusClass)}).bind("focus vmouseover",function(){t.button.trigger("vmouseover")}).bind("vmousemove",function(){t.button.removeClass(e.mobile.activeBtnClass)}).bind("change blur vmouseout",function(){t.button.trigger("vmouseout").removeClass(e.mobile.activeBtnClass)}),t.button.bind("vmousedown",function(){t.options.preventFocusZoom&&e.mobile.zoom.disable(!0)}),t.label.bind("click focus",function(){t.options.preventFocusZoom&&e.mobile.zoom.disable(!0)}),t.select.bind("focus",function(){t.options.preventFocusZoom&&e.mobile.zoom.disable(!0)}),t.button.bind("mouseup",function(){t.options.preventFocusZoom&&setTimeout(function(){e.mobile.zoom.enable(!0)},0)}),t.select.bind("blur",function(){t.options.preventFocusZoom&&e.mobile.zoom.enable(!0)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var e=this;return this.selected().map(function(){return e._selectOptions().index(this)}).get()},setButtonText:function(){var t=this,n=this.selected(),o=this.placeholder,s=e(i.createElement("span"));this.button.children("span").not(".ui-li-count").remove().end().end().prepend(function(){return o=n.length?n.map(function(){return e(this).text()}).get().join(", "):t.placeholder,o?s.text(o):s.html("&#160;"),s.addClass(t.select.attr("class")).addClass(n.attr("class")).removeClass("ui-screen-hidden")}())},setButtonCount:function(){var e=this.selected();this.isMultiple&&this.buttonCount[e.length>1?"show":"hide"]().text(e.length)},_handleKeydown:function(){this._delay("_refreshButton")},_reset:function(){this.refresh()},_refreshButton:function(){this.setButtonText(),this.setButtonCount()},refresh:function(){this._refreshButton()},open:e.noop,close:e.noop,disable:function(){this._setDisabled(!0),this.button.addClass("ui-state-disabled")},enable:function(){this._setDisabled(!1),this.button.removeClass("ui-state-disabled")}},e.mobile.behaviors.formReset))}(e),function(e){e.mobile.links=function(t){e(t).find("a").jqmEnhanceable().filter(":jqmData(rel='popup')[href][href!='']").each(function(){var e=this,t=e.getAttribute("href").substring(1);t&&(e.setAttribute("aria-haspopup",!0),e.setAttribute("aria-owns",t),e.setAttribute("aria-expanded",!1))}).end().not(".ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")}}(e),function(e,i){function n(e,t,i,n){var o=n;return o=t>e?i+(e-t)/2:Math.min(Math.max(i,n-t/2),i+e-t)}function o(e){return{x:e.scrollLeft(),y:e.scrollTop(),cx:e[0].innerWidth||e.width(),cy:e[0].innerHeight||e.height()}}e.widget("mobile.popup",{options:{wrapperClass:null,theme:null,overlayTheme:null,shadow:!0,corners:!0,transition:"none",positionTo:"origin",tolerance:null,closeLinkSelector:"a:jqmData(rel='back')",closeLinkEvents:"click.popup",navigateEvents:"navigate.popup",closeEvents:"navigate.popup pagebeforechange.popup",dismissible:!0,enhanced:!1,history:!e.mobile.browser.oldIE},_handleDocumentVmousedown:function(t){this._isOpen&&e.contains(this._ui.container[0],t.target)&&this._ignoreResizeEvents()},_create:function(){var t=this.element,i=t.attr("id"),n=this.options;n.history=n.history&&e.mobile.ajaxEnabled&&e.mobile.hashListeningEnabled,this._on(this.document,{vmousedown:"_handleDocumentVmousedown"}),e.extend(this,{_scrollTop:0,_page:t.closest(".ui-page"),_ui:null,_fallbackTransition:"",_currentTransition:!1,_prerequisites:null,_isOpen:!1,_tolerance:null,_resizeData:null,_ignoreResizeTo:0,_orientationchangeInProgress:!1}),0===this._page.length&&(this._page=e("body")),n.enhanced?this._ui={container:t.parent(),screen:t.parent().prev(),placeholder:e(this.document[0].getElementById(i+"-placeholder"))}:(this._ui=this._enhance(t,i),this._applyTransition(n.transition)),this._setTolerance(n.tolerance)._ui.focusElement=this._ui.container,this._on(this._ui.screen,{vclick:"_eatEventAndClose"}),this._on(this.window,{orientationchange:e.proxy(this,"_handleWindowOrientationchange"),resize:e.proxy(this,"_handleWindowResize"),keyup:e.proxy(this,"_handleWindowKeyUp")}),this._on(this.document,{focusin:"_handleDocumentFocusIn"})},_enhance:function(t,i){var n=this.options,o=n.wrapperClass,s={screen:e("<div class='ui-screen-hidden ui-popup-screen "+this._themeClassFromOption("ui-overlay-",n.overlayTheme)+"'></div>"),placeholder:e("<div style='display: none;'><!-- placeholder --></div>"),container:e("<div class='ui-popup-container ui-popup-hidden ui-popup-truncate"+(o?" "+o:"")+"'></div>")},r=this.document[0].createDocumentFragment();return r.appendChild(s.screen[0]),r.appendChild(s.container[0]),i&&(s.screen.attr("id",i+"-screen"),s.container.attr("id",i+"-popup"),s.placeholder.attr("id",i+"-placeholder").html("<!-- placeholder for "+i+" -->")),this._page[0].appendChild(r),s.placeholder.insertAfter(t),t.detach().addClass("ui-popup "+this._themeClassFromOption("ui-body-",n.theme)+" "+(n.shadow?"ui-overlay-shadow ":"")+(n.corners?"ui-corner-all ":"")).appendTo(s.container),s},_eatEventAndClose:function(e){return e.preventDefault(),e.stopImmediatePropagation(),this.options.dismissible&&this.close(),!1},_resizeScreen:function(){var e=this._ui.screen,t=this._ui.container.outerHeight(!0),i=e.removeAttr("style").height(),n=this.document.height()-1;n>i?e.height(n):t>i&&e.height(t)},_handleWindowKeyUp:function(t){return this._isOpen&&t.keyCode===e.mobile.keyCode.ESCAPE?this._eatEventAndClose(t):void 0},_expectResizeEvent:function(){var e=o(this.window);if(this._resizeData){if(e.x===this._resizeData.windowCoordinates.x&&e.y===this._resizeData.windowCoordinates.y&&e.cx===this._resizeData.windowCoordinates.cx&&e.cy===this._resizeData.windowCoordinates.cy)return!1;clearTimeout(this._resizeData.timeoutId)}return this._resizeData={timeoutId:this._delay("_resizeTimeout",200),windowCoordinates:e},!0},_resizeTimeout:function(){this._isOpen?this._expectResizeEvent()||(this._ui.container.hasClass("ui-popup-hidden")&&(this._ui.container.removeClass("ui-popup-hidden ui-popup-truncate"),this.reposition({positionTo:"window"}),this._ignoreResizeEvents()),this._resizeScreen(),this._resizeData=null,this._orientationchangeInProgress=!1):(this._resizeData=null,this._orientationchangeInProgress=!1)},_stopIgnoringResizeEvents:function(){this._ignoreResizeTo=0},_ignoreResizeEvents:function(){this._ignoreResizeTo&&clearTimeout(this._ignoreResizeTo),this._ignoreResizeTo=this._delay("_stopIgnoringResizeEvents",1e3)},_handleWindowResize:function(){this._isOpen&&0===this._ignoreResizeTo&&(!this._expectResizeEvent()&&!this._orientationchangeInProgress||this._ui.container.hasClass("ui-popup-hidden")||this._ui.container.addClass("ui-popup-hidden ui-popup-truncate").removeAttr("style"))},_handleWindowOrientationchange:function(){!this._orientationchangeInProgress&&this._isOpen&&0===this._ignoreResizeTo&&(this._expectResizeEvent(),this._orientationchangeInProgress=!0)},_handleDocumentFocusIn:function(t){var i,n=t.target,o=this._ui;if(this._isOpen){if(n!==o.container[0]){if(i=e(n),!e.contains(o.container[0],n))return e(this.document[0].activeElement).one("focus",e.proxy(function(){this._safelyBlur(n)},this)),o.focusElement.focus(),t.preventDefault(),t.stopImmediatePropagation(),!1;o.focusElement[0]===o.container[0]&&(o.focusElement=i)}this._ignoreResizeEvents()}},_themeClassFromOption:function(e,t){return t?"none"===t?"":e+t:e+"inherit"},_applyTransition:function(t){return t&&(this._ui.container.removeClass(this._fallbackTransition),"none"!==t&&(this._fallbackTransition=e.mobile._maybeDegradeTransition(t),"none"===this._fallbackTransition&&(this._fallbackTransition=""),this._ui.container.addClass(this._fallbackTransition))),this},_setOptions:function(e){var t=this.options,n=this.element,o=this._ui.screen;return e.wrapperClass!==i&&this._ui.container.removeClass(t.wrapperClass).addClass(e.wrapperClass),e.theme!==i&&n.removeClass(this._themeClassFromOption("ui-body-",t.theme)).addClass(this._themeClassFromOption("ui-body-",e.theme)),e.overlayTheme!==i&&(o.removeClass(this._themeClassFromOption("ui-overlay-",t.overlayTheme)).addClass(this._themeClassFromOption("ui-overlay-",e.overlayTheme)),this._isOpen&&o.addClass("in")),e.shadow!==i&&n.toggleClass("ui-overlay-shadow",e.shadow),e.corners!==i&&n.toggleClass("ui-corner-all",e.corners),e.transition!==i&&(this._currentTransition||this._applyTransition(e.transition)),e.tolerance!==i&&this._setTolerance(e.tolerance),e.disabled!==i&&e.disabled&&this.close(),this._super(e)},_setTolerance:function(t){var n,o={t:30,r:15,b:30,l:15};if(t!==i)switch(n=String(t).split(","),e.each(n,function(e,t){n[e]=parseInt(t,10)}),n.length){case 1:isNaN(n[0])||(o.t=o.r=o.b=o.l=n[0]);break;case 2:isNaN(n[0])||(o.t=o.b=n[0]),isNaN(n[1])||(o.l=o.r=n[1]);break;case 4:isNaN(n[0])||(o.t=n[0]),isNaN(n[1])||(o.r=n[1]),isNaN(n[2])||(o.b=n[2]),isNaN(n[3])||(o.l=n[3])}return this._tolerance=o,this},_clampPopupWidth:function(e){var t,i=o(this.window),n={x:this._tolerance.l,y:i.y+this._tolerance.t,cx:i.cx-this._tolerance.l-this._tolerance.r,cy:i.cy-this._tolerance.t-this._tolerance.b};return e||this._ui.container.css("max-width",n.cx),t={cx:this._ui.container.outerWidth(!0),cy:this._ui.container.outerHeight(!0)},{rc:n,menuSize:t}},_calculateFinalLocation:function(e,t){var i,o=t.rc,s=t.menuSize;return i={left:n(o.cx,s.cx,o.x,e.x),top:n(o.cy,s.cy,o.y,e.y)},i.top=Math.max(0,i.top),i.top-=Math.min(i.top,Math.max(0,i.top+s.cy-this.document.height())),i},_placementCoords:function(e){return this._calculateFinalLocation(e,this._clampPopupWidth())},_createPrerequisites:function(t,i,n){var o,s=this;o={screen:e.Deferred(),container:e.Deferred()},o.screen.then(function(){o===s._prerequisites&&t()}),o.container.then(function(){o===s._prerequisites&&i()}),e.when(o.screen,o.container).done(function(){o===s._prerequisites&&(s._prerequisites=null,n())}),s._prerequisites=o},_animate:function(t){return this._ui.screen.removeClass(t.classToRemove).addClass(t.screenClassToAdd),t.prerequisites.screen.resolve(),t.transition&&"none"!==t.transition&&(t.applyTransition&&this._applyTransition(t.transition),this._fallbackTransition)?void this._ui.container.addClass(t.containerClassToAdd).removeClass(t.classToRemove).animationComplete(e.proxy(t.prerequisites.container,"resolve")):(this._ui.container.removeClass(t.classToRemove),void t.prerequisites.container.resolve())},_desiredCoords:function(t){var i,n=null,s=o(this.window),r=t.x,a=t.y,l=t.positionTo;if(l&&"origin"!==l)if("window"===l)r=s.cx/2+s.x,a=s.cy/2+s.y;else{try{n=e(l)}catch(u){n=null}n&&(n.filter(":visible"),0===n.length&&(n=null))}return n&&(i=n.offset(),r=i.left+n.outerWidth()/2,a=i.top+n.outerHeight()/2),("number"!==e.type(r)||isNaN(r))&&(r=s.cx/2+s.x),("number"!==e.type(a)||isNaN(a))&&(a=s.cy/2+s.y),{x:r,y:a}},_reposition:function(e){e={x:e.x,y:e.y,positionTo:e.positionTo},this._trigger("beforeposition",i,e),this._ui.container.offset(this._placementCoords(this._desiredCoords(e)))},reposition:function(e){this._isOpen&&this._reposition(e)},_safelyBlur:function(t){t!==this.window[0]&&"body"!==t.nodeName.toLowerCase()&&e(t).blur()},_openPrerequisitesComplete:function(){var t=this.element.attr("id"),i=this._ui.container.find(":focusable").first();this._ui.container.addClass("ui-popup-active"),this._isOpen=!0,this._resizeScreen(),e.contains(this._ui.container[0],this.document[0].activeElement)||this._safelyBlur(this.document[0].activeElement),i.length>0&&(this._ui.focusElement=i),this._ignoreResizeEvents(),t&&this.document.find("[aria-haspopup='true'][aria-owns='"+t+"']").attr("aria-expanded",!0),this._trigger("afteropen")},_open:function(t){var i=e.extend({},this.options,t),n=function(){var e=navigator.userAgent,t=e.match(/AppleWebKit\/([0-9\.]+)/),i=!!t&&t[1],n=e.match(/Android (\d+(?:\.\d+))/),o=!!n&&n[1],s=e.indexOf("Chrome")>-1;return null!==n&&"4.0"===o&&i&&i>534.13&&!s?!0:!1}();this._createPrerequisites(e.noop,e.noop,e.proxy(this,"_openPrerequisitesComplete")),this._currentTransition=i.transition,this._applyTransition(i.transition),this._ui.screen.removeClass("ui-screen-hidden"),this._ui.container.removeClass("ui-popup-truncate"),this._reposition(i),this._ui.container.removeClass("ui-popup-hidden"),this.options.overlayTheme&&n&&this.element.closest(".ui-page").addClass("ui-popup-open"),this._animate({additionalCondition:!0,transition:i.transition,classToRemove:"",screenClassToAdd:"in",containerClassToAdd:"in",applyTransition:!1,prerequisites:this._prerequisites})},_closePrerequisiteScreen:function(){this._ui.screen.removeClass("out").addClass("ui-screen-hidden")},_closePrerequisiteContainer:function(){this._ui.container.removeClass("reverse out").addClass("ui-popup-hidden ui-popup-truncate").removeAttr("style")},_closePrerequisitesDone:function(){var t=this._ui.container,n=this.element.attr("id");e.mobile.popup.active=i,e(":focus",t[0]).add(t[0]).blur(),n&&this.document.find("[aria-haspopup='true'][aria-owns='"+n+"']").attr("aria-expanded",!1),this._trigger("afterclose")},_close:function(t){this._ui.container.removeClass("ui-popup-active"),this._page.removeClass("ui-popup-open"),this._isOpen=!1,this._createPrerequisites(e.proxy(this,"_closePrerequisiteScreen"),e.proxy(this,"_closePrerequisiteContainer"),e.proxy(this,"_closePrerequisitesDone")),this._animate({additionalCondition:this._ui.screen.hasClass("in"),transition:t?"none":this._currentTransition,classToRemove:"in",screenClassToAdd:"out",containerClassToAdd:"reverse out",applyTransition:!0,prerequisites:this._prerequisites})},_unenhance:function(){this.options.enhanced||(this._setOptions({theme:e.mobile.popup.prototype.options.theme}),this.element.detach().insertAfter(this._ui.placeholder).removeClass("ui-popup ui-overlay-shadow ui-corner-all ui-body-inherit"),this._ui.screen.remove(),this._ui.container.remove(),this._ui.placeholder.remove())},_destroy:function(){return e.mobile.popup.active===this?(this.element.one("popupafterclose",e.proxy(this,"_unenhance")),this.close()):this._unenhance(),this},_closePopup:function(i,n){var o,s,r=this.options,a=!1;i&&i.isDefaultPrevented()||e.mobile.popup.active!==this||(t.scrollTo(0,this._scrollTop),i&&"pagebeforechange"===i.type&&n&&(o="string"==typeof n.toPage?n.toPage:n.toPage.jqmData("url"),o=e.mobile.path.parseUrl(o),s=o.pathname+o.search+o.hash,this._myUrl!==e.mobile.path.makeUrlAbsolute(s)?a=!0:i.preventDefault()),this.window.off(r.closeEvents),this.element.undelegate(r.closeLinkSelector,r.closeLinkEvents),this._close(a))},_bindContainerClose:function(){this.window.on(this.options.closeEvents,e.proxy(this,"_closePopup"))},widget:function(){return this._ui.container},open:function(t){var i,n,o,s,r,a,l=this,u=this.options;return e.mobile.popup.active||u.disabled?this:(e.mobile.popup.active=this,this._scrollTop=this.window.scrollTop(),u.history?(a=e.mobile.navigate.history,n=e.mobile.dialogHashKey,o=e.mobile.activePage,s=o?o.hasClass("ui-dialog"):!1,this._myUrl=i=a.getActive().url,(r=i.indexOf(n)>-1&&!s&&a.activeIndex>0)?(l._open(t),l._bindContainerClose(),this):(-1!==i.indexOf(n)||s?i=e.mobile.path.parseLocation().hash+n:i+=i.indexOf("#")>-1?n:"#"+n,this.window.one("beforenavigate",function(e){e.preventDefault(),l._open(t),l._bindContainerClose()
}),this.urlAltered=!0,e.mobile.navigate(i,{role:"dialog"}),this)):(l._open(t),l._bindContainerClose(),l.element.delegate(u.closeLinkSelector,u.closeLinkEvents,function(e){l.close(),e.preventDefault()}),this))},close:function(){return e.mobile.popup.active!==this?this:(this._scrollTop=this.window.scrollTop(),this.options.history&&this.urlAltered?(e.mobile.back(),this.urlAltered=!1):this._closePopup(),this)}}),e.mobile.popup.handleLink=function(t){var i,n=e.mobile.path,o=e(n.hashToSelector(n.parseUrl(t.attr("href")).hash)).first();o.length>0&&o.data("mobile-popup")&&(i=t.offset(),o.popup("open",{x:i.left+t.outerWidth()/2,y:i.top+t.outerHeight()/2,transition:t.jqmData("transition"),positionTo:t.jqmData("position-to")})),setTimeout(function(){t.removeClass(e.mobile.activeBtnClass)},300)},e.mobile.document.on("pagebeforechange",function(t,i){"popup"===i.options.role&&(e.mobile.popup.handleLink(i.options.link),t.preventDefault())})}(e),function(e,t){var n=".ui-disabled,.ui-state-disabled,.ui-li-divider,.ui-screen-hidden,:jqmData(role='placeholder')",o=function(e,t,i){var o=e[i+"All"]().not(n).first();o.length&&(t.blur().attr("tabindex","-1"),o.find("a").first().focus())};e.widget("mobile.selectmenu",e.mobile.selectmenu,{_create:function(){var e=this.options;return e.nativeMenu=e.nativeMenu||this.element.parents(":jqmData(role='popup'),:mobile-popup").length>0,this._super()},_handleSelectFocus:function(){this.element.blur(),this.button.focus()},_handleKeydown:function(e){this._super(e),this._handleButtonVclickKeydown(e)},_handleButtonVclickKeydown:function(t){this.options.disabled||this.isOpen||this.options.nativeMenu||("vclick"===t.type||t.keyCode&&(t.keyCode===e.mobile.keyCode.ENTER||t.keyCode===e.mobile.keyCode.SPACE))&&(this._decideFormat(),"overlay"===this.menuType?this.button.attr("href","#"+this.popupId).attr("data-"+(e.mobile.ns||"")+"rel","popup"):this.button.attr("href","#"+this.dialogId).attr("data-"+(e.mobile.ns||"")+"rel","dialog"),this.isOpen=!0)},_handleListFocus:function(t){var i="focusin"===t.type?{tabindex:"0",event:"vmouseover"}:{tabindex:"-1",event:"vmouseout"};e(t.target).attr("tabindex",i.tabindex).trigger(i.event)},_handleListKeydown:function(t){var i=e(t.target),n=i.closest("li");switch(t.keyCode){case 38:return o(n,i,"prev"),!1;case 40:return o(n,i,"next"),!1;case 13:case 32:return i.trigger("click"),!1}},_handleMenuPageHide:function(){this._delayedTrigger(),this.thisPage.page("bindRemove")},_handleHeaderCloseClick:function(){return"overlay"===this.menuType?(this.close(),!1):void 0},_handleListItemClick:function(t){var i=e(t.target).closest("li"),n=this.select[0].selectedIndex,o=e.mobile.getAttribute(i,"option-index"),s=this._selectOptions().eq(o)[0];s.selected=this.isMultiple?!s.selected:!0,this.isMultiple&&i.find("a").toggleClass("ui-checkbox-on",s.selected).toggleClass("ui-checkbox-off",!s.selected),this.isMultiple||n===o||(this._triggerChange=!0),this.isMultiple?(this.select.trigger("change"),this.list.find("li:not(.ui-li-divider)").eq(o).find("a").first().focus()):this.close(),t.preventDefault()},build:function(){var i,n,o,s,r,a,l,u,c,h,d,p,f,m,g,v,b,y,w,_=this.options;return _.nativeMenu?this._super():(i=this.selectId,n=i+"-listbox",o=i+"-dialog",s=this.label,r=this.element.closest(".ui-page"),a=this.element[0].multiple,l=i+"-menu",u=_.theme?" data-"+e.mobile.ns+"theme='"+_.theme+"'":"",c=_.overlayTheme||_.theme||null,h=c?" data-"+e.mobile.ns+"overlay-theme='"+c+"'":"",d=_.dividerTheme&&a?" data-"+e.mobile.ns+"divider-theme='"+_.dividerTheme+"'":"",p=e("<div data-"+e.mobile.ns+"role='dialog' class='ui-selectmenu' id='"+o+"'"+u+h+"><div data-"+e.mobile.ns+"role='header'><div class='ui-title'></div></div><div data-"+e.mobile.ns+"role='content'></div></div>"),f=e("<div"+u+h+" id='"+n+"' class='ui-selectmenu'></div>").insertAfter(this.select).popup(),m=e("<ul class='ui-selectmenu-list' id='"+l+"' role='listbox' aria-labelledby='"+this.buttonId+"'"+u+d+"></ul>").appendTo(f),g=e("<div class='ui-header ui-bar-"+(_.theme?_.theme:"inherit")+"'></div>").prependTo(f),v=e("<h1 class='ui-title'></h1>").appendTo(g),this.isMultiple&&(w=e("<a>",{role:"button",text:_.closeText,href:"#","class":"ui-btn ui-corner-all ui-btn-left ui-btn-icon-notext ui-icon-delete"}).appendTo(g)),e.extend(this,{selectId:i,menuId:l,popupId:n,dialogId:o,thisPage:r,menuPage:p,label:s,isMultiple:a,theme:_.theme,listbox:f,list:m,header:g,headerTitle:v,headerClose:w,menuPageContent:b,menuPageClose:y,placeholder:""}),this.refresh(),this._origTabIndex===t&&(this._origTabIndex=null===this.select[0].getAttribute("tabindex")?!1:this.select.attr("tabindex")),this.select.attr("tabindex","-1"),this._on(this.select,{focus:"_handleSelectFocus"}),this._on(this.button,{vclick:"_handleButtonVclickKeydown"}),this.list.attr("role","listbox"),this._on(this.list,{focusin:"_handleListFocus",focusout:"_handleListFocus",keydown:"_handleListKeydown","click li:not(.ui-disabled,.ui-state-disabled,.ui-li-divider)":"_handleListItemClick"}),this._on(this.menuPage,{pagehide:"_handleMenuPageHide"}),this._on(this.listbox,{popupafterclose:"_popupClosed"}),this.isMultiple&&this._on(this.headerClose,{click:"_handleHeaderCloseClick"}),this)},_popupClosed:function(){this.close(),this._delayedTrigger()},_delayedTrigger:function(){this._triggerChange&&this.element.trigger("change"),this._triggerChange=!1},_isRebuildRequired:function(){var e=this.list.find("li"),t=this._selectOptions().not(".ui-screen-hidden");return t.text()!==e.text()},selected:function(){return this._selectOptions().filter(":selected:not( :jqmData(placeholder='true') )")},refresh:function(t){var i,n;return this.options.nativeMenu?this._super(t):(i=this,(t||this._isRebuildRequired())&&i._buildList(),n=this.selectedIndices(),i.setButtonText(),i.setButtonCount(),void i.list.find("li:not(.ui-li-divider)").find("a").removeClass(e.mobile.activeBtnClass).end().attr("aria-selected",!1).each(function(t){var o=e(this);e.inArray(t,n)>-1?(o.attr("aria-selected",!0),i.isMultiple?o.find("a").removeClass("ui-checkbox-off").addClass("ui-checkbox-on"):o.hasClass("ui-screen-hidden")?o.next().find("a").addClass(e.mobile.activeBtnClass):o.find("a").addClass(e.mobile.activeBtnClass)):i.isMultiple&&o.find("a").removeClass("ui-checkbox-on").addClass("ui-checkbox-off")}))},close:function(){if(!this.options.disabled&&this.isOpen){var e=this;"page"===e.menuType?(e.menuPage.dialog("close"),e.list.appendTo(e.listbox)):e.listbox.popup("close"),e._focusButton(),e.isOpen=!1}},open:function(){this.button.click()},_focusMenuItem:function(){var t=this.list.find("a."+e.mobile.activeBtnClass);0===t.length&&(t=this.list.find("li:not("+n+") a.ui-btn")),t.first().focus()},_decideFormat:function(){var t=this,i=this.window,n=t.list.parent(),o=n.outerHeight(),s=i.scrollTop(),r=t.button.offset().top,a=i.height();o>a-80||!e.support.scrollTop?(t.menuPage.appendTo(e.mobile.pageContainer).page(),t.menuPageContent=t.menuPage.find(".ui-content"),t.menuPageClose=t.menuPage.find(".ui-header a"),t.thisPage.unbind("pagehide.remove"),0===s&&r>a&&t.thisPage.one("pagehide",function(){e(this).jqmData("lastScroll",r)}),t.menuPage.one({pageshow:e.proxy(this,"_focusMenuItem"),pagehide:e.proxy(this,"close")}),t.menuType="page",t.menuPageContent.append(t.list),t.menuPage.find("div .ui-title").text(t.label.getEncodedText()||t.placeholder)):(t.menuType="overlay",t.listbox.one({popupafteropen:e.proxy(this,"_focusMenuItem")}))},_buildList:function(){var t,n,o,s,r,a,l,u,c,h,d,p,f,m,g=this,v=this.options,b=this.placeholder,y=!0,w="false",_="data-"+e.mobile.ns,x=_+"option-index",C=_+"icon",k=_+"role",T=_+"placeholder",S=i.createDocumentFragment(),P=!1;for(g.list.empty().filter(".ui-listview").listview("destroy"),t=this._selectOptions(),n=t.length,o=this.select[0],r=0;n>r;r++,P=!1)a=t[r],l=e(a),l.hasClass("ui-screen-hidden")||(u=a.parentNode,d=[],c=l.text(),h=i.createElement("a"),h.setAttribute("href","#"),h.appendChild(i.createTextNode(c)),u!==o&&"optgroup"===u.nodeName.toLowerCase()&&(p=u.getAttribute("label"),p!==s&&(f=i.createElement("li"),f.setAttribute(k,"list-divider"),f.setAttribute("role","option"),f.setAttribute("tabindex","-1"),f.appendChild(i.createTextNode(p)),S.appendChild(f),s=p)),!y||a.getAttribute("value")&&0!==c.length&&!l.jqmData("placeholder")||(y=!1,P=!0,null===a.getAttribute(T)&&(this._removePlaceholderAttr=!0),a.setAttribute(T,!0),v.hidePlaceholderMenuItems&&d.push("ui-screen-hidden"),b!==c&&(b=g.placeholder=c)),m=i.createElement("li"),a.disabled&&(d.push("ui-state-disabled"),m.setAttribute("aria-disabled",!0)),m.setAttribute(x,r),m.setAttribute(C,w),P&&m.setAttribute(T,!0),m.className=d.join(" "),m.setAttribute("role","option"),h.setAttribute("tabindex","-1"),this.isMultiple&&e(h).addClass("ui-btn ui-checkbox-off ui-btn-icon-right"),m.appendChild(h),S.appendChild(m));g.list[0].appendChild(S),this.isMultiple||b.length?this.headerTitle.text(this.placeholder):this.header.addClass("ui-screen-hidden"),g.list.listview()},_button:function(){return this.options.nativeMenu?this._super():e("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})},_destroy:function(){this.options.nativeMenu||(this.close(),this._origTabIndex!==t&&(this._origTabIndex!==!1?this.select.attr("tabindex",this._origTabIndex):this.select.removeAttr("tabindex")),this._removePlaceholderAttr&&this._selectOptions().removeAttr("data-"+e.mobile.ns+"placeholder"),this.listbox.remove(),this.menuPage.remove()),this._super()}})}(e),function(e,t){function i(e,t){var i=t?t:[];return i.push("ui-btn"),e.theme&&i.push("ui-btn-"+e.theme),e.icon&&(i=i.concat(["ui-icon-"+e.icon,"ui-btn-icon-"+e.iconpos]),e.iconshadow&&i.push("ui-shadow-icon")),e.inline&&i.push("ui-btn-inline"),e.shadow&&i.push("ui-shadow"),e.corners&&i.push("ui-corner-all"),e.mini&&i.push("ui-mini"),i}function n(e){var i,n,o,r=!1,a=!0,l={icon:"",inline:!1,shadow:!1,corners:!1,iconshadow:!1,mini:!1},u=[];for(e=e.split(" "),i=0;i<e.length;i++)o=!0,n=s[e[i]],n!==t?(o=!1,l[n]=!0):0===e[i].indexOf("ui-btn-icon-")?(o=!1,a=!1,l.iconpos=e[i].substring(12)):0===e[i].indexOf("ui-icon-")?(o=!1,l.icon=e[i].substring(8)):0===e[i].indexOf("ui-btn-")&&8===e[i].length?(o=!1,l.theme=e[i].substring(7)):"ui-btn"===e[i]&&(o=!1,r=!0),o&&u.push(e[i]);return a&&(l.icon=""),{options:l,unknownClasses:u,alreadyEnhanced:r}}function o(e){return"-"+e.toLowerCase()}var s={"ui-shadow":"shadow","ui-corner-all":"corners","ui-btn-inline":"inline","ui-shadow-icon":"iconshadow","ui-mini":"mini"},r=function(){var i=e.mobile.getAttribute.apply(this,arguments);return null==i?t:i},a=/[A-Z]/g;e.fn.buttonMarkup=function(s,l){var u,c,h,d,p,f=e.fn.buttonMarkup.defaults;for(u=0;u<this.length;u++){if(h=this[u],c=l?{alreadyEnhanced:!1,unknownClasses:[]}:n(h.className),d=e.extend({},c.alreadyEnhanced?c.options:{},s),!c.alreadyEnhanced)for(p in f)d[p]===t&&(d[p]=r(h,p.replace(a,o)));h.className=i(e.extend({},f,d),c.unknownClasses).join(" "),"button"!==h.tagName.toLowerCase()&&h.setAttribute("role","button")}return this},e.fn.buttonMarkup.defaults={icon:"",iconpos:"left",theme:null,inline:!1,shadow:!0,corners:!0,iconshadow:!1,mini:!1},e.extend(e.fn.buttonMarkup,{initSelector:"a:jqmData(role='button'), .ui-bar > a, .ui-bar > :jqmData(role='controlgroup') > a, button:not(:jqmData(role='navbar') button)"})}(e),function(e,t){e.widget("mobile.controlgroup",e.extend({options:{enhanced:!1,theme:null,shadow:!1,corners:!0,excludeInvisible:!0,type:"vertical",mini:!1},_create:function(){var t=this.element,i=this.options,n=e.mobile.page.prototype.keepNativeSelector();e.fn.buttonMarkup&&this.element.find(e.fn.buttonMarkup.initSelector).not(n).buttonMarkup(),e.each(this._childWidgets,e.proxy(function(t,i){e.mobile[i]&&this.element.find(e.mobile[i].initSelector).not(n)[i]()},this)),e.extend(this,{_ui:null,_initialRefresh:!0}),this._ui=i.enhanced?{groupLegend:t.children(".ui-controlgroup-label").children(),childWrapper:t.children(".ui-controlgroup-controls")}:this._enhance()},_childWidgets:["checkboxradio","selectmenu","button"],_themeClassFromOption:function(e){return e?"none"===e?"":"ui-group-theme-"+e:""},_enhance:function(){var t=this.element,i=this.options,n={groupLegend:t.children("legend"),childWrapper:t.addClass("ui-controlgroup ui-controlgroup-"+("horizontal"===i.type?"horizontal":"vertical")+" "+this._themeClassFromOption(i.theme)+" "+(i.corners?"ui-corner-all ":"")+(i.mini?"ui-mini ":"")).wrapInner("<div class='ui-controlgroup-controls "+(i.shadow===!0?"ui-shadow":"")+"'></div>").children()};return n.groupLegend.length>0&&e("<div role='heading' class='ui-controlgroup-label'></div>").append(n.groupLegend).prependTo(t),n},_init:function(){this.refresh()},_setOptions:function(e){var i,n,o=this.element;return e.type!==t&&(o.removeClass("ui-controlgroup-horizontal ui-controlgroup-vertical").addClass("ui-controlgroup-"+("horizontal"===e.type?"horizontal":"vertical")),i=!0),e.theme!==t&&o.removeClass(this._themeClassFromOption(this.options.theme)).addClass(this._themeClassFromOption(e.theme)),e.corners!==t&&o.toggleClass("ui-corner-all",e.corners),e.mini!==t&&o.toggleClass("ui-mini",e.mini),e.shadow!==t&&this._ui.childWrapper.toggleClass("ui-shadow",e.shadow),e.excludeInvisible!==t&&(this.options.excludeInvisible=e.excludeInvisible,i=!0),n=this._super(e),i&&this.refresh(),n},container:function(){return this._ui.childWrapper},refresh:function(){var t=this.container(),i=t.find(".ui-btn").not(".ui-slider-handle"),n=this._initialRefresh;e.mobile.checkboxradio&&t.find(":mobile-checkboxradio").checkboxradio("refresh"),this._addFirstLastClasses(i,this.options.excludeInvisible?this._getVisibles(i,n):i,n),this._initialRefresh=!1},_destroy:function(){var e,t,i=this.options;return i.enhanced?this:(e=this._ui,t=this.element.removeClass("ui-controlgroup ui-controlgroup-horizontal ui-controlgroup-vertical ui-corner-all ui-mini "+this._themeClassFromOption(i.theme)).find(".ui-btn").not(".ui-slider-handle"),this._removeFirstLastClasses(t),e.groupLegend.unwrap(),void e.childWrapper.children().unwrap())}},e.mobile.behaviors.addFirstLastClasses))}(e),function(e,t){e.widget("mobile.toolbar",{initSelector:":jqmData(role='footer'), :jqmData(role='header')",options:{theme:null,addBackBtn:!1,backBtnTheme:null,backBtnText:"Back"},_create:function(){var t,i,n=this.element.is(":jqmData(role='header')")?"header":"footer",o=this.element.closest(".ui-page");0===o.length&&(o=!1,this._on(this.document,{pageshow:"refresh"})),e.extend(this,{role:n,page:o,leftbtn:t,rightbtn:i}),this.element.attr("role","header"===n?"banner":"contentinfo").addClass("ui-"+n),this.refresh(),this._setOptions(this.options)},_setOptions:function(e){if(e.addBackBtn!==t&&this._updateBackButton(),null!=e.backBtnTheme&&this.element.find(".ui-toolbar-back-btn").addClass("ui-btn ui-btn-"+e.backBtnTheme),e.backBtnText!==t&&this.element.find(".ui-toolbar-back-btn .ui-btn-text").text(e.backBtnText),e.theme!==t){var i=this.options.theme?this.options.theme:"inherit",n=e.theme?e.theme:"inherit";this.element.removeClass("ui-bar-"+i).addClass("ui-bar-"+n)}this._super(e)},refresh:function(){"header"===this.role&&this._addHeaderButtonClasses(),this.page||(this._setRelative(),"footer"===this.role?this.element.appendTo("body"):"header"===this.role&&this._updateBackButton()),this._addHeadingClasses(),this._btnMarkup()},_setRelative:function(){e("[data-"+e.mobile.ns+"role='page']").css({position:"relative"})},_btnMarkup:function(){this.element.children("a").filter(":not([data-"+e.mobile.ns+"role='none'])").attr("data-"+e.mobile.ns+"role","button"),this.element.trigger("create")},_addHeaderButtonClasses:function(){var e=this.element.children("a, button");this.leftbtn=e.hasClass("ui-btn-left")&&!e.hasClass("ui-toolbar-back-btn"),this.rightbtn=e.hasClass("ui-btn-right"),this.leftbtn=this.leftbtn||e.eq(0).not(".ui-btn-right,.ui-toolbar-back-btn").addClass("ui-btn-left").length,this.rightbtn=this.rightbtn||e.eq(1).addClass("ui-btn-right").length},_updateBackButton:function(){var t,i=this.options,n=i.backBtnTheme||i.theme;t=this._backButton=this._backButton||{},this.options.addBackBtn&&"header"===this.role&&e(".ui-page").length>1&&(this.page?this.page[0].getAttribute("data-"+e.mobile.ns+"url")!==e.mobile.path.stripHash(location.hash):e.mobile.navigate&&e.mobile.navigate.history&&e.mobile.navigate.history.activeIndex>0)&&!this.leftbtn?t.attached||(this.backButton=t.element=(t.element||e("<a role='button' href='javascript:void(0);' class='ui-btn ui-corner-all ui-shadow ui-btn-left "+(n?"ui-btn-"+n+" ":"")+"ui-toolbar-back-btn ui-icon-carat-l ui-btn-icon-left' data-"+e.mobile.ns+"rel='back'>"+i.backBtnText+"</a>")).prependTo(this.element),t.attached=!0):t.element&&(t.element.detach(),t.attached=!1)},_addHeadingClasses:function(){this.element.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({role:"heading","aria-level":"1"})},_destroy:function(){var e;this.element.children("h1, h2, h3, h4, h5, h6").removeClass("ui-title").removeAttr("role").removeAttr("aria-level"),"header"===this.role&&(this.element.children("a, button").removeClass("ui-btn-left ui-btn-right ui-btn ui-shadow ui-corner-all"),this.backButton&&this.backButton.remove()),e=this.options.theme?this.options.theme:"inherit",this.element.removeClass("ui-bar-"+e),this.element.removeClass("ui-"+this.role).removeAttr("role")}})}(e),function(e,t){e.widget("mobile.toolbar",e.mobile.toolbar,{options:{position:null,visibleOnPageShow:!0,disablePageZoom:!0,transition:"slide",fullscreen:!1,tapToggle:!0,tapToggleBlacklist:"a, button, input, select, textarea, .ui-header-fixed, .ui-footer-fixed, .ui-flipswitch, .ui-popup, .ui-panel, .ui-panel-dismiss-open",hideDuringFocus:"input, textarea, select",updatePagePadding:!0,trackPersistentToolbars:!0,supportBlacklist:function(){return!e.support.fixedPosition}},_create:function(){this._super(),this.pagecontainer=e(":mobile-pagecontainer"),"fixed"!==this.options.position||this.options.supportBlacklist()||this._makeFixed()},_makeFixed:function(){this.element.addClass("ui-"+this.role+"-fixed"),this.updatePagePadding(),this._addTransitionClass(),this._bindPageEvents(),this._bindToggleHandlers()},_setOptions:function(i){if("fixed"===i.position&&"fixed"!==this.options.position&&this._makeFixed(),"fixed"===this.options.position&&!this.options.supportBlacklist()){var n=this.page?this.page:e(".ui-page-active").length>0?e(".ui-page-active"):e(".ui-page").eq(0);i.fullscreen!==t&&(i.fullscreen?(this.element.addClass("ui-"+this.role+"-fullscreen"),n.addClass("ui-page-"+this.role+"-fullscreen")):(this.element.removeClass("ui-"+this.role+"-fullscreen"),n.removeClass("ui-page-"+this.role+"-fullscreen").addClass("ui-page-"+this.role+"-fixed")))}this._super(i)},_addTransitionClass:function(){var e=this.options.transition;e&&"none"!==e&&("slide"===e&&(e=this.element.hasClass("ui-header")?"slidedown":"slideup"),this.element.addClass(e))},_bindPageEvents:function(){var e=this.page?this.element.closest(".ui-page"):this.document;this._on(e,{pagebeforeshow:"_handlePageBeforeShow",webkitAnimationStart:"_handleAnimationStart",animationstart:"_handleAnimationStart",updatelayout:"_handleAnimationStart",pageshow:"_handlePageShow",pagebeforehide:"_handlePageBeforeHide"})},_handlePageBeforeShow:function(){var t=this.options;t.disablePageZoom&&e.mobile.zoom.disable(!0),t.visibleOnPageShow||this.hide(!0)},_handleAnimationStart:function(){this.options.updatePagePadding&&this.updatePagePadding(this.page?this.page:".ui-page-active")},_handlePageShow:function(){this.updatePagePadding(this.page?this.page:".ui-page-active"),this.options.updatePagePadding&&this._on(this.window,{throttledresize:"updatePagePadding"})},_handlePageBeforeHide:function(t,i){var n,o,s,r,a=this.options;a.disablePageZoom&&e.mobile.zoom.enable(!0),a.updatePagePadding&&this._off(this.window,"throttledresize"),a.trackPersistentToolbars&&(n=e(".ui-footer-fixed:jqmData(id)",this.page),o=e(".ui-header-fixed:jqmData(id)",this.page),s=n.length&&i.nextPage&&e(".ui-footer-fixed:jqmData(id='"+n.jqmData("id")+"')",i.nextPage)||e(),r=o.length&&i.nextPage&&e(".ui-header-fixed:jqmData(id='"+o.jqmData("id")+"')",i.nextPage)||e(),(s.length||r.length)&&(s.add(r).appendTo(e.mobile.pageContainer),i.nextPage.one("pageshow",function(){r.prependTo(this),s.appendTo(this)})))},_visible:!0,updatePagePadding:function(i){var n=this.element,o="header"===this.role,s=parseFloat(n.css(o?"top":"bottom"));this.options.fullscreen||(i=i&&i.type===t&&i||this.page||n.closest(".ui-page"),i=this.page?this.page:".ui-page-active",e(i).css("padding-"+(o?"top":"bottom"),n.outerHeight()+s))},_useTransition:function(t){var i=this.window,n=this.element,o=i.scrollTop(),s=n.height(),r=this.page?n.closest(".ui-page").height():e(".ui-page-active").height(),a=e.mobile.getScreenHeight();return!t&&(this.options.transition&&"none"!==this.options.transition&&("header"===this.role&&!this.options.fullscreen&&o>s||"footer"===this.role&&!this.options.fullscreen&&r-s>o+a)||this.options.fullscreen)},show:function(e){var t="ui-fixed-hidden",i=this.element;this._useTransition(e)?i.removeClass("out "+t).addClass("in").animationComplete(function(){i.removeClass("in")}):i.removeClass(t),this._visible=!0},hide:function(e){var t="ui-fixed-hidden",i=this.element,n="out"+("slide"===this.options.transition?" reverse":"");this._useTransition(e)?i.addClass(n).removeClass("in").animationComplete(function(){i.addClass(t).removeClass(n)}):i.addClass(t).removeClass(n),this._visible=!1},toggle:function(){this[this._visible?"hide":"show"]()},_bindToggleHandlers:function(){var t,i,n=this,o=n.options,s=!0,r=this.page?this.page:e(".ui-page");r.bind("vclick",function(t){o.tapToggle&&!e(t.target).closest(o.tapToggleBlacklist).length&&n.toggle()}).bind("focusin focusout",function(r){screen.width<1025&&e(r.target).is(o.hideDuringFocus)&&!e(r.target).closest(".ui-header-fixed, .ui-footer-fixed").length&&("focusout"!==r.type||s?"focusin"===r.type&&s&&(clearTimeout(t),s=!1,i=setTimeout(function(){n.hide()},0)):(s=!0,clearTimeout(i),t=setTimeout(function(){n.show()},0)))})},_setRelative:function(){"fixed"!==this.options.position&&e("[data-"+e.mobile.ns+"role='page']").css({position:"relative"})},_destroy:function(){var t,i,n,o,s,r=this.pagecontainer.pagecontainer("getActivePage");this._super(),"fixed"===this.options.position&&(n=e("body>.ui-"+this.role+"-fixed").add(r.find(".ui-"+this.options.role+"-fixed")).not(this.element).length>0,s=e("body>.ui-"+this.role+"-fixed").add(r.find(".ui-"+this.options.role+"-fullscreen")).not(this.element).length>0,i="ui-header-fixed ui-footer-fixed ui-header-fullscreen in out ui-footer-fullscreen fade slidedown slideup ui-fixed-hidden",this.element.removeClass(i),s||(t="ui-page-"+this.role+"-fullscreen"),n||(o="header"===this.role,t+=" ui-page-"+this.role+"-fixed",r.css("padding-"+(o?"top":"bottom"),"")),r.removeClass(t))}})}(e),function(e){e.widget("mobile.toolbar",e.mobile.toolbar,{_makeFixed:function(){this._super(),this._workarounds()},_workarounds:function(){var e=navigator.userAgent,t=navigator.platform,i=e.match(/AppleWebKit\/([0-9]+)/),n=!!i&&i[1],o=null,s=this;if(t.indexOf("iPhone")>-1||t.indexOf("iPad")>-1||t.indexOf("iPod")>-1)o="ios";else{if(!(e.indexOf("Android")>-1))return;o="android"}if("ios"===o)s._bindScrollWorkaround();else{if(!("android"===o&&n&&534>n))return;s._bindScrollWorkaround(),s._bindListThumbWorkaround()}},_viewportOffset:function(){var e=this.element,t=e.hasClass("ui-header"),i=Math.abs(e.offset().top-this.window.scrollTop());return t||(i=Math.round(i-this.window.height()+e.outerHeight())-60),i},_bindScrollWorkaround:function(){var e=this;this._on(this.window,{scrollstop:function(){var t=e._viewportOffset();t>2&&e._visible&&e._triggerRedraw()}})},_bindListThumbWorkaround:function(){this.element.closest(".ui-page").addClass("ui-android-2x-fixed")},_triggerRedraw:function(){var t=parseFloat(e(".ui-page-active").css("padding-bottom"));e(".ui-page-active").css("padding-bottom",t+1+"px"),setTimeout(function(){e(".ui-page-active").css("padding-bottom",t+"px")},0)},destroy:function(){this._super(),this.element.closest(".ui-page-active").removeClass("ui-android-2x-fix")}})}(e),function(e,t){function i(){var e=o.clone(),t=e.eq(0),i=e.eq(1),n=i.children();return{arEls:i.add(t),gd:t,ct:i,ar:n}}var n=e.mobile.browser.oldIE&&e.mobile.browser.oldIE<=8,o=e("<div class='ui-popup-arrow-guide'></div><div class='ui-popup-arrow-container"+(n?" ie":"")+"'><div class='ui-popup-arrow'></div></div>");e.widget("mobile.popup",e.mobile.popup,{options:{arrow:""},_create:function(){var e,t=this._super();return this.options.arrow&&(this._ui.arrow=e=this._addArrow()),t},_addArrow:function(){var e,t=this.options,n=i();return e=this._themeClassFromOption("ui-body-",t.theme),n.ar.addClass(e+(t.shadow?" ui-overlay-shadow":"")),n.arEls.hide().appendTo(this.element),n},_unenhance:function(){var e=this._ui.arrow;return e&&e.arEls.remove(),this._super()},_tryAnArrow:function(e,t,i,n,o){var s,r,a,l={},u={};return n.arFull[e.dimKey]>n.guideDims[e.dimKey]?o:(l[e.fst]=i[e.fst]+(n.arHalf[e.oDimKey]+n.menuHalf[e.oDimKey])*e.offsetFactor-n.contentBox[e.fst]+(n.clampInfo.menuSize[e.oDimKey]-n.contentBox[e.oDimKey])*e.arrowOffsetFactor,l[e.snd]=i[e.snd],s=n.result||this._calculateFinalLocation(l,n.clampInfo),r={x:s.left,y:s.top},u[e.fst]=r[e.fst]+n.contentBox[e.fst]+e.tipOffset,u[e.snd]=Math.max(s[e.prop]+n.guideOffset[e.prop]+n.arHalf[e.dimKey],Math.min(s[e.prop]+n.guideOffset[e.prop]+n.guideDims[e.dimKey]-n.arHalf[e.dimKey],i[e.snd])),a=Math.abs(i.x-u.x)+Math.abs(i.y-u.y),(!o||a<o.diff)&&(u[e.snd]-=n.arHalf[e.dimKey]+s[e.prop]+n.contentBox[e.snd],o={dir:t,diff:a,result:s,posProp:e.prop,posVal:u[e.snd]}),o)},_getPlacementState:function(e){var t,i,n=this._ui.arrow,o={clampInfo:this._clampPopupWidth(!e),arFull:{cx:n.ct.width(),cy:n.ct.height()},guideDims:{cx:n.gd.width(),cy:n.gd.height()},guideOffset:n.gd.offset()};return t=this.element.offset(),n.gd.css({left:0,top:0,right:0,bottom:0}),i=n.gd.offset(),o.contentBox={x:i.left-t.left,y:i.top-t.top,cx:n.gd.width(),cy:n.gd.height()},n.gd.removeAttr("style"),o.guideOffset={left:o.guideOffset.left-t.left,top:o.guideOffset.top-t.top},o.arHalf={cx:o.arFull.cx/2,cy:o.arFull.cy/2},o.menuHalf={cx:o.clampInfo.menuSize.cx/2,cy:o.clampInfo.menuSize.cy/2},o},_placementCoords:function(t){var i,o,s,r,a,l=this.options.arrow,u=this._ui.arrow;return u?(u.arEls.show(),a={},i=this._getPlacementState(!0),s={l:{fst:"x",snd:"y",prop:"top",dimKey:"cy",oDimKey:"cx",offsetFactor:1,tipOffset:-i.arHalf.cx,arrowOffsetFactor:0},r:{fst:"x",snd:"y",prop:"top",dimKey:"cy",oDimKey:"cx",offsetFactor:-1,tipOffset:i.arHalf.cx+i.contentBox.cx,arrowOffsetFactor:1},b:{fst:"y",snd:"x",prop:"left",dimKey:"cx",oDimKey:"cy",offsetFactor:-1,tipOffset:i.arHalf.cy+i.contentBox.cy,arrowOffsetFactor:1},t:{fst:"y",snd:"x",prop:"left",dimKey:"cx",oDimKey:"cy",offsetFactor:1,tipOffset:-i.arHalf.cy,arrowOffsetFactor:0}},e.each((l===!0?"l,t,r,b":l).split(","),e.proxy(function(e,n){o=this._tryAnArrow(s[n],n,t,i,o)},this)),o?(u.ct.removeClass("ui-popup-arrow-l ui-popup-arrow-t ui-popup-arrow-r ui-popup-arrow-b").addClass("ui-popup-arrow-"+o.dir).removeAttr("style").css(o.posProp,o.posVal).show(),n||(r=this.element.offset(),a[s[o.dir].fst]=u.ct.offset(),a[s[o.dir].snd]={left:r.left+i.contentBox.x,top:r.top+i.contentBox.y}),o.result):(u.arEls.hide(),this._super(t))):this._super(t)},_setOptions:function(e){var i,n=this.options.theme,o=this._ui.arrow,s=this._super(e);if(e.arrow!==t){if(!o&&e.arrow)return void(this._ui.arrow=this._addArrow());o&&!e.arrow&&(o.arEls.remove(),this._ui.arrow=null)}return o=this._ui.arrow,o&&(e.theme!==t&&(n=this._themeClassFromOption("ui-body-",n),i=this._themeClassFromOption("ui-body-",e.theme),o.ar.removeClass(n).addClass(i)),e.shadow!==t&&o.ar.toggleClass("ui-overlay-shadow",e.shadow)),s},_destroy:function(){var e=this._ui.arrow;return e&&e.arEls.remove(),this._super()}})}(e),function(e,i){e.widget("mobile.panel",{options:{classes:{panel:"ui-panel",panelOpen:"ui-panel-open",panelClosed:"ui-panel-closed",panelFixed:"ui-panel-fixed",panelInner:"ui-panel-inner",modal:"ui-panel-dismiss",modalOpen:"ui-panel-dismiss-open",pageContainer:"ui-panel-page-container",pageWrapper:"ui-panel-wrapper",pageFixedToolbar:"ui-panel-fixed-toolbar",pageContentPrefix:"ui-panel-page-content",animate:"ui-panel-animate"},animate:!0,theme:null,position:"left",dismissible:!0,display:"reveal",swipeClose:!0,positionFixed:!1},_closeLink:null,_parentPage:null,_page:null,_modal:null,_panelInner:null,_wrapper:null,_fixedToolbars:null,_create:function(){var t=this.element,i=t.closest(".ui-page, :jqmData(role='page')");e.extend(this,{_closeLink:t.find(":jqmData(rel='close')"),_parentPage:i.length>0?i:!1,_openedPage:null,_page:this._getPage,_panelInner:this._getPanelInner(),_fixedToolbars:this._getFixedToolbars}),"overlay"!==this.options.display&&this._getWrapper(),this._addPanelClasses(),e.support.cssTransform3d&&this.options.animate&&this.element.addClass(this.options.classes.animate),this._bindUpdateLayout(),this._bindCloseEvents(),this._bindLinkListeners(),this._bindPageEvents(),this.options.dismissible&&this._createModal(),this._bindSwipeEvents()},_getPanelInner:function(){var e=this.element.find("."+this.options.classes.panelInner);return 0===e.length&&(e=this.element.children().wrapAll("<div class='"+this.options.classes.panelInner+"' />").parent()),e},_createModal:function(){var t=this,i=t._parentPage?t._parentPage.parent():t.element.parent();t._modal=e("<div class='"+t.options.classes.modal+"'></div>").on("mousedown",function(){t.close()}).appendTo(i)},_getPage:function(){var t=this._openedPage||this._parentPage||e("."+e.mobile.activePageClass);return t},_getWrapper:function(){var e=this._page().find("."+this.options.classes.pageWrapper);0===e.length&&(e=this._page().children(".ui-header:not(.ui-header-fixed), .ui-content:not(.ui-popup), .ui-footer:not(.ui-footer-fixed)").wrapAll("<div class='"+this.options.classes.pageWrapper+"'></div>").parent()),this._wrapper=e},_getFixedToolbars:function(){var t=e("body").children(".ui-header-fixed, .ui-footer-fixed"),i=this._page().find(".ui-header-fixed, .ui-footer-fixed"),n=t.add(i).addClass(this.options.classes.pageFixedToolbar);return n},_getPosDisplayClasses:function(e){return e+"-position-"+this.options.position+" "+e+"-display-"+this.options.display},_getPanelClasses:function(){var e=this.options.classes.panel+" "+this._getPosDisplayClasses(this.options.classes.panel)+" "+this.options.classes.panelClosed+" ui-body-"+(this.options.theme?this.options.theme:"inherit");return this.options.positionFixed&&(e+=" "+this.options.classes.panelFixed),e},_addPanelClasses:function(){this.element.addClass(this._getPanelClasses())},_handleCloseClick:function(e){e.isDefaultPrevented()||this.close()},_bindCloseEvents:function(){this._on(this._closeLink,{click:"_handleCloseClick"}),this._on({"click a:jqmData(ajax='false')":"_handleCloseClick"})},_positionPanel:function(t){var i=this,n=i._panelInner.outerHeight(),o=n>e.mobile.getScreenHeight();o||!i.options.positionFixed?(o&&(i._unfixPanel(),e.mobile.resetActivePageHeight(n)),t&&this.window[0].scrollTo(0,e.mobile.defaultHomeScroll)):i._fixPanel()},_bindFixListener:function(){this._on(e(t),{throttledresize:"_positionPanel"})},_unbindFixListener:function(){this._off(e(t),"throttledresize")},_unfixPanel:function(){this.options.positionFixed&&e.support.fixedPosition&&this.element.removeClass(this.options.classes.panelFixed)},_fixPanel:function(){this.options.positionFixed&&e.support.fixedPosition&&this.element.addClass(this.options.classes.panelFixed)},_bindUpdateLayout:function(){var e=this;e.element.on("updatelayout",function(){e._open&&e._positionPanel()})},_bindLinkListeners:function(){this._on("body",{"click a":"_handleClick"})},_handleClick:function(t){var n,o=this.element.attr("id");t.currentTarget.href.split("#")[1]===o&&o!==i&&(t.preventDefault(),n=e(t.target),n.hasClass("ui-btn")&&(n.addClass(e.mobile.activeBtnClass),this.element.one("panelopen panelclose",function(){n.removeClass(e.mobile.activeBtnClass)
})),this.toggle())},_bindSwipeEvents:function(){var e=this,t=e._modal?e.element.add(e._modal):e.element;e.options.swipeClose&&("left"===e.options.position?t.on("swipeleft.panel",function(){e.close()}):t.on("swiperight.panel",function(){e.close()}))},_bindPageEvents:function(){var e=this;this.document.on("panelbeforeopen",function(t){e._open&&t.target!==e.element[0]&&e.close()}).on("keyup.panel",function(t){27===t.keyCode&&e._open&&e.close()}),this._parentPage||"overlay"===this.options.display||this._on(this.document,{pageshow:function(){this._openedPage=null,this._getWrapper()}}),e._parentPage?this.document.on("pagehide",":jqmData(role='page')",function(){e._open&&e.close(!0)}):this.document.on("pagebeforehide",function(){e._open&&e.close(!0)})},_open:!1,_pageContentOpenClasses:null,_modalOpenClasses:null,open:function(t){if(!this._open){var i=this,n=i.options,o=function(){i._off(i.document,"panelclose"),i._page().jqmData("panel","open"),e.support.cssTransform3d&&n.animate&&"overlay"!==n.display&&(i._wrapper.addClass(n.classes.animate),i._fixedToolbars().addClass(n.classes.animate)),!t&&e.support.cssTransform3d&&n.animate?(i._wrapper||i.element).animationComplete(s,"transition"):setTimeout(s,0),n.theme&&"overlay"!==n.display&&i._page().parent().addClass(n.classes.pageContainer+"-themed "+n.classes.pageContainer+"-"+n.theme),i.element.removeClass(n.classes.panelClosed).addClass(n.classes.panelOpen),i._positionPanel(!0),i._pageContentOpenClasses=i._getPosDisplayClasses(n.classes.pageContentPrefix),"overlay"!==n.display&&(i._page().parent().addClass(n.classes.pageContainer),i._wrapper.addClass(i._pageContentOpenClasses),i._fixedToolbars().addClass(i._pageContentOpenClasses)),i._modalOpenClasses=i._getPosDisplayClasses(n.classes.modal)+" "+n.classes.modalOpen,i._modal&&i._modal.addClass(i._modalOpenClasses).height(Math.max(i._modal.height(),i.document.height()))},s=function(){i._open&&("overlay"!==n.display&&(i._wrapper.addClass(n.classes.pageContentPrefix+"-open"),i._fixedToolbars().addClass(n.classes.pageContentPrefix+"-open")),i._bindFixListener(),i._trigger("open"),i._openedPage=i._page())};i._trigger("beforeopen"),"open"===i._page().jqmData("panel")?i._on(i.document,{panelclose:o}):o(),i._open=!0}},close:function(t){if(this._open){var i=this,n=this.options,o=function(){i.element.removeClass(n.classes.panelOpen),"overlay"!==n.display&&(i._wrapper.removeClass(i._pageContentOpenClasses),i._fixedToolbars().removeClass(i._pageContentOpenClasses)),!t&&e.support.cssTransform3d&&n.animate?(i._wrapper||i.element).animationComplete(s,"transition"):setTimeout(s,0),i._modal&&i._modal.removeClass(i._modalOpenClasses).height("")},s=function(){n.theme&&"overlay"!==n.display&&i._page().parent().removeClass(n.classes.pageContainer+"-themed "+n.classes.pageContainer+"-"+n.theme),i.element.addClass(n.classes.panelClosed),"overlay"!==n.display&&(i._page().parent().removeClass(n.classes.pageContainer),i._wrapper.removeClass(n.classes.pageContentPrefix+"-open"),i._fixedToolbars().removeClass(n.classes.pageContentPrefix+"-open")),e.support.cssTransform3d&&n.animate&&"overlay"!==n.display&&(i._wrapper.removeClass(n.classes.animate),i._fixedToolbars().removeClass(n.classes.animate)),i._fixPanel(),i._unbindFixListener(),e.mobile.resetActivePageHeight(),i._page().jqmRemoveData("panel"),i._trigger("close"),i._openedPage=null};i._trigger("beforeclose"),o(),i._open=!1}},toggle:function(){this[this._open?"close":"open"]()},_destroy:function(){var t,i=this.options,n=e("body > :mobile-panel").length+e.mobile.activePage.find(":mobile-panel").length>1;"overlay"!==i.display&&(t=e("body > :mobile-panel").add(e.mobile.activePage.find(":mobile-panel")),0===t.not(".ui-panel-display-overlay").not(this.element).length&&this._wrapper.children().unwrap(),this._open&&(this._fixedToolbars().removeClass(i.classes.pageContentPrefix+"-open"),e.support.cssTransform3d&&i.animate&&this._fixedToolbars().removeClass(i.classes.animate),this._page().parent().removeClass(i.classes.pageContainer),i.theme&&this._page().parent().removeClass(i.classes.pageContainer+"-themed "+i.classes.pageContainer+"-"+i.theme))),n||this.document.off("panelopen panelclose"),this._open&&this._page().jqmRemoveData("panel"),this._panelInner.children().unwrap(),this.element.removeClass([this._getPanelClasses(),i.classes.panelOpen,i.classes.animate].join(" ")).off("swipeleft.panel swiperight.panel").off("panelbeforeopen").off("panelhide").off("keyup.panel").off("updatelayout"),this._modal&&this._modal.remove()}})}(e),function(e,t){e.widget("mobile.table",{options:{classes:{table:"ui-table"},enhanced:!1},_create:function(){this.options.enhanced||this.element.addClass(this.options.classes.table),e.extend(this,{headers:t,allHeaders:t}),this._refresh(!0)},_setHeaders:function(){var e=this.element.find("thead tr");this.headers=this.element.find("tr:eq(0)").children(),this.allHeaders=this.headers.add(e.children())},refresh:function(){this._refresh()},rebuild:e.noop,_refresh:function(){var t=this.element,i=t.find("thead tr");this._setHeaders(),i.each(function(){var n=0;e(this).children().each(function(){var o,s=parseInt(this.getAttribute("colspan"),10),r=":nth-child("+(n+1)+")";if(this.setAttribute("data-"+e.mobile.ns+"colstart",n+1),s)for(o=0;s-1>o;o++)n++,r+=", :nth-child("+(n+1)+")";e(this).jqmData("cells",t.find("tr").not(i.eq(0)).not(this).children(r)),n++})})}})}(e),function(e){e.widget("mobile.table",e.mobile.table,{options:{mode:"columntoggle",columnBtnTheme:null,columnPopupTheme:null,columnBtnText:"Columns...",classes:e.extend(e.mobile.table.prototype.options.classes,{popup:"ui-table-columntoggle-popup",columnBtn:"ui-table-columntoggle-btn",priorityPrefix:"ui-table-priority-",columnToggleTable:"ui-table-columntoggle"})},_create:function(){this._super(),"columntoggle"===this.options.mode&&(e.extend(this,{_menu:null}),this.options.enhanced?(this._menu=e(this.document[0].getElementById(this._id()+"-popup")).children().first(),this._addToggles(this._menu,!0)):(this._menu=this._enhanceColToggle(),this.element.addClass(this.options.classes.columnToggleTable)),this._setupEvents(),this._setToggleState())},_id:function(){return this.element.attr("id")||this.widgetName+this.uuid},_setupEvents:function(){this._on(this.window,{throttledresize:"_setToggleState"}),this._on(this._menu,{"change input":"_menuInputChange"})},_addToggles:function(t,i){var n,o=0,s=this.options,r=t.controlgroup("container");i?n=t.find("input"):r.empty(),this.headers.not("td").each(function(){var t,a,l=e(this),u=e.mobile.getAttribute(this,"priority");u&&(a=l.add(l.jqmData("cells")),a.addClass(s.classes.priorityPrefix+u),t=(i?n.eq(o++):e("<label><input type='checkbox' checked />"+(l.children("abbr").first().attr("title")||l.text())+"</label>").appendTo(r).children(0).checkboxradio({theme:s.columnPopupTheme})).jqmData("header",l).jqmData("cells",a),l.jqmData("input",t))}),i||t.controlgroup("refresh")},_menuInputChange:function(t){var i=e(t.target),n=i[0].checked;i.jqmData("cells").toggleClass("ui-table-cell-hidden",!n).toggleClass("ui-table-cell-visible",n)},_unlockCells:function(e){e.removeClass("ui-table-cell-hidden ui-table-cell-visible")},_enhanceColToggle:function(){var t,i,n,o,s=this.element,r=this.options,a=e.mobile.ns,l=this.document[0].createDocumentFragment();return t=this._id()+"-popup",i=e("<a href='#"+t+"' class='"+r.classes.columnBtn+" ui-btn ui-btn-"+(r.columnBtnTheme||"a")+" ui-corner-all ui-shadow ui-mini' data-"+a+"rel='popup'>"+r.columnBtnText+"</a>"),n=e("<div class='"+r.classes.popup+"' id='"+t+"'></div>"),o=e("<fieldset></fieldset>").controlgroup(),this._addToggles(o,!1),o.appendTo(n),l.appendChild(n[0]),l.appendChild(i[0]),s.before(l),n.popup(),o},rebuild:function(){this._super(),"columntoggle"===this.options.mode&&this._refresh(!1)},_refresh:function(t){var i,n,o;if(this._super(t),!t&&"columntoggle"===this.options.mode)for(i=this.headers,n=[],this._menu.find("input").each(function(){var t=e(this),o=t.jqmData("header"),s=i.index(o[0]);s>-1&&!t.prop("checked")&&n.push(s)}),this._unlockCells(this.element.find(".ui-table-cell-hidden, .ui-table-cell-visible")),this._addToggles(this._menu,t),o=n.length-1;o>-1;o--)i.eq(n[o]).jqmData("input").prop("checked",!1).checkboxradio("refresh").trigger("change")},_setToggleState:function(){this._menu.find("input").each(function(){var t=e(this);this.checked="table-cell"===t.jqmData("cells").eq(0).css("display"),t.checkboxradio("refresh")})},_destroy:function(){this._super()}})}(e),function(e){e.widget("mobile.table",e.mobile.table,{options:{mode:"reflow",classes:e.extend(e.mobile.table.prototype.options.classes,{reflowTable:"ui-table-reflow",cellLabels:"ui-table-cell-label"})},_create:function(){this._super(),"reflow"===this.options.mode&&(this.options.enhanced||(this.element.addClass(this.options.classes.reflowTable),this._updateReflow()))},rebuild:function(){this._super(),"reflow"===this.options.mode&&this._refresh(!1)},_refresh:function(e){this._super(e),e||"reflow"!==this.options.mode||this._updateReflow()},_updateReflow:function(){var t=this,i=this.options;e(t.allHeaders.get().reverse()).each(function(){var n,o,s=e(this).jqmData("cells"),r=e.mobile.getAttribute(this,"colstart"),a=s.not(this).filter("thead th").length&&" ui-table-cell-label-top",l=e(this).clone().contents();l.length>0&&(a?(n=parseInt(this.getAttribute("colspan"),10),o="",n&&(o="td:nth-child("+n+"n + "+r+")"),t._addLabels(s.filter(o),i.classes.cellLabels+a,l)):t._addLabels(s,i.classes.cellLabels,l))})},_addLabels:function(t,i,n){1===n.length&&"abbr"===n[0].nodeName.toLowerCase()&&(n=n.eq(0).attr("title")),t.not(":has(b."+i+")").prepend(e("<b class='"+i+"'></b>").append(n))}})}(e),function(e,i){var n=function(t,i){return-1===(""+(e.mobile.getAttribute(this,"filtertext")||e(this).text())).toLowerCase().indexOf(i)};e.widget("mobile.filterable",{initSelector:":jqmData(filter='true')",options:{filterReveal:!1,filterCallback:n,enhanced:!1,input:null,children:"> li, > option, > optgroup option, > tbody tr, > .ui-controlgroup-controls > .ui-btn, > .ui-controlgroup-controls > .ui-checkbox, > .ui-controlgroup-controls > .ui-radio"},_create:function(){var t=this.options;e.extend(this,{_search:null,_timer:0}),this._setInput(t.input),t.enhanced||this._filterItems((this._search&&this._search.val()||"").toLowerCase())},_onKeyUp:function(){var i,n,o=this._search;if(o){if(i=o.val().toLowerCase(),n=e.mobile.getAttribute(o[0],"lastval")+"",n&&n===i)return;this._timer&&(t.clearTimeout(this._timer),this._timer=0),this._timer=this._delay(function(){return this._trigger("beforefilter",null,{input:o})===!1?!1:(o[0].setAttribute("data-"+e.mobile.ns+"lastval",i),this._filterItems(i),void(this._timer=0))},250)}},_getFilterableItems:function(){var t=this.element,i=this.options.children,n=i?e.isFunction(i)?i():i.nodeName?e(i):i.jquery?i:this.element.find(i):{length:0};return 0===n.length&&(n=t.children()),n},_filterItems:function(t){var i,o,s,r,a=[],l=[],u=this.options,c=this._getFilterableItems();if(null!=t)for(o=u.filterCallback||n,s=c.length,i=0;s>i;i++)r=o.call(c[i],i,t)?l:a,r.push(c[i]);0===l.length?c[u.filterReveal&&0===t.length?"addClass":"removeClass"]("ui-screen-hidden"):(e(l).addClass("ui-screen-hidden"),e(a).removeClass("ui-screen-hidden")),this._refreshChildWidget(),this._trigger("filter",null,{items:c})},_refreshChildWidget:function(){var t,i,n=["collapsibleset","selectmenu","controlgroup","listview"];for(i=n.length-1;i>-1;i--)t=n[i],e.mobile[t]&&(t=this.element.data("mobile-"+t),t&&e.isFunction(t.refresh)&&t.refresh())},_setInput:function(i){var n=this._search;this._timer&&(t.clearTimeout(this._timer),this._timer=0),n&&(this._off(n,"keyup change input"),n=null),i&&(n=i.jquery?i:i.nodeName?e(i):this.document.find(i),this._on(n,{keydown:"_onKeyDown",keypress:"_onKeyPress",keyup:"_onKeyUp",change:"_onKeyUp",input:"_onKeyUp"})),this._search=n},_onKeyDown:function(t){t.keyCode===e.ui.keyCode.ENTER&&(t.preventDefault(),this._preventKeyPress=!0)},_onKeyPress:function(e){this._preventKeyPress&&(e.preventDefault(),this._preventKeyPress=!1)},_setOptions:function(e){var t=e.filterReveal!==i||e.filterCallback!==i||e.children!==i;this._super(e),e.input!==i&&(this._setInput(e.input),t=!0),t&&this.refresh()},_destroy:function(){var e=this.options,t=this._getFilterableItems();e.enhanced?t.toggleClass("ui-screen-hidden",e.filterReveal):t.removeClass("ui-screen-hidden")},refresh:function(){this._timer&&(t.clearTimeout(this._timer),this._timer=0),this._filterItems((this._search&&this._search.val()||"").toLowerCase())}})}(e),function(e,t){var i=function(e,t){return function(i){t.call(this,i),e._syncTextInputOptions(i)}},n=/(^|\s)ui-li-divider(\s|$)/,o=e.mobile.filterable.prototype.options.filterCallback;e.mobile.filterable.prototype.options.filterCallback=function(e,t){return!this.className.match(n)&&o.call(this,e,t)},e.widget("mobile.filterable",e.mobile.filterable,{options:{filterPlaceholder:"Filter items...",filterTheme:null},_create:function(){var t,i,n=this.element,o=["collapsibleset","selectmenu","controlgroup","listview"],s={};for(this._super(),e.extend(this,{_widget:null}),t=o.length-1;t>-1;t--)if(i=o[t],e.mobile[i]){if(this._setWidget(n.data("mobile-"+i)))break;s[i+"create"]="_handleCreate"}this._widget||this._on(n,s)},_handleCreate:function(e){this._setWidget(this.element.data("mobile-"+e.type.substring(0,e.type.length-6)))},_trigger:function(e,t,i){return this._widget&&"mobile-listview"===this._widget.widgetFullName&&"beforefilter"===e&&this._widget._trigger("beforefilter",t,i),this._super(e,t,i)},_setWidget:function(e){return!this._widget&&e&&(this._widget=e,this._widget._setOptions=i(this,this._widget._setOptions)),this._widget&&(this._syncTextInputOptions(this._widget.options),"listview"===this._widget.widgetName&&(this._widget.options.hideDividers=!0,this._widget.element.listview("refresh"))),!!this._widget},_isSearchInternal:function(){return this._search&&this._search.jqmData("ui-filterable-"+this.uuid+"-internal")},_setInput:function(t){var i=this.options,n=!0,o={};if(!t){if(this._isSearchInternal())return;n=!1,t=e("<input data-"+e.mobile.ns+"type='search' placeholder='"+i.filterPlaceholder+"'></input>").jqmData("ui-filterable-"+this.uuid+"-internal",!0),e("<form class='ui-filterable'></form>").append(t).submit(function(e){e.preventDefault(),t.blur()}).insertBefore(this.element),e.mobile.textinput&&(null!=this.options.filterTheme&&(o.theme=i.filterTheme),t.textinput(o))}this._super(t),this._isSearchInternal()&&n&&this._search.attr("placeholder",this.options.filterPlaceholder)},_setOptions:function(i){var n=this._super(i);return i.filterPlaceholder!==t&&this._isSearchInternal()&&this._search.attr("placeholder",i.filterPlaceholder),i.filterTheme!==t&&this._search&&e.mobile.textinput&&this._search.textinput("option","theme",i.filterTheme),n},_refreshChildWidget:function(){this._refreshingChildWidget=!0,this._superApply(arguments),this._refreshingChildWidget=!1},refresh:function(){this._refreshingChildWidget||this._superApply(arguments)},_destroy:function(){this._isSearchInternal()&&this._search.remove(),this._super()},_syncTextInputOptions:function(i){var n,o={};if(this._isSearchInternal()&&e.mobile.textinput){for(n in e.mobile.textinput.prototype.options)i[n]!==t&&(o[n]="theme"===n&&null!=this.options.filterTheme?this.options.filterTheme:i[n]);this._search.textinput("option",o)}}}),e.widget("mobile.listview",e.mobile.listview,{options:{filter:!1},_create:function(){return this.options.filter!==!0||this.element.data("mobile-filterable")||this.element.filterable(),this._super()},refresh:function(){var e;this._superApply(arguments),this.options.filter===!0&&(e=this.element.data("mobile-filterable"),e&&e.refresh())}})}(e),function(e,t){function i(){return++o}function n(e){return e.hash.length>1&&decodeURIComponent(e.href.replace(s,""))===decodeURIComponent(location.href.replace(s,""))}var o=0,s=/#.*$/;e.widget("ui.tabs",{version:"fadf2b312a05040436451c64bbfaf4814bc62c56",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var t=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),i.active=this._initialActive(),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):e(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===t&&(n&&this.tabs.each(function(i,o){return e(o).attr("aria-controls")===n?(t=i,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=i?!1:0)),!i&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(this.document[0].activeElement).closest("li"),n=this.tabs.index(i),o=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:n++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:o=!1,n--;break;case e.ui.keyCode.END:n=this.anchors.length-1;break;case e.ui.keyCode.HOME:n=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n===this.options.active?!1:n);default:return}t.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,o),t.ctrlKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function n(){return t>o&&(t=0),0>t&&(t=o),t}for(var o=this.tabs.length-1;-1!==e.inArray(n(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?void this._activate(t):"disabled"===e?void this._setupDisabled(t):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(t),void("heightStyle"===e&&this._setupHeightStyle(t)))},_tabId:function(e){return e.attr("aria-controls")||"ui-tabs-"+i()},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),function(e){return i.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(i,o){var s,r,a,l=e(o).uniqueId().attr("id"),u=e(o).closest("li"),c=u.attr("aria-controls");n(o)?(s=o.hash,r=t.element.find(t._sanitizeSelector(s))):(a=t._tabId(u),s="#"+a,r=t.element.find(s),r.length||(r=t._createPanel(a),r.insertAfter(t.panels[i-1]||t.tablist)),r.attr("aria-live","polite")),r.length&&(t.panels=t.panels.add(r)),c&&u.data("ui-tabs-aria-controls",c),u.attr({"aria-controls":s.substring(1),"aria-labelledby":l}),r.attr("aria-labelledby",l)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,n=0;i=this.tabs[n];n++)t===!0||-1!==e.inArray(n,t)?e(i).addClass("ui-state-disabled").attr("aria-disabled","true"):e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={click:function(e){e.preventDefault()}};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,n=this.element.parent();"fill"===t?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),n=t.css("position");"absolute"!==n&&"fixed"!==n&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,e(this).height("").height())}).height(i))},_eventHandler:function(t){var i=this.options,n=this.active,o=e(t.currentTarget),s=o.closest("li"),r=s[0]===n[0],a=r&&i.collapsible,l=a?e():this._getPanelForTab(s),u=n.length?this._getPanelForTab(n):e(),c={oldTab:n,oldPanel:u,newTab:a?e():s,newPanel:l};t.preventDefault(),s.hasClass("ui-state-disabled")||s.hasClass("ui-tabs-loading")||this.running||r&&!i.collapsible||this._trigger("beforeActivate",t,c)===!1||(i.active=a?!1:this.tabs.index(s),this.active=r?e():s,this.xhr&&this.xhr.abort(),u.length||l.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(s),t),this._toggle(t,c))},_toggle:function(t,i){function n(){s.running=!1,s._trigger("activate",t,i)}function o(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),r.length&&s.options.show?s._show(r,s.options.show,n):(r.show(),n())}var s=this,r=i.newPanel,a=i.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a.hide(),o()),a.attr({"aria-expanded":"false","aria-hidden":"true"}),i.oldTab.attr("aria-selected","false"),r.length&&a.length?i.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),r.attr({"aria-expanded":"true","aria-hidden":"false"}),i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var i,n=this._findActive(t);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var n=this.options.disabled;n!==!1&&(i===t?n=!1:(i=this._getIndex(i),n=e.isArray(n)?e.map(n,function(e){return e!==i?e:null}):e.map(this.tabs,function(e,t){return t!==i?t:null})),this._setupDisabled(n))},disable:function(i){var n=this.options.disabled;if(n!==!0){if(i===t)n=!0;else{if(i=this._getIndex(i),-1!==e.inArray(i,n))return;n=e.isArray(n)?e.merge([i],n).sort():[i]}this._setupDisabled(n)}},load:function(t,i){t=this._getIndex(t);var o=this,s=this.tabs.eq(t),r=s.find(".ui-tabs-anchor"),a=this._getPanelForTab(s),l={tab:s,panel:a};n(r[0])||(this.xhr=e.ajax(this._ajaxSettings(r,i,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(s.addClass("ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.success(function(e){setTimeout(function(){a.html(e),o._trigger("load",i,l)},1)}).complete(function(e,t){setTimeout(function(){"abort"===t&&o.panels.stop(!1,!0),s.removeClass("ui-tabs-loading"),a.removeAttr("aria-busy"),e===o.xhr&&delete o.xhr},1)})))},_ajaxSettings:function(t,i,n){var o=this;return{url:t.attr("href"),beforeSend:function(t,s){return o._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:s},n))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})}(e),function(){}(e),function(e,t){function i(e){o=e.originalEvent,l=o.accelerationIncludingGravity,s=Math.abs(l.x),r=Math.abs(l.y),a=Math.abs(l.z),!t.orientation&&(s>7||(a>6&&8>r||8>a&&r>6)&&s>5)?n.enabled&&n.disable():n.enabled||n.enable()}e.mobile.iosorientationfixEnabled=!0;var n,o,s,r,a,l,u=navigator.userAgent;return/iPhone|iPad|iPod/.test(navigator.platform)&&/OS [1-5]_[0-9_]* like Mac OS X/i.test(u)&&u.indexOf("AppleWebKit")>-1?(n=e.mobile.zoom,void e.mobile.document.on("mobileinit",function(){e.mobile.iosorientationfixEnabled&&e.mobile.window.bind("orientationchange.iosorientationfix",n.enable).bind("devicemotion.iosorientationfix",i)})):void(e.mobile.iosorientationfixEnabled=!1)}(e,this),function(e,t,n){function o(){s.removeClass("ui-mobile-rendering")}var s=e("html"),r=e.mobile.window;e(t.document).trigger("mobileinit"),e.mobile.gradeA()&&(e.mobile.ajaxBlacklist&&(e.mobile.ajaxEnabled=!1),s.addClass("ui-mobile ui-mobile-rendering"),setTimeout(o,5e3),e.extend(e.mobile,{initializePage:function(){var t=e.mobile.path,s=e(":jqmData(role='page'), :jqmData(role='dialog')"),a=t.stripHash(t.stripQueryParams(t.parseLocation().hash)),l=e.mobile.path.parseLocation(),u=a?i.getElementById(a):n;s.length||(s=e("body").wrapInner("<div data-"+e.mobile.ns+"role='page'></div>").children(0)),s.each(function(){var i=e(this);i[0].getAttribute("data-"+e.mobile.ns+"url")||i.attr("data-"+e.mobile.ns+"url",i.attr("id")||t.convertUrlToDataUrl(l.pathname+l.search))}),e.mobile.firstPage=s.first(),e.mobile.pageContainer=e.mobile.firstPage.parent().addClass("ui-mobile-viewport").pagecontainer(),e.mobile.navreadyDeferred.resolve(),r.trigger("pagecontainercreate"),e.mobile.loading("show"),o(),e.mobile.hashListeningEnabled&&e.mobile.path.isHashValid(location.hash)&&(e(u).is(":jqmData(role='page')")||e.mobile.path.isPath(a)||a===e.mobile.dialogHashKey)?e.event.special.navigate.isPushStateEnabled()?(e.mobile.navigate.history.stack=[],e.mobile.navigate(e.mobile.path.isPath(location.hash)?location.hash:location.href)):r.trigger("hashchange",[!0]):(e.event.special.navigate.isPushStateEnabled()&&e.mobile.navigate.navigator.squash(t.parseLocation().href),e.mobile.changePage(e.mobile.firstPage,{transition:"none",reverse:!0,changeHash:!1,fromHashChange:!0}))}}),e(function(){e.support.inlineSVG(),e.mobile.hideUrlBar&&t.scrollTo(0,1),e.mobile.defaultHomeScroll=e.support.scrollTop&&1!==e.mobile.window.scrollTop()?1:0,e.mobile.autoInitializePage&&e.mobile.initializePage(),e.mobile.hideUrlBar&&r.load(e.mobile.silentScroll),e.support.cssPointerEvents||e.mobile.document.delegate(".ui-state-disabled,.ui-disabled","vclick",function(e){e.preventDefault(),e.stopImmediatePropagation()})}))}(e,this)}),function(){var e=this,t=e._,i=Array.prototype,n=Object.prototype,o=Function.prototype,s=i.push,r=i.slice,a=i.concat,l=n.toString,u=n.hasOwnProperty,c=Array.isArray,h=Object.keys,d=o.bind,p=function(e){return e instanceof p?e:this instanceof p?void(this._wrapped=e):new p(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=p),exports._=p):e._=p,p.VERSION="1.7.0";var f=function(e,t,i){if(void 0===t)return e;switch(null==i?3:i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,o){return e.call(t,i,n,o)};case 4:return function(i,n,o,s){return e.call(t,i,n,o,s)}}return function(){return e.apply(t,arguments)}};p.iteratee=function(e,t,i){return null==e?p.identity:p.isFunction(e)?f(e,t,i):p.isObject(e)?p.matches(e):p.property(e)},p.each=p.forEach=function(e,t,i){if(null==e)return e;t=f(t,i);var n,o=e.length;if(o===+o)for(n=0;o>n;n++)t(e[n],n,e);else{var s=p.keys(e);for(n=0,o=s.length;o>n;n++)t(e[s[n]],s[n],e)}return e},p.map=p.collect=function(e,t,i){if(null==e)return[];t=p.iteratee(t,i);for(var n,o=e.length!==+e.length&&p.keys(e),s=(o||e).length,r=Array(s),a=0;s>a;a++)n=o?o[a]:a,r[a]=t(e[n],n,e);return r};var m="Reduce of empty array with no initial value";p.reduce=p.foldl=p.inject=function(e,t,i,n){null==e&&(e=[]),t=f(t,n,4);var o,s=e.length!==+e.length&&p.keys(e),r=(s||e).length,a=0;if(arguments.length<3){if(!r)throw new TypeError(m);i=e[s?s[a++]:a++]}for(;r>a;a++)o=s?s[a]:a,i=t(i,e[o],o,e);return i},p.reduceRight=p.foldr=function(e,t,i,n){null==e&&(e=[]),t=f(t,n,4);var o,s=e.length!==+e.length&&p.keys(e),r=(s||e).length;if(arguments.length<3){if(!r)throw new TypeError(m);i=e[s?s[--r]:--r]}for(;r--;)o=s?s[r]:r,i=t(i,e[o],o,e);return i},p.find=p.detect=function(e,t,i){var n;return t=p.iteratee(t,i),p.some(e,function(e,i,o){return t(e,i,o)?(n=e,!0):void 0}),n},p.filter=p.select=function(e,t,i){var n=[];return null==e?n:(t=p.iteratee(t,i),p.each(e,function(e,i,o){t(e,i,o)&&n.push(e)}),n)},p.reject=function(e,t,i){return p.filter(e,p.negate(p.iteratee(t)),i)
},p.every=p.all=function(e,t,i){if(null==e)return!0;t=p.iteratee(t,i);var n,o,s=e.length!==+e.length&&p.keys(e),r=(s||e).length;for(n=0;r>n;n++)if(o=s?s[n]:n,!t(e[o],o,e))return!1;return!0},p.some=p.any=function(e,t,i){if(null==e)return!1;t=p.iteratee(t,i);var n,o,s=e.length!==+e.length&&p.keys(e),r=(s||e).length;for(n=0;r>n;n++)if(o=s?s[n]:n,t(e[o],o,e))return!0;return!1},p.contains=p.include=function(e,t){return null==e?!1:(e.length!==+e.length&&(e=p.values(e)),p.indexOf(e,t)>=0)},p.invoke=function(e,t){var i=r.call(arguments,2),n=p.isFunction(t);return p.map(e,function(e){return(n?t:e[t]).apply(e,i)})},p.pluck=function(e,t){return p.map(e,p.property(t))},p.where=function(e,t){return p.filter(e,p.matches(t))},p.findWhere=function(e,t){return p.find(e,p.matches(t))},p.max=function(e,t,i){var n,o,s=-1/0,r=-1/0;if(null==t&&null!=e){e=e.length===+e.length?e:p.values(e);for(var a=0,l=e.length;l>a;a++)n=e[a],n>s&&(s=n)}else t=p.iteratee(t,i),p.each(e,function(e,i,n){o=t(e,i,n),(o>r||o===-1/0&&s===-1/0)&&(s=e,r=o)});return s},p.min=function(e,t,i){var n,o,s=1/0,r=1/0;if(null==t&&null!=e){e=e.length===+e.length?e:p.values(e);for(var a=0,l=e.length;l>a;a++)n=e[a],s>n&&(s=n)}else t=p.iteratee(t,i),p.each(e,function(e,i,n){o=t(e,i,n),(r>o||1/0===o&&1/0===s)&&(s=e,r=o)});return s},p.shuffle=function(e){for(var t,i=e&&e.length===+e.length?e:p.values(e),n=i.length,o=Array(n),s=0;n>s;s++)t=p.random(0,s),t!==s&&(o[s]=o[t]),o[t]=i[s];return o},p.sample=function(e,t,i){return null==t||i?(e.length!==+e.length&&(e=p.values(e)),e[p.random(e.length-1)]):p.shuffle(e).slice(0,Math.max(0,t))},p.sortBy=function(e,t,i){return t=p.iteratee(t,i),p.pluck(p.map(e,function(e,i,n){return{value:e,index:i,criteria:t(e,i,n)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(n>i||void 0===n)return-1}return e.index-t.index}),"value")};var g=function(e){return function(t,i,n){var o={};return i=p.iteratee(i,n),p.each(t,function(n,s){var r=i(n,s,t);e(o,n,r)}),o}};p.groupBy=g(function(e,t,i){p.has(e,i)?e[i].push(t):e[i]=[t]}),p.indexBy=g(function(e,t,i){e[i]=t}),p.countBy=g(function(e,t,i){p.has(e,i)?e[i]++:e[i]=1}),p.sortedIndex=function(e,t,i,n){i=p.iteratee(i,n,1);for(var o=i(t),s=0,r=e.length;r>s;){var a=s+r>>>1;i(e[a])<o?s=a+1:r=a}return s},p.toArray=function(e){return e?p.isArray(e)?r.call(e):e.length===+e.length?p.map(e,p.identity):p.values(e):[]},p.size=function(e){return null==e?0:e.length===+e.length?e.length:p.keys(e).length},p.partition=function(e,t,i){t=p.iteratee(t,i);var n=[],o=[];return p.each(e,function(e,i,s){(t(e,i,s)?n:o).push(e)}),[n,o]},p.first=p.head=p.take=function(e,t,i){return null==e?void 0:null==t||i?e[0]:0>t?[]:r.call(e,0,t)},p.initial=function(e,t,i){return r.call(e,0,Math.max(0,e.length-(null==t||i?1:t)))},p.last=function(e,t,i){return null==e?void 0:null==t||i?e[e.length-1]:r.call(e,Math.max(e.length-t,0))},p.rest=p.tail=p.drop=function(e,t,i){return r.call(e,null==t||i?1:t)},p.compact=function(e){return p.filter(e,p.identity)};var v=function(e,t,i,n){if(t&&p.every(e,p.isArray))return a.apply(n,e);for(var o=0,r=e.length;r>o;o++){var l=e[o];p.isArray(l)||p.isArguments(l)?t?s.apply(n,l):v(l,t,i,n):i||n.push(l)}return n};p.flatten=function(e,t){return v(e,t,!1,[])},p.without=function(e){return p.difference(e,r.call(arguments,1))},p.uniq=p.unique=function(e,t,i,n){if(null==e)return[];p.isBoolean(t)||(n=i,i=t,t=!1),null!=i&&(i=p.iteratee(i,n));for(var o=[],s=[],r=0,a=e.length;a>r;r++){var l=e[r];if(t)r&&s===l||o.push(l),s=l;else if(i){var u=i(l,r,e);p.indexOf(s,u)<0&&(s.push(u),o.push(l))}else p.indexOf(o,l)<0&&o.push(l)}return o},p.union=function(){return p.uniq(v(arguments,!0,!0,[]))},p.intersection=function(e){if(null==e)return[];for(var t=[],i=arguments.length,n=0,o=e.length;o>n;n++){var s=e[n];if(!p.contains(t,s)){for(var r=1;i>r&&p.contains(arguments[r],s);r++);r===i&&t.push(s)}}return t},p.difference=function(e){var t=v(r.call(arguments,1),!0,!0,[]);return p.filter(e,function(e){return!p.contains(t,e)})},p.zip=function(e){if(null==e)return[];for(var t=p.max(arguments,"length").length,i=Array(t),n=0;t>n;n++)i[n]=p.pluck(arguments,n);return i},p.object=function(e,t){if(null==e)return{};for(var i={},n=0,o=e.length;o>n;n++)t?i[e[n]]=t[n]:i[e[n][0]]=e[n][1];return i},p.indexOf=function(e,t,i){if(null==e)return-1;var n=0,o=e.length;if(i){if("number"!=typeof i)return n=p.sortedIndex(e,t),e[n]===t?n:-1;n=0>i?Math.max(0,o+i):i}for(;o>n;n++)if(e[n]===t)return n;return-1},p.lastIndexOf=function(e,t,i){if(null==e)return-1;var n=e.length;for("number"==typeof i&&(n=0>i?n+i+1:Math.min(n,i+1));--n>=0;)if(e[n]===t)return n;return-1},p.range=function(e,t,i){arguments.length<=1&&(t=e||0,e=0),i=i||1;for(var n=Math.max(Math.ceil((t-e)/i),0),o=Array(n),s=0;n>s;s++,e+=i)o[s]=e;return o};var b=function(){};p.bind=function(e,t){var i,n;if(d&&e.bind===d)return d.apply(e,r.call(arguments,1));if(!p.isFunction(e))throw new TypeError("Bind must be called on a function");return i=r.call(arguments,2),n=function(){if(this instanceof n){b.prototype=e.prototype;var o=new b;b.prototype=null;var s=e.apply(o,i.concat(r.call(arguments)));return p.isObject(s)?s:o}return e.apply(t,i.concat(r.call(arguments)))}},p.partial=function(e){var t=r.call(arguments,1);return function(){for(var i=0,n=t.slice(),o=0,s=n.length;s>o;o++)n[o]===p&&(n[o]=arguments[i++]);for(;i<arguments.length;)n.push(arguments[i++]);return e.apply(this,n)}},p.bindAll=function(e){var t,i,n=arguments.length;if(1>=n)throw new Error("bindAll must be passed function names");for(t=1;n>t;t++)i=arguments[t],e[i]=p.bind(e[i],e);return e},p.memoize=function(e,t){var i=function(n){var o=i.cache,s=t?t.apply(this,arguments):n;return p.has(o,s)||(o[s]=e.apply(this,arguments)),o[s]};return i.cache={},i},p.delay=function(e,t){var i=r.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},p.defer=function(e){return p.delay.apply(p,[e,1].concat(r.call(arguments,1)))},p.throttle=function(e,t,i){var n,o,s,r=null,a=0;i||(i={});var l=function(){a=i.leading===!1?0:p.now(),r=null,s=e.apply(n,o),r||(n=o=null)};return function(){var u=p.now();a||i.leading!==!1||(a=u);var c=t-(u-a);return n=this,o=arguments,0>=c||c>t?(clearTimeout(r),r=null,a=u,s=e.apply(n,o),r||(n=o=null)):r||i.trailing===!1||(r=setTimeout(l,c)),s}},p.debounce=function(e,t,i){var n,o,s,r,a,l=function(){var u=p.now()-r;t>u&&u>0?n=setTimeout(l,t-u):(n=null,i||(a=e.apply(s,o),n||(s=o=null)))};return function(){s=this,o=arguments,r=p.now();var u=i&&!n;return n||(n=setTimeout(l,t)),u&&(a=e.apply(s,o),s=o=null),a}},p.wrap=function(e,t){return p.partial(t,e)},p.negate=function(e){return function(){return!e.apply(this,arguments)}},p.compose=function(){var e=arguments,t=e.length-1;return function(){for(var i=t,n=e[t].apply(this,arguments);i--;)n=e[i].call(this,n);return n}},p.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},p.before=function(e,t){var i;return function(){return--e>0?i=t.apply(this,arguments):t=null,i}},p.once=p.partial(p.before,2),p.keys=function(e){if(!p.isObject(e))return[];if(h)return h(e);var t=[];for(var i in e)p.has(e,i)&&t.push(i);return t},p.values=function(e){for(var t=p.keys(e),i=t.length,n=Array(i),o=0;i>o;o++)n[o]=e[t[o]];return n},p.pairs=function(e){for(var t=p.keys(e),i=t.length,n=Array(i),o=0;i>o;o++)n[o]=[t[o],e[t[o]]];return n},p.invert=function(e){for(var t={},i=p.keys(e),n=0,o=i.length;o>n;n++)t[e[i[n]]]=i[n];return t},p.functions=p.methods=function(e){var t=[];for(var i in e)p.isFunction(e[i])&&t.push(i);return t.sort()},p.extend=function(e){if(!p.isObject(e))return e;for(var t,i,n=1,o=arguments.length;o>n;n++){t=arguments[n];for(i in t)u.call(t,i)&&(e[i]=t[i])}return e},p.pick=function(e,t,i){var n,o={};if(null==e)return o;if(p.isFunction(t)){t=f(t,i);for(n in e){var s=e[n];t(s,n,e)&&(o[n]=s)}}else{var l=a.apply([],r.call(arguments,1));e=new Object(e);for(var u=0,c=l.length;c>u;u++)n=l[u],n in e&&(o[n]=e[n])}return o},p.omit=function(e,t,i){if(p.isFunction(t))t=p.negate(t);else{var n=p.map(a.apply([],r.call(arguments,1)),String);t=function(e,t){return!p.contains(n,t)}}return p.pick(e,t,i)},p.defaults=function(e){if(!p.isObject(e))return e;for(var t=1,i=arguments.length;i>t;t++){var n=arguments[t];for(var o in n)void 0===e[o]&&(e[o]=n[o])}return e},p.clone=function(e){return p.isObject(e)?p.isArray(e)?e.slice():p.extend({},e):e},p.tap=function(e,t){return t(e),e};var y=function(e,t,i,n){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof p&&(e=e._wrapped),t instanceof p&&(t=t._wrapped);var o=l.call(e);if(o!==l.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}if("object"!=typeof e||"object"!=typeof t)return!1;for(var s=i.length;s--;)if(i[s]===e)return n[s]===t;var r=e.constructor,a=t.constructor;if(r!==a&&"constructor"in e&&"constructor"in t&&!(p.isFunction(r)&&r instanceof r&&p.isFunction(a)&&a instanceof a))return!1;i.push(e),n.push(t);var u,c;if("[object Array]"===o){if(u=e.length,c=u===t.length)for(;u--&&(c=y(e[u],t[u],i,n)););}else{var h,d=p.keys(e);if(u=d.length,c=p.keys(t).length===u)for(;u--&&(h=d[u],c=p.has(t,h)&&y(e[h],t[h],i,n)););}return i.pop(),n.pop(),c};p.isEqual=function(e,t){return y(e,t,[],[])},p.isEmpty=function(e){if(null==e)return!0;if(p.isArray(e)||p.isString(e)||p.isArguments(e))return 0===e.length;for(var t in e)if(p.has(e,t))return!1;return!0},p.isElement=function(e){return!!e&&1===e.nodeType},p.isArray=c||function(e){return"[object Array]"===l.call(e)},p.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},p.each(["Arguments","Function","String","Number","Date","RegExp"],function(e){p["is"+e]=function(t){return l.call(t)==="[object "+e+"]"}}),p.isArguments(arguments)||(p.isArguments=function(e){return p.has(e,"callee")}),"function"!=typeof/./&&(p.isFunction=function(e){return"function"==typeof e||!1}),p.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},p.isNaN=function(e){return p.isNumber(e)&&e!==+e},p.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===l.call(e)},p.isNull=function(e){return null===e},p.isUndefined=function(e){return void 0===e},p.has=function(e,t){return null!=e&&u.call(e,t)},p.noConflict=function(){return e._=t,this},p.identity=function(e){return e},p.constant=function(e){return function(){return e}},p.noop=function(){},p.property=function(e){return function(t){return t[e]}},p.matches=function(e){var t=p.pairs(e),i=t.length;return function(e){if(null==e)return!i;e=new Object(e);for(var n=0;i>n;n++){var o=t[n],s=o[0];if(o[1]!==e[s]||!(s in e))return!1}return!0}},p.times=function(e,t,i){var n=Array(Math.max(0,e));t=f(t,i,1);for(var o=0;e>o;o++)n[o]=t(o);return n},p.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},p.now=Date.now||function(){return(new Date).getTime()};var w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},_=p.invert(w),x=function(e){var t=function(t){return e[t]},i="(?:"+p.keys(e).join("|")+")",n=RegExp(i),o=RegExp(i,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(o,t):e}};p.escape=x(w),p.unescape=x(_),p.result=function(e,t){if(null==e)return void 0;var i=e[t];return p.isFunction(i)?e[t]():i};var C=0;p.uniqueId=function(e){var t=++C+"";return e?e+t:t},p.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var k=/(.)^/,T={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},S=/\\|'|\r|\n|\u2028|\u2029/g,P=function(e){return"\\"+T[e]};p.template=function(e,t,i){!t&&i&&(t=i),t=p.defaults({},t,p.templateSettings);var n=RegExp([(t.escape||k).source,(t.interpolate||k).source,(t.evaluate||k).source].join("|")+"|$","g"),o=0,s="__p+='";e.replace(n,function(t,i,n,r,a){return s+=e.slice(o,a).replace(S,P),o=a+t.length,i?s+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?s+="'+\n((__t=("+n+"))==null?'':__t)+\n'":r&&(s+="';\n"+r+"\n__p+='"),t}),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var r=new Function(t.variable||"obj","_",s)}catch(a){throw a.source=s,a}var l=function(e){return r.call(this,e,p)},u=t.variable||"obj";return l.source="function("+u+"){\n"+s+"}",l},p.chain=function(e){var t=p(e);return t._chain=!0,t};var E=function(e){return this._chain?p(e).chain():e};p.mixin=function(e){p.each(p.functions(e),function(t){var i=p[t]=e[t];p.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),E.call(this,i.apply(p,e))}})},p.mixin(p),p.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];p.prototype[e]=function(){var i=this._wrapped;return t.apply(i,arguments),"shift"!==e&&"splice"!==e||0!==i.length||delete i[0],E.call(this,i)}}),p.each(["concat","join","slice"],function(e){var t=i[e];p.prototype[e]=function(){return E.call(this,t.apply(this._wrapped,arguments))}}),p.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return p})}.call(this),function(e,t){if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(i,n,o){e.Backbone=t(e,o,i,n)});else if("undefined"!=typeof exports){var i=require("underscore");t(e,exports,i)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,t,i,n){{var o=e.Backbone,s=[],r=(s.push,s.slice);s.splice}t.VERSION="1.1.2",t.$=n,t.noConflict=function(){return e.Backbone=o,this},t.emulateHTTP=!1,t.emulateJSON=!1;var a=t.Events={on:function(e,t,i){if(!u(this,"on",e,[t,i])||!t)return this;this._events||(this._events={});var n=this._events[e]||(this._events[e]=[]);return n.push({callback:t,context:i,ctx:i||this}),this},once:function(e,t,n){if(!u(this,"once",e,[t,n])||!t)return this;var o=this,s=i.once(function(){o.off(e,s),t.apply(this,arguments)});return s._callback=t,this.on(e,s,n)},off:function(e,t,n){var o,s,r,a,l,c,h,d;if(!this._events||!u(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events=void 0,this;for(a=e?[e]:i.keys(this._events),l=0,c=a.length;c>l;l++)if(e=a[l],r=this._events[e]){if(this._events[e]=o=[],t||n)for(h=0,d=r.length;d>h;h++)s=r[h],(t&&t!==s.callback&&t!==s.callback._callback||n&&n!==s.context)&&o.push(s);o.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=r.call(arguments,1);if(!u(this,"trigger",e,t))return this;var i=this._events[e],n=this._events.all;return i&&c(i,t),n&&c(n,arguments),this},stopListening:function(e,t,n){var o=this._listeningTo;if(!o)return this;var s=!t&&!n;!n&&"object"==typeof t&&(n=this),e&&((o={})[e._listenId]=e);for(var r in o)e=o[r],e.off(t,n,this),(s||i.isEmpty(e._events))&&delete this._listeningTo[r];return this}},l=/\s+/,u=function(e,t,i,n){if(!i)return!0;if("object"==typeof i){for(var o in i)e[t].apply(e,[o,i[o]].concat(n));return!1}if(l.test(i)){for(var s=i.split(l),r=0,a=s.length;a>r;r++)e[t].apply(e,[s[r]].concat(n));return!1}return!0},c=function(e,t){var i,n=-1,o=e.length,s=t[0],r=t[1],a=t[2];switch(t.length){case 0:for(;++n<o;)(i=e[n]).callback.call(i.ctx);return;case 1:for(;++n<o;)(i=e[n]).callback.call(i.ctx,s);return;case 2:for(;++n<o;)(i=e[n]).callback.call(i.ctx,s,r);return;case 3:for(;++n<o;)(i=e[n]).callback.call(i.ctx,s,r,a);return;default:for(;++n<o;)(i=e[n]).callback.apply(i.ctx,t);return}},h={listenTo:"on",listenToOnce:"once"};i.each(h,function(e,t){a[t]=function(t,n,o){var s=this._listeningTo||(this._listeningTo={}),r=t._listenId||(t._listenId=i.uniqueId("l"));return s[r]=t,!o&&"object"==typeof n&&(o=this),t[e](n,o,this),this}}),a.bind=a.on,a.unbind=a.off,i.extend(t,a);var d=t.Model=function(e,t){var n=e||{};t||(t={}),this.cid=i.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(n=this.parse(n,t)||{}),n=i.defaults({},n,i.result(this,"defaults")),this.set(n,t),this.changed={},this.initialize.apply(this,arguments)};i.extend(d.prototype,a,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return i.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return i.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,n){var o,s,r,a,l,u,c,h;if(null==e)return this;if("object"==typeof e?(s=e,n=t):(s={})[e]=t,n||(n={}),!this._validate(s,n))return!1;r=n.unset,l=n.silent,a=[],u=this._changing,this._changing=!0,u||(this._previousAttributes=i.clone(this.attributes),this.changed={}),h=this.attributes,c=this._previousAttributes,this.idAttribute in s&&(this.id=s[this.idAttribute]);for(o in s)t=s[o],i.isEqual(h[o],t)||a.push(o),i.isEqual(c[o],t)?delete this.changed[o]:this.changed[o]=t,r?delete h[o]:h[o]=t;if(!l){a.length&&(this._pending=n);for(var d=0,p=a.length;p>d;d++)this.trigger("change:"+a[d],this,h[a[d]],n)}if(u)return this;if(!l)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,i.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,i.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!i.isEmpty(this.changed):i.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?i.clone(this.changed):!1;var t,n=!1,o=this._changing?this._previousAttributes:this.attributes;for(var s in e)i.isEqual(o[s],t=e[s])||((n||(n={}))[s]=t);return n},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(e){e=e?i.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,n=e.success;return e.success=function(i){return t.set(t.parse(i,e),e)?(n&&n(t,i,e),t.trigger("sync",t,i,e),void 0):!1},q(this,e),this.sync("read",this,e)},save:function(e,t,n){var o,s,r,a=this.attributes;if(null==e||"object"==typeof e?(o=e,n=t):(o={})[e]=t,n=i.extend({validate:!0},n),o&&!n.wait){if(!this.set(o,n))return!1}else if(!this._validate(o,n))return!1;o&&n.wait&&(this.attributes=i.extend({},a,o)),void 0===n.parse&&(n.parse=!0);var l=this,u=n.success;return n.success=function(e){l.attributes=a;var t=l.parse(e,n);return n.wait&&(t=i.extend(o||{},t)),i.isObject(t)&&!l.set(t,n)?!1:(u&&u(l,e,n),l.trigger("sync",l,e,n),void 0)},q(this,n),s=this.isNew()?"create":n.patch?"patch":"update","patch"===s&&(n.attrs=o),r=this.sync(s,this,n),o&&n.wait&&(this.attributes=a),r},destroy:function(e){e=e?i.clone(e):{};var t=this,n=e.success,o=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(i){(e.wait||t.isNew())&&o(),n&&n(t,i,e),t.isNew()||t.trigger("sync",t,i,e)},this.isNew())return e.success(),!1;q(this,e);var s=this.sync("delete",this,e);return e.wait||o(),s},url:function(){var e=i.result(this,"urlRoot")||i.result(this.collection,"url")||L();return this.isNew()?e:e.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},i.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=i.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return n?(this.trigger("invalid",this,n,i.extend(t,{validationError:n})),!1):!0}});var p=["keys","values","pairs","invert","pick","omit"];i.each(p,function(e){d.prototype[e]=function(){var t=r.call(arguments);return t.unshift(this.attributes),i[e].apply(i,t)}});var f=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,i.extend({silent:!0},t))},m={add:!0,remove:!0,merge:!0},g={add:!0,remove:!1};i.extend(f.prototype,a,{model:d,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,i.extend({merge:!1},t,g))},remove:function(e,t){var n=!i.isArray(e);e=n?[e]:i.clone(e),t||(t={});var o,s,r,a;for(o=0,s=e.length;s>o;o++)a=e[o]=this.get(e[o]),a&&(delete this._byId[a.id],delete this._byId[a.cid],r=this.indexOf(a),this.models.splice(r,1),this.length--,t.silent||(t.index=r,a.trigger("remove",a,this,t)),this._removeReference(a,t));return n?e[0]:e},set:function(e,t){t=i.defaults({},t,m),t.parse&&(e=this.parse(e,t));var n=!i.isArray(e);e=n?e?[e]:[]:i.clone(e);var o,s,r,a,l,u,c,h=t.at,p=this.model,f=this.comparator&&null==h&&t.sort!==!1,g=i.isString(this.comparator)?this.comparator:null,v=[],b=[],y={},w=t.add,_=t.merge,x=t.remove,C=!f&&w&&x?[]:!1;for(o=0,s=e.length;s>o;o++){if(l=e[o]||{},r=l instanceof d?a=l:l[p.prototype.idAttribute||"id"],u=this.get(r))x&&(y[u.cid]=!0),_&&(l=l===a?a.attributes:l,t.parse&&(l=u.parse(l,t)),u.set(l,t),f&&!c&&u.hasChanged(g)&&(c=!0)),e[o]=u;else if(w){if(a=e[o]=this._prepareModel(l,t),!a)continue;v.push(a),this._addReference(a,t)}a=u||a,C&&(a.isNew()||!y[a.id])&&C.push(a),y[a.id]=!0}if(x){for(o=0,s=this.length;s>o;++o)y[(a=this.models[o]).cid]||b.push(a);b.length&&this.remove(b,t)}if(v.length||C&&C.length)if(f&&(c=!0),this.length+=v.length,null!=h)for(o=0,s=v.length;s>o;o++)this.models.splice(h+o,0,v[o]);else{C&&(this.models.length=0);var k=C||v;for(o=0,s=k.length;s>o;o++)this.models.push(k[o])}if(c&&this.sort({silent:!0}),!t.silent){for(o=0,s=v.length;s>o;o++)(a=v[o]).trigger("add",a,this,t);(c||C&&C.length)&&this.trigger("sort",this,t)}return n?e[0]:e},reset:function(e,t){t||(t={});for(var n=0,o=this.models.length;o>n;n++)this._removeReference(this.models[n],t);return t.previousModels=this.models,this._reset(),e=this.add(e,i.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,i.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,i.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return r.apply(this.models,arguments)},get:function(e){return null==e?void 0:this._byId[e]||this._byId[e.id]||this._byId[e.cid]},at:function(e){return this.models[e]},where:function(e,t){return i.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var i in e)if(e[i]!==t.get(i))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),i.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(i.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return i.invoke(this.models,"get",e)},fetch:function(e){e=e?i.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,n=this;return e.success=function(i){var o=e.reset?"reset":"set";n[o](i,e),t&&t(n,i,e),n.trigger("sync",n,i,e)},q(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?i.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var n=this,o=t.success;return t.success=function(e,i){t.wait&&n.add(e,t),o&&o(e,i,t)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof d)return e;t=t?i.clone(t):{},t.collection=this;var n=new this.model(e,t);return n.validationError?(this.trigger("invalid",this,n.validationError,t),!1):n},_addReference:function(e){this._byId[e.cid]=e,null!=e.id&&(this._byId[e.id]=e),e.collection||(e.collection=this),e.on("all",this._onModelEvent,this)},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,i,n){("add"!==e&&"remove"!==e||i===this)&&("destroy"===e&&this.remove(t,n),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var v=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];i.each(v,function(e){f.prototype[e]=function(){var t=r.call(arguments);return t.unshift(this.models),i[e].apply(i,t)}});var b=["groupBy","countBy","sortBy","indexBy"];i.each(b,function(e){f.prototype[e]=function(t,n){var o=i.isFunction(t)?t:function(e){return e.get(t)};return i[e](this.models,o,n)}});var y=t.View=function(e){this.cid=i.uniqueId("view"),e||(e={}),i.extend(this,i.pick(e,_)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},w=/^(\S+)\s*(.*)$/,_=["model","collection","el","id","attributes","className","tagName","events"];i.extend(y.prototype,a,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,i){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],i!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=i.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var n=e[t];if(i.isFunction(n)||(n=this[e[t]]),n){var o=t.match(w),s=o[1],r=o[2];n=i.bind(n,this),s+=".delegateEvents"+this.cid,""===r?this.$el.on(s,n):this.$el.on(s,r,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"),!1);else{var e=i.extend({},i.result(this,"attributes"));this.id&&(e.id=i.result(this,"id")),this.className&&(e["class"]=i.result(this,"className"));var n=t.$("<"+i.result(this,"tagName")+">").attr(e);this.setElement(n,!1)}}}),t.sync=function(e,n,o){var s=C[e];i.defaults(o||(o={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var r={type:s,dataType:"json"};if(o.url||(r.url=i.result(n,"url")||L()),null==o.data&&n&&("create"===e||"update"===e||"patch"===e)&&(r.contentType="application/json",r.data=JSON.stringify(o.attrs||n.toJSON(o))),o.emulateJSON&&(r.contentType="application/x-www-form-urlencoded",r.data=r.data?{model:r.data}:{}),o.emulateHTTP&&("PUT"===s||"DELETE"===s||"PATCH"===s)){r.type="POST",o.emulateJSON&&(r.data._method=s);var a=o.beforeSend;o.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",s),a?a.apply(this,arguments):void 0}}"GET"!==r.type&&!o.emulateJSON&&(r.processData=!1),"PATCH"===r.type&&x&&(r.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=o.xhr=t.ajax(i.extend(r,o));return n.trigger("request",n,l,o),l};var x=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),C={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var k=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},T=/\((.*?)\)/g,S=/(\(\?)?:\w+/g,P=/\*\w+/g,E=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(k.prototype,a,{initialize:function(){},route:function(e,n,o){i.isRegExp(e)||(e=this._routeToRegExp(e)),i.isFunction(n)&&(o=n,n=""),o||(o=this[n]);var s=this;return t.history.route(e,function(i){var r=s._extractParameters(e,i);s.execute(o,r)!==!1&&(s.trigger.apply(s,["route:"+n].concat(r)),s.trigger("route",n,r),t.history.trigger("route",s,n,r))}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,i){return t.history.navigate(e,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var e,t=i.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(E,"\\$&").replace(T,"(?:$1)?").replace(S,function(e,t){return t?e:"([^/?]+)"}).replace(P,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return i.map(n,function(e,t){return t===n.length-1?e||null:e?decodeURIComponent(e):null})}});var A=t.History=function(){this.handlers=[],i.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},D=/^[#\/]|\s+$/g,j=/^\/+|\/+$/g,O=/msie [\w.]+/,F=/\/$/,I=/#.*$/;A.started=!1,i.extend(A.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=decodeURI(this.location.pathname+this.location.search);var i=this.root.replace(F,"");e.indexOf(i)||(e=e.slice(i.length))}else e=this.getHash();return e.replace(D,"")},start:function(e){if(A.started)throw new Error("Backbone.history has already been started");A.started=!0,this.options=i.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),o=document.documentMode,s=O.exec(navigator.userAgent.toLowerCase())&&(!o||7>=o);if(this.root=("/"+this.root+"/").replace(j,"/"),s&&this._wantsHashChange){var r=t.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=r.hide().appendTo("body")[0].contentWindow,this.navigate(n)}this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!s?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var a=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&a.hash&&(this.fragment=this.getHash().replace(D,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),A.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),this.loadUrl(),void 0)},loadUrl:function(e){return e=this.fragment=this.getFragment(e),i.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})},navigate:function(e,t){if(!A.started)return!1;t&&t!==!0||(t={trigger:!!t});var i=this.root+(e=this.getFragment(e||""));if(e=e.replace(I,""),this.fragment!==e){if(this.fragment=e,""===e&&"/"!==i&&(i=i.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,i){if(i){var n=e.href.replace(/(javascript:|#).*$/,"");e.replace(n+"#"+t)}else e.hash="#"+t
}}),t.history=new A;var N=function(e,t){var n,o=this;n=e&&i.has(e,"constructor")?e.constructor:function(){return o.apply(this,arguments)},i.extend(n,o,t);var s=function(){this.constructor=n};return s.prototype=o.prototype,n.prototype=new s,e&&i.extend(n.prototype,e),n.__super__=o.prototype,n};d.extend=f.extend=k.extend=y.extend=A.extend=N;var L=function(){throw new Error('A "url" property or function must be specified')},q=function(e,t){var i=t.error;t.error=function(n){i&&i(e,n,t),e.trigger("error",e,n,t)}};return t}),function(){function n(e){return void 0!==e}function ba(){}function ca(e){e.Qb=function(){return e.ef?e.ef:e.ef=new e}}function da(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var i=Object.prototype.toString.call(e);if("[object Window]"==i)return"object";if("[object Array]"==i||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==i||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t}function ea(e){return"array"==da(e)}function fa(e){var t=da(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"string"==typeof e}function ga(e){return"number"==typeof e}function ha(e){return"function"==da(e)}function ia(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function ja(e){return e.call.apply(e.bind,arguments)}function ka(e,t){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function q(){return q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka,q.apply(null,arguments)}function la(e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function na(e,t){function i(){}i.prototype=t.prototype,e.oc=t.prototype,e.prototype=new i,e.Ag=function(e,i){return t.prototype[i].apply(e,Array.prototype.slice.call(arguments,2))}}function oa(a){if(a=String(a),/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a)}function pa(){this.Id=void 0}function qa(e,t,i){switch(typeof t){case"string":ra(t,i);break;case"number":i.push(isFinite(t)&&!isNaN(t)?t:"null");break;case"boolean":i.push(t);break;case"undefined":i.push("null");break;case"object":if(null==t){i.push("null");break}if(ea(t)){var n=t.length;i.push("[");for(var o="",s=0;n>s;s++)i.push(o),o=t[s],qa(e,e.Id?e.Id.call(t,String(s),o):o,i),o=",";i.push("]");break}i.push("{"),n="";for(s in t)Object.prototype.hasOwnProperty.call(t,s)&&(o=t[s],"function"!=typeof o&&(i.push(n),ra(s,i),i.push(":"),qa(e,e.Id?e.Id.call(t,s,o):o,i),n=","));i.push("}");break;case"function":break;default:throw Error("Unknown type: "+typeof t)}}function ra(e,t){t.push('"',e.replace(ta,function(e){if(e in sa)return sa[e];var t=e.charCodeAt(0),i="\\u";return 16>t?i+="000":256>t?i+="00":4096>t&&(i+="0"),sa[e]=i+t.toString(16)}),'"')}function ua(e){return"undefined"!=typeof JSON&&n(JSON.parse)?JSON.parse(e):oa(e)}function t(e){if("undefined"!=typeof JSON&&n(JSON.stringify))e=JSON.stringify(e);else{var t=[];qa(new pa,e,t),e=t.join("")}return e}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function v(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function va(e,t){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t(i,e[i])}function wa(e){var t={};return va(e,function(e,i){t[e]=i}),t}function xa(e){this.xc=e,this.Hd="firebase:"}function ya(){this.ha={}}function za(e){try{if("undefined"!=typeof window&&"undefined"!=typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new xa(t)}}catch(i){}return new ya}function Ca(e,t,i,n,o){this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.Cb=t,this.yb=i,this.yg=n,this.Gd=o||"",this.Ka=Aa.get("host:"+e)||this.host}function Da(e,t){t!==e.Ka&&(e.Ka=t,"s-"===e.Ka.substr(0,2)&&Aa.set("host:"+e.host,e.Ka))}function Ea(){this.Ta=-1}function Fa(){this.Ta=-1,this.Ta=64,this.R=[],this.be=[],this.Af=[],this.Dd=[],this.Dd[0]=128;for(var e=1;e<this.Ta;++e)this.Dd[e]=0;this.Rd=this.Tb=0,this.reset()}function Ga(e,t,i){i||(i=0);var n=e.Af;if(p(t))for(var o=0;16>o;o++)n[o]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(o=0;16>o;o++)n[o]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(o=16;80>o;o++){var s=n[o-3]^n[o-8]^n[o-14]^n[o-16];n[o]=4294967295&(s<<1|s>>>31)}t=e.R[0],i=e.R[1];for(var r,a=e.R[2],l=e.R[3],u=e.R[4],o=0;80>o;o++)40>o?20>o?(s=l^i&(a^l),r=1518500249):(s=i^a^l,r=1859775393):60>o?(s=i&a|l&(i|a),r=2400959708):(s=i^a^l,r=3395469782),s=(t<<5|t>>>27)+s+u+r+n[o]&4294967295,u=l,l=a,a=4294967295&(i<<30|i>>>2),i=t,t=s;e.R[0]=e.R[0]+t&4294967295,e.R[1]=e.R[1]+i&4294967295,e.R[2]=e.R[2]+a&4294967295,e.R[3]=e.R[3]+l&4294967295,e.R[4]=e.R[4]+u&4294967295}function Ha(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ma()).toString(36)}function Oa(e,t){var i=Pa(e,t,void 0);return 0>i?null:p(e)?e.charAt(i):e[i]}function Pa(e,t,i){for(var n=e.length,o=p(e)?e.split(""):e,s=0;n>s;s++)if(s in o&&t.call(i,o[s],s,e))return s;return-1}function Qa(e,t){var i=Ia(e,t);i>=0&&w.splice.call(e,i,1)}function Ra(e){return w.splice.apply(e,Sa(arguments,1))}function Sa(e,t,i){return 2>=arguments.length?w.slice.call(e,t):w.slice.call(e,t,i)}function Ta(e,t){e.sort(t||Ua)}function Ua(e,t){return e>t?1:t>e?-1:0}function Ya(e){return-1!=Va.indexOf(e)}function fb(e,t){if(!fa(e))throw Error("encodeByteArray takes an array as a parameter");gb();for(var i=t?db:cb,n=[],o=0;o<e.length;o+=3){var s=e[o],r=o+1<e.length,a=r?e[o+1]:0,l=o+2<e.length,u=l?e[o+2]:0,c=s>>2,s=(3&s)<<4|a>>4,a=(15&a)<<2|u>>6,u=63&u;l||(u=64,r||(a=64)),n.push(i[c],i[s],i[a],i[u])}return n.join("")}function gb(){if(!cb){cb={},db={},eb={};for(var e=0;65>e;e++)cb[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),db[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e),eb[db[e]]=e}}function x(e,t){if(!e)throw ib(t)}function ib(e){return Error("Firebase INTERNAL ASSERT FAILED:"+e)}function jb(e){try{var t;if("undefined"!=typeof atob)t=atob(e);else{gb();for(var i=eb,n=[],o=0;o<e.length;){var s=i[e.charAt(o++)],r=o<e.length?i[e.charAt(o)]:0;++o;var a=o<e.length?i[e.charAt(o)]:64;++o;var l=o<e.length?i[e.charAt(o)]:64;if(++o,null==s||null==r||null==a||null==l)throw Error();n.push(s<<2|r>>4),64!=a&&(n.push(r<<4&240|a>>2),64!=l&&n.push(a<<6&192|l))}if(8192>n.length)t=String.fromCharCode.apply(null,n);else{for(e="",i=0;i<n.length;i+=8192)e+=String.fromCharCode.apply(null,Sa(n,i,i+8192));t=e}}return t}catch(u){kb("base64Decode failed: ",u)}return null}function lb(e){var t=mb(e);e=new Fa,e.update(t);var t=[],i=8*e.Rd;56>e.Tb?e.update(e.Dd,56-e.Tb):e.update(e.Dd,e.Ta-(e.Tb-56));for(var n=e.Ta-1;n>=56;n--)e.be[n]=255&i,i/=256;for(Ga(e,e.be),n=i=0;5>n;n++)for(var o=24;o>=0;o-=8)t[i]=e.R[n]>>o&255,++i;return fb(t)}function nb(){for(var e="",i=0;i<arguments.length;i++)e=fa(arguments[i])?e+nb.apply(null,arguments[i]):"object"==typeof arguments[i]?e+t(arguments[i]):e+arguments[i],e+=" ";return e}function kb(){if(!0===pb&&(pb=!1,null===ob&&!0===Ba.get("logging_enabled")&&qb(!0)),ob){var e=nb.apply(null,arguments);ob(e)}}function rb(e){return function(){kb(e,arguments)}}function sb(){if("undefined"!=typeof console){{"FIREBASE INTERNAL ERROR: "+nb.apply(null,arguments)}"undefined"!=typeof console.error?undefined:undefined}}function tb(){var e=nb.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+e)}function z(){if("undefined"!=typeof console){{"FIREBASE WARNING: "+nb.apply(null,arguments)}"undefined"!=typeof console.warn?undefined:undefined}}function ub(e){var t="",i="",n="",o=!0,s="https",r="";if(p(e)){var a=e.indexOf("//");a>=0&&(s=e.substring(0,a-1),e=e.substring(a+2)),a=e.indexOf("/"),-1===a&&(a=e.length),t=e.substring(0,a),e=e.substring(a+1);var l=t.split(".");if(3===l.length){for(a=l[2].indexOf(":"),o=a>=0?"https"===s||"wss"===s:!0,i=l[1],n=l[0],r="",e=("/"+e).split("/"),a=0;a<e.length;a++)if(0<e[a].length){l=e[a];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch(u){}r+="/"+l}n=n.toLowerCase()}else 2===l.length&&(i=l[0])}return{host:t,domain:i,vg:n,Cb:o,scheme:s,Pc:r}}function vb(e){return ga(e)&&(e!=e||e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY)}function wb(e){if("complete"===document.readyState)e();else{var t=!1,i=function(){document.body?t||(t=!0,e()):setTimeout(i,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&i()}),window.attachEvent("onload",i))}}function xb(e,t){if(e===t)return 0;if("[MIN_NAME]"===e||"[MAX_NAME]"===t)return-1;if("[MIN_NAME]"===t||"[MAX_NAME]"===e)return 1;var i=yb(e),n=yb(t);return null!==i?null!==n?0==i-n?e.length-t.length:i-n:-1:null!==n?1:t>e?-1:1}function zb(e,i){if(i&&e in i)return i[e];throw Error("Missing required key ("+e+") in object: "+t(i))}function Ab(e){if("object"!=typeof e||null===e)return t(e);var i,n=[];for(i in e)n.push(i);n.sort(),i="{";for(var o=0;o<n.length;o++)0!==o&&(i+=","),i+=t(n[o]),i+=":",i+=Ab(e[n[o]]);return i+"}"}function Bb(e,t){if(e.length<=t)return[e];for(var i=[],n=0;n<e.length;n+=t)n+t>e?i.push(e.substring(n,e.length)):i.push(e.substring(n,n+t));return i}function Cb(e,t){if(ea(e))for(var i=0;i<e.length;++i)t(i,e[i]);else A(e,t)}function Db(e){x(!vb(e),"Invalid JSON number");var t,i,n,o;for(0===e?(n=i=0,t=-1/0===1/e?1:0):(t=0>e,e=Math.abs(e),e>=Math.pow(2,-1022)?(n=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),i=n+1023,n=Math.round(e*Math.pow(2,52-n)-Math.pow(2,52))):(i=0,n=Math.round(e/Math.pow(2,-1074)))),o=[],e=52;e;e-=1)o.push(n%2?1:0),n=Math.floor(n/2);for(e=11;e;e-=1)o.push(i%2?1:0),i=Math.floor(i/2);for(o.push(t?1:0),o.reverse(),t=o.join(""),i="",e=0;64>e;e+=8)n=parseInt(t.substr(e,8),2).toString(16),1===n.length&&(n="0"+n),i+=n;return i.toLowerCase()}function yb(e){return Eb.test(e)&&(e=Number(e),e>=-2147483648&&2147483647>=e)?e:null}function Fb(e){try{e()}catch(t){setTimeout(function(){throw t},Math.floor(0))}}function B(e){if(ha(e)){var t=Array.prototype.slice.call(arguments,1).slice();Fb(function(){e.apply(null,t)})}}function Gb(e,t,i,n){this.me=t,this.Ld=i,this.Rc=n,this.nd=e}function Hb(e,t,i){this.me=e,this.error=t,this.path=i}function Ib(e,t,i){this.Kb=e,this.mb=t,this.vc=i||null}function Jb(e,t,i){this.ba=e,this.mb=t,this.vc=i}function mb(e){for(var t=[],i=0,n=0;n<e.length;n++){var o=e.charCodeAt(n);o>=55296&&56319>=o&&(o-=55296,n++,x(n<e.length,"Surrogate pair missing trail surrogate."),o=65536+(o<<10)+(e.charCodeAt(n)-56320)),128>o?t[i++]=o:(2048>o?t[i++]=o>>6|192:(65536>o?t[i++]=o>>12|224:(t[i++]=o>>18|240,t[i++]=o>>12&63|128),t[i++]=o>>6&63|128),t[i++]=63&o|128)}return t}function D(e,t,i,n){var o;if(t>n?o="at least "+t:n>i&&(o=0===i?"none":"no more than "+i),o)throw Error(e+" failed: Was called with "+n+(1===n?" argument.":" arguments.")+" Expects "+o+".")}function E(e,t,i){var n="";switch(t){case 1:n=i?"first":"First";break;case 2:n=i?"second":"Second";break;case 3:n=i?"third":"Third";break;case 4:n=i?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return e=e+" failed: "+(n+" argument ")}function F(e,t,i,o){if((!o||n(i))&&!ha(i))throw Error(E(e,t,o)+"must be a valid function.")}function Nb(e,t,i){if(n(i)&&(!ia(i)||null===i))throw Error(E(e,t,!0)+"must be a valid context object.")}function Qb(e){return p(e)&&0!==e.length&&!Ob.test(e)}function Rb(e){return null===e||p(e)||ga(e)&&!vb(e)||ia(e)&&u(e,".sv")}function Sb(e,t,i){i&&!n(t)||Tb(E(e,1,i),t)}function Tb(e,t,i,o){if(i||(i=0),o=o||[],!n(t))throw Error(e+"contains undefined"+Ub(o));if(ha(t))throw Error(e+"contains a function"+Ub(o)+" with contents: "+t.toString());if(vb(t))throw Error(e+"contains "+t.toString()+Ub(o));if(i>1e3)throw new TypeError(e+"contains a cyclic object value ("+o.slice(0,100).join(".")+"...)");if(p(t)&&t.length>10485760/3&&10485760<mb(t).length)throw Error(e+"contains a string greater than 10485760 utf8 bytes"+Ub(o)+" ('"+t.substring(0,50)+"...')");if(ia(t))for(var s in t)if(u(t,s)){var r=t[s];if(".priority"!==s&&".value"!==s&&".sv"!==s&&!Qb(s))throw Error(e+" contains an invalid key ("+s+")"+Ub(o)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');o.push(s),Tb(e,r,i+1,o),o.pop()}}function Ub(e){return 0==e.length?"":" in property '"+e.join(".")+"'"}function Vb(e,t){if(!ia(t)||ea(t))throw Error(E(e,1,!1)+" must be an Object containing the children to replace.");Sb(e,t,!1)}function Wb(e,t,i){if(vb(i))throw Error(E(e,t,!1)+"is "+i.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Rb(i))throw Error(E(e,t,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}function Xb(e,t,i){if(!i||n(t))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw Error(E(e,1,i)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function Yb(e,t,i,o){if((!o||n(i))&&!Qb(i))throw Error(E(e,t,o)+'was an invalid key: "'+i+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function Zb(e,t){if(!p(t)||0===t.length||Pb.test(t))throw Error(E(e,1,!1)+'was an invalid path: "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function $b(e,t){if(".info"===G(t))throw Error(e+" failed: Can't modify data under /.info/")}function ac(e,t){if(!p(t))throw Error(E(e,1,!1)+"must be a valid credential (a string).")}function bc(e,t,i){if(!p(i))throw Error(E(e,t,!1)+"must be a valid string.")}function cc(e,t,i,o){if(!(o&&!n(i)||ia(i)&&null!==i))throw Error(E(e,t,o)+"must be a valid object.")}function dc(e,t,i){if(!ia(t)||null===t||!u(t,i))throw Error(E(e,1,!1)+'must contain the key "'+i+'"');if(!p(v(t,i)))throw Error(E(e,1,!1)+'must contain the key "'+i+'" with type "string"')}function ec(e,t){return xb(e.name,t.name)}function fc(e,t){return xb(e,t)}function gc(){}function H(e){return q(e.compare,e)}function jc(e){this.Vb=e}function lc(){}function nc(){this.yc=this.na=this.nc=this.ga=this.ka=!1,this.xb=0,this.Hb="",this.Bc=null,this.Xb="",this.Ac=null,this.Ub="",this.m=L}function pc(e){return x(e.ga,"Only valid if start has been set"),e.Bc}function qc(e){return x(e.ga,"Only valid if start has been set"),e.nc?e.Xb:"[MIN_NAME]"}function rc(e){return x(e.na,"Only valid if end has been set"),e.Ac}function sc(e){return x(e.na,"Only valid if end has been set"),e.yc?e.Ub:"[MAX_NAME]"}function tc(e){return x(e.ka,"Only valid if limit has been set"),e.xb}function uc(e){var t=new nc;return t.ka=e.ka,t.xb=e.xb,t.ga=e.ga,t.Bc=e.Bc,t.nc=e.nc,t.Xb=e.Xb,t.na=e.na,t.Ac=e.Ac,t.yc=e.yc,t.Ub=e.Ub,t.m=e.m,t}function vc(e,t){var i=uc(e);return i.m=t,i}function wc(e){return!(e.ga||e.na||e.ka)}function M(e,t,i,n){this.g=e,this.path=t,this.w=i,this.dc=n}function xc(e){var t=null,i=null;if(e.ga&&(t=pc(e)),e.na&&(i=rc(e)),e.m===mc){if(e.ga){if("[MIN_NAME]"!=qc(e))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if(null!=t&&"string"!=typeof t)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}if(e.na){if("[MAX_NAME]"!=sc(e))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if(null!=i&&"string"!=typeof i)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}}else if(e.m===L){if(null!=t&&!Rb(t)||null!=i&&!Rb(i))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(x(e.m instanceof jc,"unknown index type."),null!=t&&"object"==typeof t||null!=i&&"object"==typeof i)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")}function yc(e){if(e.ga&&e.na&&e.ka&&(!e.ka||""===e.Hb))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")}function zc(e,t){if(!0===e.dc)throw Error(t+": You can't combine multiple orderBy calls.")}function Dc(e){e=e.w;var t={};if(e.ga&&(t.sp=e.Bc,e.nc&&(t.sn=e.Xb)),e.na&&(t.ep=e.Ac,e.yc&&(t.en=e.Ub)),e.ka){t.l=e.xb;var i=e.Hb;""===i&&(i=e.ga?"l":"r"),t.vf=i}return e.m!==L&&(t.i=e.m.toString()),t}function Ac(e,t,i){var n={cancel:null,Ha:null};if(t&&i)n.cancel=t,F(e,3,n.cancel,!0),n.Ha=i,Nb(e,4,n.Ha);else if(t)if("object"==typeof t&&null!==t)n.Ha=t;else{if("function"!=typeof t)throw Error(E(e,3,!0)+" must either be a cancel callback or a context object.");n.cancel=t}return n}function P(e,t){if(1==arguments.length){this.n=e.split("/");for(var i=0,n=0;n<this.n.length;n++)0<this.n[n].length&&(this.n[i]=this.n[n],i++);this.n.length=i,this.aa=0}else this.n=e,this.aa=t}function G(e){return e.aa>=e.n.length?null:e.n[e.aa]}function Q(e){return e.n.length-e.aa}function R(e){var t=e.aa;return t<e.n.length&&t++,new P(e.n,t)}function T(e,t){var i=G(e);if(null===i)return t;if(i===G(t))return T(R(e),R(t));throw Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ec(){this.children={},this.dd=0,this.value=null}function Fc(e,t,i){this.yd=e?e:"",this.Oc=t?t:null,this.D=i?i:new Ec}function Gc(e,t){for(var i,n=t instanceof P?t:new P(t),o=e;null!==(i=G(n));)o=new Fc(i,o,v(o.D.children,i)||new Ec),n=R(n);return o}function Hc(e,t){x("undefined"!=typeof t,"Cannot set value to undefined"),e.D.value=t,Ic(e)}function Jc(e,t,i,n){i&&!n&&t(e),e.ca(function(e){Jc(e,t,!0,n)}),i&&n&&t(e)}function Kc(e,t){for(var i=e.parent();null!==i&&!t(i);)i=i.parent()}function Ic(e){if(null!==e.Oc){var t=e.Oc,i=e.yd,n=e.e(),o=u(t.D.children,i);n&&o?(delete t.D.children[i],t.D.dd--,Ic(t)):n||o||(t.D.children[i]=e.D,t.D.dd++,Ic(t))}}function Lc(e,t){this.Ga=e,this.pa=t?t:Mc}function Nc(e,t){for(var i,n=e.pa,o=null;!n.e();){if(i=e.Ga(t,n.key),0===i){if(n.left.e())return o?o.key:null;for(n=n.left;!n.right.e();)n=n.right;return n.key}0>i?n=n.left:i>0&&(o=n,n=n.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}function Oc(e,t,i,n,o){for(this.qf=o||null,this.te=n,this.ac=[],o=1;!e.e();)if(o=t?i(e.key,t):1,n&&(o*=-1),0>o)e=this.te?e.left:e.right;else{if(0===o){this.ac.push(e);break}this.ac.push(e),e=this.te?e.right:e.left}}function U(e){if(0===e.ac.length)return null;var t,i=e.ac.pop();if(t=e.qf?e.qf(i.key,i.value):{key:i.key,value:i.value},e.te)for(i=i.left;!i.e();)e.ac.push(i),i=i.right;else for(i=i.right;!i.e();)e.ac.push(i),i=i.left;return t}function Pc(e,t,i,n,o){this.key=e,this.value=t,this.color=null!=i?i:!0,this.left=null!=n?n:Mc,this.right=null!=o?o:Mc}function Qc(e){return e.left.e()?e:Qc(e.left)}function Sc(e){return e.left.e()?Mc:(e.left.$()||e.left.left.$()||(e=Tc(e)),e=e.W(null,null,null,Sc(e.left),null),Rc(e))}function Rc(e){return e.right.$()&&!e.left.$()&&(e=Wc(e)),e.left.$()&&e.left.left.$()&&(e=Uc(e)),e.left.$()&&e.right.$()&&(e=Vc(e)),e}function Tc(e){return e=Vc(e),e.right.left.$()&&(e=e.W(null,null,null,null,Uc(e.right)),e=Wc(e),e=Vc(e)),e}function Wc(e){return e.right.W(null,null,e.color,e.W(null,null,!0,null,e.right.left),null)}function Uc(e){return e.left.W(null,null,e.color,null,e.W(null,null,!0,e.left.right,null))}function Vc(e){return e.W(null,null,!e.color,e.left.W(null,null,!e.left.color,null,null),e.right.W(null,null,!e.right.color,null,null))}function Xc(){}function I(e,t){this.name=e,this.K=t}function Yc(e,t){return new I(e,t)}function Zc(e,t){this.A=e,x(null!==this.A,"LeafNode shouldn't be created with null value."),this.fa=t||K,$c(this.fa),this.wb=null}function dd(e,t){this.td=e,this.Wb=t}function ed(e,t,i){var n=fd(e.td,function(n,o){var s=v(e.Wb,o);if(x(s,"Missing index implementation for "+o),n===hc){if(s.se(t.K)){for(var r=[],a=i.Aa(Yc),l=U(a);l;)l.name!=t.name&&r.push(l),l=U(a);return r.push(t),gd(r,H(s))}return hc}return s=i.get(t.name),r=n,s&&(r=r.remove(new I(t.name,s))),r.Ja(t,t.K)});return new dd(n,e.Wb)}function hd(e,t,i){var n=fd(e.td,function(e){if(e===hc)return e;var n=i.get(t.name);return n?e.remove(new I(t.name,n)):e});return new dd(n,e.Wb)}function bd(e,t,i){this.j=e,(this.fa=t)&&$c(this.fa),this.sb=i,this.wb=null}function ld(e,t){var i;return i=(i=kd(e,t))?(i=i.Ic())&&i.name:e.j.Ic(),i?new I(i,e.j.get(i)):null}function md(e,t){var i;return i=(i=kd(e,t))?(i=i.Zb())&&i.name:e.j.Zb(),i?new I(i,e.j.get(i)):null}function kd(e,t){return t===mc?null:e.sb.get(t.toString())}function J(e,t){if(null===e)return K;var i=null;if("object"==typeof e&&".priority"in e?i=e[".priority"]:"undefined"!=typeof t&&(i=t),x(null===i||"string"==typeof i||"number"==typeof i||"object"==typeof i&&".sv"in i,"Invalid priority type found: "+typeof i),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Zc(e,J(i));if(e instanceof Array){var n=K,o=e;return A(o,function(e,t){if(u(o,t)&&"."!==t.substring(0,1)){var i=J(e);(i.P()||!i.e())&&(n=n.I(t,i))}}),n.ib(J(i))}var s=[],r=!1,a=e;va(a,function(e){if("string"!=typeof e||"."!==e.substring(0,1)){var t=J(a[e]);t.e()||(r=r||!t.O().e(),s.push(new I(e,t)))}});var l=gd(s,ec,function(e){return e.name},fc);if(r){var c=gd(s,H(L));return new bd(l,J(i),new dd({".priority":c},{".priority":L}))}return new bd(l,J(i),id)}function qd(e){this.count=parseInt(Math.log(e+1)/pd,10),this.Ve=this.count-1,this.Jf=e+1&parseInt(Array(this.count+1).join("1"),2)}function rd(e){var t=!(e.Jf&1<<e.Ve);return e.Ve--,t}function gd(e,t,i,n){function o(t,n){var s=n-t;if(0==s)return null;if(1==s){var r=e[t],a=i?i(r):r;return new Pc(a,r.K,!1,null,null)}var r=parseInt(s/2,10)+t,s=o(t,r),l=o(r+1,n),r=e[r],a=i?i(r):r;return new Pc(a,r.K,!1,s,l)}e.sort(t);var s=function(t){function n(t,n){var l=a-t,u=a;a-=t;var u=o(l+1,u),l=e[l],c=i?i(l):l,u=new Pc(c,l.K,n,null,u);s?s.left=u:r=u,s=u}for(var s=null,r=null,a=e.length,l=0;l<t.count;++l){var u=rd(t),c=Math.pow(2,t.count-(l+1));u?n(c,!1):(n(c,!1),n(c,!0))}return r}(new qd(e.length));return null!==s?new Lc(n||t,s):new Lc(n||t)}function ad(e){return"number"==typeof e?"number:"+Db(e):"string:"+e}function $c(e){if(e.P()){var t=e.N();x("string"==typeof t||"number"==typeof t||"object"==typeof t&&u(t,".sv"),"Priority must be a string or number.")}else x(e===kc||e.e(),"priority of unexpected type.");x(e===kc||e.O().e(),"Priority nodes can't have a priority of their own.")}function sd(){bd.call(this,new Lc(fc),K,id)}function C(e,t,i){this.D=e,this.U=t,this.m=i}function td(e){x(ea(e)&&0<e.length,"Requires a non-empty array"),this.Bf=e,this.Gc={}}function ud(e,t){x(Oa(e.Bf,function(e){return e===t}),"Unknown event: "+t)}function vd(){td.call(this,["visible"]);var e,t;if("undefined"!=typeof document&&"undefined"!=typeof document.addEventListener&&("undefined"!=typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!=typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!=typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!=typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.qc=!0,t){var i=this;document.addEventListener(t,function(){var t=!document[e];t!==i.qc&&(i.qc=t,i.Td("visible",t))},!1)}}function wd(){if(td.call(this,["online"]),this.Lc=!0,"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener){var e=this;window.addEventListener("online",function(){e.Lc||e.Td("online",!0),e.Lc=!0},!1),window.addEventListener("offline",function(){e.Lc&&e.Td("online",!1),e.Lc=!1},!1)}}function A(e,t){for(var i in e)t.call(void 0,e[i],i,e)}function fd(e,t){var i,n={};for(i in e)n[i]=t.call(void 0,e[i],i,e);return n}function Mb(e,t){for(var i in e)if(!t.call(void 0,e[i],i,e))return!1;return!0}function Kb(e){var t,i=0;for(t in e)i++;return i}function Lb(e){for(var t in e)return t}function xd(e){var t,i=[],n=0;for(t in e)i[n++]=e[t];return i}function yd(e){var t,i=[],n=0;for(t in e)i[n++]=t;return i}function nd(e,t){for(var i in e)if(e[i]==t)return!0;return!1}function zd(e,t,i){for(var n in e)if(t.call(i,e[n],n,e))return n}function Ad(e,t){var i=zd(e,t,void 0);return i&&e[i]}function Bd(e){for(var t in e)return!1;return!0}function Cd(e,t){return t in e?e[t]:void 0}function od(e){var t,i={};for(t in e)i[t]=e[t];return i}function Ed(e){for(var t,i,n=1;n<arguments.length;n++){i=arguments[n];for(t in i)e[t]=i[t];for(var o=0;o<Dd.length;o++)t=Dd[o],Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}}function Fd(){this.wc={}}function Gd(e,t,i){n(i)||(i=1),u(e.wc,t)||(e.wc[t]=0),e.wc[t]+=i}function Hd(e){this.Kf=e,this.vd=null}function Id(e,t){this.uf={},this.Nd=new Hd(e),this.S=t;var i=1e4+2e4*Math.random();setTimeout(q(this.nf,this),Math.floor(i))}function Ld(e){return e=e.toString(),Jd[e]||(Jd[e]=new Fd),Jd[e]}function Md(e,t){var i=e.toString();return Kd[i]||(Kd[i]=t()),Kd[i]}function Od(e,t,i){this.ie=e,this.f=rb(this.ie),this.frames=this.Cc=null,this.kb=this.lb=this.Oe=0,this.Qa=Ld(t),this.Za=(t.Cb?"wss://":"ws://")+t.Ka+"/.ws?v=5","undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(this.Za+="&r=f"),t.host!==t.Ka&&(this.Za=this.Za+"&ns="+t.yb),i&&(this.Za=this.Za+"&s="+i)}function Rd(e,t){if(e.frames.push(t),e.frames.length==e.Oe){var i=e.frames.join("");e.frames=null,i=ua(i),e.cg(i)}}function Qd(e){clearInterval(e.Cc),e.Cc=setInterval(function(){e.oa&&e.oa.send("0"),Qd(e)},Math.floor(45e3))}function Sd(e){this.cc=e,this.Fd=[],this.Mb=0,this.ge=-1,this.Ab=null}function Td(e,t,i){e.ge=t,e.Ab=i,e.ge<e.Mb&&(e.Ab(),e.Ab=null)}function Ud(e,t,i){for(e.Fd[t]=i;e.Fd[e.Mb];){var n=e.Fd[e.Mb];delete e.Fd[e.Mb];for(var o=0;o<n.length;++o)if(n[o]){var s=e;Fb(function(){s.cc(n[o])})}if(e.Mb===e.ge){e.Ab&&(clearTimeout(e.Ab),e.Ab(),e.Ab=null);break}e.Mb++}}function Vd(){this.set={}}function Wd(e,t){A(e.set,function(e,i){t(i,e)})}function Xd(e,t,i){this.ie=e,this.f=rb(e),this.kb=this.lb=0,this.Qa=Ld(t),this.Kd=i,this.zc=!1,this.bd=function(e){t.host!==t.Ka&&(e.ns=t.yb);var i,n=[];for(i in e)e.hasOwnProperty(i)&&n.push(i+"="+e[i]);return(t.Cb?"https://":"http://")+t.Ka+"/.lp?"+n.join("&")}}function ae(e,i){var n=t(i).length;e.kb+=n,Gd(e.Qa,"bytes_received",n)}function $d(e,t,i,n){if(this.bd=n,this.fb=i,this.Fe=new Vd,this.Qc=[],this.ke=Math.floor(1e8*Math.random()),this.Jd=!0,this.Ud=hb(),window["pLPCommand"+this.Ud]=e,window["pRTLPCB"+this.Ud]=t,e=document.createElement("iframe"),e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||kb("No IE domain setting required")}catch(o){e.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}e.contentDocument?e.$a=e.contentDocument:e.contentWindow?e.$a=e.contentWindow.document:e.document&&(e.$a=e.document),this.va=e,e="",this.va.src&&"javascript:"===this.va.src.substr(0,11)&&(e='<script>document.domain="'+document.domain+'";</script>'),e="<html><body>"+e+"</body></html>";try{this.va.$a.open(),this.va.$a.write(e),this.va.$a.close()}catch(s){kb("frame writing exception"),s.stack&&kb(s.stack),kb(s)}}function ce(e){if(e.Zd&&e.Jd&&e.Fe.count()<(0<e.Qc.length?2:1)){e.ke++;var t={};t.id=e.Xf,t.pw=e.Yf,t.ser=e.ke;for(var t=e.bd(t),i="",n=0;0<e.Qc.length&&1870>=e.Qc[0].We.length+30+i.length;){var o=e.Qc.shift(),i=i+"&seg"+n+"="+o.og+"&ts"+n+"="+o.wg+"&d"+n+"="+o.We;n++}return de(e,t+i,e.ke),!0}return!1}function de(e,t,i){function n(){e.Fe.remove(i),ce(e)}e.Fe.add(i);var o=setTimeout(n,Math.floor(25e3));be(e,t,function(){clearTimeout(o),n()})}function be(e,t,i){setTimeout(function(){try{if(e.Jd){var n=e.va.$a.createElement("script");n.type="text/javascript",n.async=!0,n.src=t,n.onload=n.onreadystatechange=function(){var e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),i())},n.onerror=function(){kb("Long-poll script failed to load: "+t),e.Jd=!1,e.close()},e.va.$a.body.appendChild(n)}}catch(o){}},Math.floor(1))}function ee(e){fe(this,e)}function fe(e,t){var i=Od&&Od.isAvailable(),n=i&&!Aa.ff&&!0!==Aa.get("previous_websocket_failure");if(t.yg&&(i||z("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)e.$c=[Od];else{var o=e.$c=[];Cb(ge,function(e,t){t&&t.isAvailable()&&o.push(t)})}}function he(e){if(0<e.$c.length)return e.$c[0];throw Error("No transports available")}function ie(e,t,i,n,o,s){this.id=e,this.f=rb("c:"+this.id+":"),this.cc=i,this.Kc=n,this.ea=o,this.De=s,this.Q=t,this.Ed=[],this.Se=0,this.xf=new ee(t),this.Pa=0,this.f("Connection created"),je(this)}function je(e){var t=he(e.xf);e.J=new t("c:"+e.id+":"+e.Se++,e.Q),e.He=t.responsesRequiredToBeHealthy||0;var i=ke(e,e.J),n=le(e,e.J);e.ad=e.J,e.Xc=e.J,e.C=null,e.vb=!1,setTimeout(function(){e.J&&e.J.open(i,n)},Math.floor(0)),t=t.healthyTimeout||0,t>0&&(e.rd=setTimeout(function(){e.rd=null,e.vb||(e.J&&102400<e.J.kb?(e.f("Connection exceeded healthy timeout but has received "+e.J.kb+" bytes.  Marking connection healthy."),e.vb=!0,e.J.wd()):e.J&&10240<e.J.lb?e.f("Connection exceeded healthy timeout but has sent "+e.J.lb+" bytes.  Leaving connection alive."):(e.f("Closing unhealthy connection after timeout."),e.close()))},Math.floor(t)))}function le(e,t){return function(i){t===e.J?(e.J=null,i||0!==e.Pa?1===e.Pa&&e.f("Realtime connection lost."):(e.f("Realtime connection failed."),"s-"===e.Q.Ka.substr(0,2)&&(Aa.remove("host:"+e.Q.host),e.Q.Ka=e.Q.host)),e.close()):t===e.C?(e.f("Secondary connection lost."),i=e.C,e.C=null,e.ad!==i&&e.Xc!==i||e.close()):e.f("closing an old connection")}}function ke(e,t){return function(i){if(2!=e.Pa)if(t===e.Xc){var n=zb("t",i);if(i=zb("d",i),"c"==n){if(n=zb("t",i),"d"in i)if(i=i.d,"h"===n){var n=i.ts,o=i.v,s=i.h;e.Kd=i.s,Da(e.Q,s),0==e.Pa&&(e.J.start(),me(e,e.J,n),"5"!==o&&z("Protocol version mismatch detected"),i=e.xf,(i=1<i.$c.length?i.$c[1]:null)&&ne(e,i))}else if("n"===n){for(e.f("recvd end transmission on primary"),e.Xc=e.C,i=0;i<e.Ed.length;++i)e.Bd(e.Ed[i]);e.Ed=[],oe(e)}else"s"===n?(e.f("Connection shutdown command received. Shutting down..."),e.De&&(e.De(i),e.De=null),e.ea=null,e.close()):"r"===n?(e.f("Reset packet received.  New host: "+i),Da(e.Q,i),1===e.Pa?e.close():(pe(e),je(e))):"e"===n?sb("Server Error: "+i):"o"===n?(e.f("got pong on primary."),qe(e),re(e)):sb("Unknown control packet command: "+n)}else"d"==n&&e.Bd(i)}else if(t===e.C)if(n=zb("t",i),i=zb("d",i),"c"==n)"t"in i&&(i=i.t,"a"===i?se(e):"r"===i?(e.f("Got a reset on secondary, closing it"),e.C.close(),e.ad!==e.C&&e.Xc!==e.C||e.close()):"o"===i&&(e.f("got pong on secondary."),e.tf--,se(e)));else{if("d"!=n)throw Error("Unknown protocol layer: "+n);e.Ed.push(i)}else e.f("message on old connection")}}function oe(e){e.ad===e.C&&e.Xc===e.C&&(e.f("cleaning up and promoting a connection: "+e.C.ie),e.J=e.C,e.C=null)}function se(e){0>=e.tf?(e.f("Secondary connection is healthy."),e.vb=!0,e.C.wd(),e.C.start(),e.f("sending client ack on secondary"),e.C.send({t:"c",d:{t:"a",d:{}}}),e.f("Ending transmission on primary"),e.J.send({t:"c",d:{t:"n",d:{}}}),e.ad=e.C,oe(e)):(e.f("sending ping on secondary."),e.C.send({t:"c",d:{t:"p",d:{}}}))
}function qe(e){e.vb||(e.He--,0>=e.He&&(e.f("Primary connection is healthy."),e.vb=!0,e.J.wd()))}function ne(e,t){e.C=new t("c:"+e.id+":"+e.Se++,e.Q,e.Kd),e.tf=t.responsesRequiredToBeHealthy||0,e.C.open(ke(e,e.C),le(e,e.C)),setTimeout(function(){e.C&&(e.f("Timed out trying to upgrade."),e.C.close())},Math.floor(6e4))}function me(e,t,i){e.f("Realtime connection established."),e.J=t,e.Pa=1,e.Kc&&(e.Kc(i),e.Kc=null),0===e.He?(e.f("Primary connection is healthy."),e.vb=!0):setTimeout(function(){re(e)},Math.floor(5e3))}function re(e){e.vb||1!==e.Pa||(e.f("sending ping on primary."),te(e,{t:"c",d:{t:"p",d:{}}}))}function te(e,t){if(1!==e.Pa)throw"Connection is not connected";e.ad.send(t)}function pe(e){e.f("Shutting down all connections"),e.J&&(e.J.close(),e.J=null),e.C&&(e.C.close(),e.C=null),e.rd&&(clearTimeout(e.rd),e.rd=null)}function ue(e){var t={},i={},n={},o="";try{var s=e.split("."),t=ua(jb(s[0])||""),i=ua(jb(s[1])||""),o=s[2],n=i.d||{};delete i.d}catch(r){}return{Bg:t,fe:i,data:n,sg:o}}function ve(e){return e=ue(e).fe,"object"==typeof e&&e.hasOwnProperty("iat")?v(e,"iat"):null}function we(e){e=ue(e);var t=e.fe;return!!e.sg&&!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}function xe(e,t,i,n){this.id=ye++,this.f=rb("p:"+this.id+":"),this.Eb=!0,this.ua={},this.la=[],this.Nc=0,this.Jc=[],this.ia=!1,this.Va=1e3,this.xd=3e5,this.Cd=t,this.Ad=i,this.Ee=n,this.Q=e,this.Ke=null,this.Tc={},this.ng=0,this.Dc=this.ue=null,ze(this,0),vd.Qb().zb("visible",this.fg,this),-1===e.host.indexOf("fblocal")&&wd.Qb().zb("online",this.dg,this)}function Be(e,t,i,n,o){var s=t.Da(),r=t.path.toString();e.f("Listen called for "+r+" "+s),e.ua[r]=e.ua[r]||{},x(!e.ua[r][s],"listen() called twice for same path/queryId."),t={H:o,qd:i,kg:Dc(t),tag:n},e.ua[r][s]=t,e.ia&&Ce(e,r,s,t)}function Ce(e,t,i,n){e.f("Listen on "+t+" for "+i);var o={p:t};n.tag&&(o.q=n.kg,o.t=n.tag),o.h=n.qd(),e.wa("q",o,function(o){if((e.ua[t]&&e.ua[t][i])===n){e.f("listen response",o);var s=o.s;"ok"!==s&&De(e,t,i),o=o.d,n.H&&n.H(s,o)}})}function Ee(e){var t=e.Lb;e.ia&&t&&e.wa("auth",{cred:t.Mf},function(i){var n=i.s;i=i.d||"error","ok"!==n&&e.Lb===t&&delete e.Lb,t.Ye?"ok"!==n&&t.cd&&t.cd(n,i):(t.Ye=!0,t.sc&&t.sc(n,i))})}function Fe(e,t,i,n){e.ia?Ge(e,"o",t,i,n):e.Jc.push({Pc:t,action:"o",data:i,H:n})}function He(e,t,i,n){e.ia?Ge(e,"om",t,i,n):e.Jc.push({Pc:t,action:"om",data:i,H:n})}function Ge(e,t,i,n,o){i={p:i,d:n},e.f("onDisconnect "+t,i),e.wa(t,i,function(e){o&&setTimeout(function(){o(e.s,e.d)},Math.floor(0))})}function Ke(e,t,i,n){Ie(e,"m",t,i,n,void 0)}function Ie(e,t,i,o,s,r){o={p:i,d:o},n(r)&&(o.h=r),e.la.push({action:t,of:o,H:s}),e.Nc++,t=e.la.length-1,e.ia?Le(e,t):e.f("Buffering put: "+i)}function Le(e,t){var i=e.la[t].action,n=e.la[t].of,o=e.la[t].H;e.la[t].lg=e.ia,e.wa(i,n,function(n){e.f(i+" response",n),delete e.la[t],e.Nc--,0===e.Nc&&(e.la=[]),o&&o(n.s,n.d)})}function ze(e,t){x(!e.La,"Scheduling a connect when we're already connected/ing?"),e.Nb&&clearTimeout(e.Nb),e.Nb=setTimeout(function(){e.Nb=null,Oe(e)},Math.floor(t))}function Oe(e){if(e.Eb){e.f("Making a connection attempt"),e.ue=(new Date).getTime(),e.Dc=null;var t=q(e.Bd,e),i=q(e.Kc,e),n=q(e.jf,e),o=e.id+":"+Ae++;e.La=new ie(o,e.Q,t,i,n,function(t){z(t+" ("+e.Q.toString()+")"),e.Eb=!1})}}function Me(e,t,i){i=i?La(i,function(e){return Ab(e)}).join("$"):"default",(e=De(e,t,i))&&e.H&&e.H("permission_denied")}function De(e,t,i){t=new P(t).toString();var n=e.ua[t][i];return delete e.ua[t][i],0===Kb(e.ua[t])&&delete e.ua[t],n}function Ne(e){Ee(e),A(e.ua,function(t,i){A(t,function(t,n){Ce(e,i,n,t)})});for(var t=0;t<e.la.length;t++)e.la[t]&&Le(e,t);for(;e.Jc.length;)t=e.Jc.shift(),Ge(e,t.action,t.Pc,t.data,t.H)}function Pe(){this.j=this.A=null}function Qe(e,t){if(t.e())return e.A=null,e.j=null,!0;if(null!==e.A){if(e.A.P())return!1;var i=e.A;return e.A=null,i.ca(L,function(t,i){e.ic(new P(t),i)}),Qe(e,t)}return null!==e.j?(i=G(t),t=R(t),e.j.contains(i)&&Qe(e.j.get(i),t)&&e.j.remove(i),e.j.e()?(e.j=null,!0):!1):!0}function Re(e,t,i){null!==e.A?i(t,e.A):e.ca(function(e,n){var o=new P(t.toString()+"/"+e);Re(n,o,i)})}function Se(){this.Wc=K}function Te(){this.qb=[]}function Ue(e,t){for(var i=null,n=0;n<t.length;n++){var o=t[n],s=o.Rb();null===i||s.ja(i.Rb())||(e.qb.push(i),i=null),null===i&&(i=new Ve(s)),i.add(o)}i&&e.qb.push(i)}function Cc(e,t,i){Ue(e,i),We(e,function(e){return e.ja(t)})}function Xe(e,t,i){Ue(e,i),We(e,function(e){return e.contains(t)||t.contains(e)})}function We(e,t){for(var i=!0,n=0;n<e.qb.length;n++){var o=e.qb[n];if(o)if(o=o.Rb(),t(o)){for(var o=e.qb[n],s=0;s<o.od.length;s++){var r=o.od[s];if(null!==r){o.od[s]=null;var a=r.Pb();ob&&kb("event: "+r.toString()),Fb(a)}}e.qb[n]=null}else i=!1}i&&(e.qb=[])}function Ve(e){this.Ca=e,this.od=[]}function Ze(e,t,i){this.ed=e||{},this.Sd=t||{},this.lc=i||{},this.ed.remember||(this.ed.remember="default")}function af(e){var t={},i={};return va(e||{},function(e,n){0<=Ia($e,e)?t[e]=n:i[e]=n}),new Ze(t,{},i)}function V(e){var t=Error(v(bf,e),e);return t.code=e,t}function cf(){var e,t=window.opener.frames;for(e=t.length-1;e>=0;e--)try{if(t[e].location.protocol===window.location.protocol&&t[e].location.host===window.location.host&&"__winchan_relay_frame"===t[e].name)return t[e]}catch(i){}return null}function df(e,t,i){e.attachEvent?e.attachEvent("on"+t,i):e.addEventListener&&e.addEventListener(t,i,!1)}function ef(e,t,i){e.detachEvent?e.detachEvent("on"+t,i):e.removeEventListener&&e.removeEventListener(t,i,!1)}function ff(e){/^https?:\/\//.test(e)||(e=window.location.href);var t=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(e);return t?t[1]:e}function gf(e){var t="";try{e=e.replace("#","");var i={},n=e.replace(/^\?/,"").split("&");for(e=0;e<n.length;e++)if(n[e]){var o=n[e].split("=");i[o[0]]=o[1]}i&&u(i,"__firebase_request_key")&&(t=v(i,"__firebase_request_key"))}catch(s){}return t}function hf(e){var t,i=[];for(t in e)if(u(e,t)){var n=v(e,t);if(ea(n))for(var o=0;o<n.length;o++)i.push(encodeURIComponent(t)+"="+encodeURIComponent(n[o]));else i.push(encodeURIComponent(t)+"="+encodeURIComponent(v(e,t)))}return i.join("&")}function jf(){var e=ub(Ye);return e.scheme+"://"+e.host+"/v2"}function kf(){return!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(navigator.userAgent)}function lf(){var e=navigator.userAgent;if("Microsoft Internet Explorer"===navigator.appName){if((e=e.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/))&&1<e.length)return 8<=parseFloat(e[1])}else if(-1<e.indexOf("Trident")&&(e=e.match(/rv:([0-9]{2,2}[\.0-9]{0,})/))&&1<e.length)return 8<=parseFloat(e[1]);return!1}function mf(e){e=e||{},e.method||(e.method="GET"),e.headers||(e.headers={}),e.headers.content_type||(e.headers.content_type="application/json"),e.headers.content_type=e.headers.content_type.toLowerCase(),this.options=e}function nf(e){e=e||{},this.Uc=Ha()+Ha()+Ha(),this.kf=e||{}}function of(e){e=e||{},(!e.window_features||-1!==navigator.userAgent.indexOf("Fennec/")||-1!==navigator.userAgent.indexOf("Firefox/")&&-1!==navigator.userAgent.indexOf("Android"))&&(e.window_features=void 0),e.window_name||(e.window_name="_blank"),e.relay_url||(e.relay_url=jf()+"/auth/channel"),this.options=e}function pf(e){e=e||{},e.callback_parameter||(e.callback_parameter="callback"),this.options=e,window.__firebase_auth_jsonp=window.__firebase_auth_jsonp||{}}function qf(e,t,i){setTimeout(function(){try{var n=document.createElement("script");n.type="text/javascript",n.id=e,n.async=!0,n.src=t,n.onerror=function(){var t=document.getElementById(e);null!==t&&t.parentNode.removeChild(t),i&&i(V("NETWORK_ERROR"))};var o=document.getElementsByTagName("head");(o&&0!=o.length?o[0]:document.documentElement).appendChild(n)}catch(s){i&&i(V("NETWORK_ERROR"))}},0)}function rf(e,t){this.Ge=["session",e.Gd,e.yb].join(":"),this.Pd=t}function sf(e){e=e||{},this.Uc=Ha()+Ha()+Ha(),this.kf=e||{}}function tf(e,t,i,n){td.call(this,["auth_status"]),this.Q=e,this.Re=t,this.xg=i,this.Be=n,this.mc=new rf(e,[Aa,Ba]),this.jb=null,uf(this)}function uf(e){Ba.get("redirect_request_id")&&vf(e);var t=e.mc.get();t&&t.token?(wf(e,t),e.Re(t.token,function(i,n){xf(e,i,n,!1,t.token,t)},function(t,i){yf(e,"resumeSession()",t,i)})):wf(e,null)}function zf(e,t,i,n,o,s){"firebaseio-demo.com"===e.Q.domain&&z("Firebase authentication is not supported on demo Firebases (*.firebaseio-demo.com). To secure your Firebase, create a production Firebase at https://www.firebase.com."),e.Re(t,function(s,r){xf(e,s,r,!0,t,i,n||{},o)},function(t,i){yf(e,"auth()",t,i,s)})}function Af(e,t){e.mc.clear(),wf(e,null),e.xg(function(e,i){if("ok"===e)B(t,null);else{var n=(e||"error").toUpperCase(),o=n;i&&(o+=": "+i),o=Error(o),o.code=n,B(t,o)}})}function xf(e,t,i,n,o,s,r,a){"ok"===t?(n&&(t=i.auth,s.auth=t,s.expires=i.expires,s.token=we(o)?o:"",i=null,t&&u(t,"uid")?i=v(t,"uid"):u(s,"uid")&&(i=v(s,"uid")),s.uid=i,i="custom",t&&u(t,"provider")?i=v(t,"provider"):u(s,"provider")&&(i=v(s,"provider")),s.provider=i,e.mc.clear(),we(o)&&(r=r||{},i=Aa,"sessionOnly"===r.remember&&(i=Ba),"none"!==r.remember&&e.mc.set(s,i)),wf(e,s)),B(a,null,s)):(e.mc.clear(),wf(e,null),s=e=(t||"error").toUpperCase(),i&&(s+=": "+i),s=Error(s),s.code=e,B(a,s))}function yf(e,t,i,n,o){z(t+" was canceled: "+n),e.mc.clear(),wf(e,null),e=Error(n),e.code=i.toUpperCase(),B(o,e)}function Bf(e,t,i,n,o){Cf(e);var s=[mf,pf];i=new Ze(n||{},{},i||{}),Df(e,s,"/auth/"+t,i,o)}function Ef(e,t,i,n){Cf(e);var o=[of,nf];i=af(i),"anonymous"===t||"password"===t?setTimeout(function(){B(n,V("TRANSPORT_UNAVAILABLE"))},0):(i.Sd.window_features="menubar=yes,modal=yes,alwaysRaised=yeslocation=yes,resizable=yes,scrollbars=yes,status=yes,height=625,width=625,top="+("object"==typeof screen?.5*(screen.height-625):0)+",left="+("object"==typeof screen?.5*(screen.width-625):0),i.Sd.relay_url=jf()+"/"+e.Q.yb+"/auth/channel",i.Sd.requestWithCredential=q(e.Vc,e),Df(e,o,"/auth/"+t,i,n))}function vf(e){var t=Ba.get("redirect_request_id");if(t){var i=Ba.get("redirect_client_options");Ba.remove("redirect_request_id"),Ba.remove("redirect_client_options");var n=[mf,pf],t={requestId:t,requestKey:gf(document.location.hash)},i=new Ze(i,{},t);try{document.location.hash=document.location.hash.replace(/&__firebase_request_key=([a-zA-z0-9]*)/,"")}catch(o){}Df(e,n,"/auth/session",i)}}function Df(e,t,i,n,o){Ff(e,t,i,n,function(t,i){!t&&i&&i.token&&i.uid?zf(e,i.token,i,n.ed,function(e,t){e?B(o,e):B(o,null,t)}):B(o,t||V("UNKNOWN_ERROR"))})}function Ff(e,t,i,n,o){t=Ka(t,function(e){return"function"==typeof e.isAvailable&&e.isAvailable()}),0===t.length?setTimeout(function(){B(o,V("TRANSPORT_UNAVAILABLE"))},0):(t=new(t.shift())(n.Sd),n=wa(n.lc),n.v="js-2.0.6",n.transport=t.uc(),n.suppress_status_codes=!0,e=jf()+"/"+e.Q.yb+i,t.open(e,n,function(e,t){if(e)B(o,e);else if(t&&t.error){var i=Error(t.error.message);i.code=t.error.code,i.details=t.error.details,B(o,i)}else B(o,null,t)}))}function wf(e,t){var i=null!==e.jb||null!==t;e.jb=t,i&&e.Td("auth_status",t),e.Be(null!==t)}function Cf(e){var t=e.Q;if("firebaseio.com"!==t.domain&&"firebaseio-demo.com"!==t.domain&&"auth.firebase.com"===Ye)throw Error("This custom Firebase server ('"+e.Q.domain+"') does not support delegated login.")}function Gf(e,t){return e&&"object"==typeof e?(x(".sv"in e,"Unexpected leaf node or priority contents"),t[e[".sv"]]):e}function Hf(e,t){var i=new Pe;return Re(e,new P(""),function(e,n){i.ic(e,If(n,t))}),i}function If(e,t){var i,n=e.O().N(),n=Gf(n,t);if(e.P()){var o=Gf(e.ta(),t);return o!==e.ta()||n!==e.O().N()?new Zc(o,J(n)):e}return i=e,n!==e.O().N()&&(i=i.ib(new Zc(n))),e.ca(L,function(e,n){var o=If(n,t);o!==n&&(i=i.I(e,o))}),i}function W(e,t,i,n){this.type=e,this.Wa=t,this.nb=i,this.Rc=null,this.$f=n}function Jf(){}function Lf(e,t,i,n){var o,s;return s=X(i),o=X(t),n.e()?i.u?(e=[],o?o.ja(s)||(o.P()?e=Mf(s):s.P()?(e=[],o.P()||o.e()||e.push(new W("children_removed",o))):e=Nf(o,s),e.push(new W("value",s))):(e=Mf(s),e.push(new W("value",s))),0!==e.length||t.u||e.push(new W("value",s)),e):o?Nf(o,s):Mf(s):".priority"===G(n)?!i.u||o&&o.ja(s)?[]:[new W("value",s)]:i.u||1===Q(n)?(o=G(n),s=s.B(o),e.kd(t,i,o,s)):(o=G(n),s.Y(o)?(s=s.B(o),e.kd(t,i,o,s)):[])}function Mf(e){var t=[];return e.P()||e.e()||t.push(new W("children_added",e)),t}function Nf(e,t){var i,o,s,r,a=[],l=[],u=[],c=[],h={},d={};i=e.Aa(L),s=U(i),o=t.Aa(L),r=U(o);for(var p=H(L);null!==s||null!==r;){var f;f=s?r?p(s,r):-1:1,0>f?(f=v(h,s.name),n(f)?(c.push(l[f]),l[f]=null):(d[s.name]=u.length,u.push(s)),s=U(i)):(f>0?(f=v(d,r.name),n(f)?(c.push(r),u[f]=null):(h[r.name]=l.length,l.push(r))):((s=s.K.hash()!==r.K.hash())&&c.push(r),s=U(i)),r=U(o))}for(h=0;h<u.length;h++)(d=u[h])&&a.push(new W("child_removed",d.K,d.name));for(h=0;h<l.length;h++)(u=l[h])&&a.push(new W("child_added",u.K,u.name));for(h=0;h<c.length;h++)l=c[h],a.push(new W("child_changed",l.K,l.name,e.B(l.name)));return a}function Of(e,t,i){this.bb=e,this.Ma=i,this.m=t}function Pf(){}function Tf(e,t){Wf(e,t.F),Wf(e,t.o),Wf(e,t.u),Wf(e,t.X)}function Wf(e,t){x(!t||e.Yb(t),"Expected an indexed snap")}function Yf(e,t){var i=X(e),n=e.ab();return!!(i&&i.Y(t)||n&&n.Y(t))}function Zf(e){this.gb=e,this.index=e.m,this.gb.ga&&n(pc(this.gb))?(e=qc(this.gb),e=this.index.ye(pc(this.gb),e)):e=this.index.Ae(),this.Fb=e,this.gb.na&&n(rc(this.gb))?(e=sc(this.gb),e=this.index.ye(rc(this.gb),e)):e=this.index.ze(),this.pb=e}function $f(e){Zf.call(this,e),this.Ma=""===e.Hb?!e.ga:"l"!==e.Hb,this.bb=tc(e)}function ag(e,t,i,n,o,s){var r,a=H(e.index);r=e.Ma?function(e,t){return-1*a(e,t)}:a,t=X(t),x(t.Ua()===e.bb,"Limit should be full.");var l=new I(i,n),u=e.Ma?ld(t,e.index):md(t,e.index);x(null!=u,"Shouldn't be null, since oldEventCache shouldn't be empty.");var c=0>=H(e.index)(e.Fb,l)&&0>=H(e.index)(l,e.pb);return t.Y(i)?(s=o.de(s,u,1,e.Ma,e.index),o=null,0<s.length&&(o=s[0],o.name===i&&(o=2<=s.length?s[1]:null)),r=null==o?1:r(o,l),c&&!n.e()&&r>=0?t.I(i,n):(i=t.I(i,K),null!=o&&0>=H(e.index)(e.Fb,o)&&0>=H(e.index)(o,e.pb)?i.I(o.name,o.K):i)):n.e()?null:c?0<=r(u,l)?t.I(i,n).I(u.name,K):null:null}function bg(e){this.m=e}function cg(e){this.U=e,this.m=e.w.m}function dg(e,t,i,n){var o=[],s=e.m,r=La(Ka(t,function(e){return"child_changed"===e.type&&s.df(e.$f,e.Wa)}),function(e){return new W("child_moved",e.Wa,e.nb)}),a=Pa(t,function(e){return"child_removed"!==e.type&&"child_added"!==e.type});for(la(Ra,t,a,0).apply(null,r);0<t.length;){var r=t[0].type,a=eg(t,r),l=t.slice(0,a);t=t.slice(a),"value"===r||"children_added"===r||"children_removed"===r?x(1===l.length,"We should not have more than one of these at a view"):Ta(l,q(e.Lf,e)),o=o.concat(fg(e,n,l,i))}return o}function eg(e,t){var i=Pa(e,function(e){return e.type!==t});return-1===i?e.length:i}function fg(e,t,i,n){for(var o=[],s=0;s<i.length;++s)for(var r=i[s],a=null,l=null,u=0;u<t.length;++u){var c=t[u];if(c.pf(r.type)){if(!a&&!l)if("children_added"===r.type){var h=e,d=r.Wa,l=[];if(!d.P()&&!d.e())for(var h=d.Aa(h.m),d=null,p=U(h);p;){var f=new W("child_added",p.K,p.name);f.Rc=d,l.push(f),d=p.name,p=U(h)}}else if("children_removed"===r.type){if(h=e,d=r.Wa,l=[],!d.P()&&!d.e())for(h=d.Aa(h.m),d=U(h);d;)l.push(new W("child_removed",d.K,d.name)),d=U(h)}else a=r,"value"!==a.type&&"child_removed"!==a.type&&(a.Rc=n.af(a.nb,a.Wa,e.m));if(a)o.push(c.createEvent(a,e.U));else for(h=0;h<l.length;++h)o.push(c.createEvent(l[h],e.U))}}return o}function gg(e,t){this.U=e;var i=e.w;wc(i)?(this.ec=new bg(i.m),this.ld=Kf):i.ka?(this.ec=new $f(i),this.ld=new Of(tc(i),i.m,this.ec.Ma)):(this.ec=new Zf(i),this.ld=Kf),i=this.ec,this.ha=new Uf(t.F&&i.G(t.F,!1),t.o&&i.G(t.o,!1),t.u&&i.G(t.u),t.X&&i.G(t.X)),this.ya=[],this.le=new cg(e)}function hg(e){return e.U}function Uf(e,t,i,n){this.F=e,this.o=t,this.u=i,this.X=n,x(null==e||null==t,"Only one of serverSnap / serverChildren can be non-null."),x(null==i||null==n,"Only one of eventSnap / eventChildren can be non-null.")}function X(e){return e.u||e.X}function jg(e,t){this.value=e,this.children=t||kg}function mg(e){var t=lg;return A(e,function(e,i){t=t.set(new P(i),e)}),t}function ng(e,t,i){if(null!=e.value&&i(e.value))return{path:S,value:e.value};if(t.e())return null;var n=G(t);return e=e.children.get(n),null!==e?(t=ng(e,R(t),i),null!=t?{path:new P(n).k(t.path),value:t.value}:null):null}function og(e,t){return ng(e,t,function(){return!0})}function pg(e,t,i){if(t.e())return i;var n=G(t);return t=pg(e.children.get(n)||lg,R(t),i),n=t.e()?e.children.remove(n):e.children.Ja(n,t),new jg(e.value,n)}function qg(e,t){return rg(e,S,t)}function rg(e,t,i){var n={};return e.children.Ba(function(e,o){n[e]=rg(o,t.k(e),i)}),i(t,e.value,n)}function sg(e,t,i){return tg(e,t,S,i)}function tg(e,t,i,n){var o=e.value?n(i,e.value):!1;return o?o:t.e()?null:(o=G(t),(e=e.children.get(o))?tg(e,R(t),i.k(o),n):null)}function ug(e,t,i){if(!t.e()){var n=!0;e.value&&(n=i(S,e.value)),!0===n&&(n=G(t),(e=e.children.get(n))&&vg(e,R(t),S.k(n),i))}}function vg(e,t,i,n){if(t.e())return e;e.value&&n(i,e.value);var o=G(t);return(e=e.children.get(o))?vg(e,R(t),i.k(o),n):lg}function Xf(e,t){wg(e,S,t)}function wg(e,t,i){e.children.Ba(function(e,n){wg(n,t.k(e),i)}),e.value&&i(t,e.value)}function xg(e,t){e.children.Ba(function(e,i){i.value&&t(e,i.value)})}function yg(){this.qa={}}function Ag(e){return Ka(xd(e.qa),function(e){return!wc(e.U.w)})}function Bg(e,t){if(wc(t.w))return zg(e);var i=t.Da();return v(e.qa,i)}function zg(e){return Ad(e.qa,function(e){return wc(e.U.w)})||null}function Cg(){this.V=lg,this.ra=[],this.Ec=-1}function Dg(e,t){var i=Pa(e.ra,function(e){return e.Xd===t});x(i>=0,"removeWrite called with nonexistent writeId.");var n=e.ra[i];e.ra.splice(i,1);for(var o=!1,s=!1,r=!1,a=e.ra.length-1;!o&&a>=0;){var l=e.ra[a];a>=i&&Eg(l,n.path)?o=!0:!s&&n.path.contains(l.path)&&(a>=i?s=!0:r=!0),a--}return o||(s||r?Fg(e):n.Oa?e.V=e.V.remove(n.path):A(n.children,function(t,i){e.V=e.V.remove(n.path.k(i))})),i=n.path,og(e.V,i)?r?i:(x(o,"Must have found a shadow"),null):i}function Eg(e,t){return e.Oa?e.path.contains(t):!!zd(e.children,function(i,n){return e.path.k(n).contains(t)})}function Fg(e){e.V=Gg(e.ra,Hg,S),e.Ec=0<e.ra.length?e.ra[e.ra.length-1].Xd:-1}function Hg(e){return e.visible}function Gg(e,t,i){for(var n=lg,o=0;o<e.length;++o){var s=e[o];if(t(s)){var r,a=s.path;s.Oa?(i.contains(a)?(r=T(i,a),s=s.Oa):(r=S,s=s.Oa.da(T(a,i))),n=Ig(n,r,s)):n=Jg(n,s.path,s.children)}}return n}function Ig(e,t,i){var n=og(e,t);if(n){var o=n.value,n=n.path;t=T(n,t),i=o.L(t,i),e=pg(e,n,new jg(i))}else e=pg(e,t,new jg(i));return e}function Jg(e,t,i){var n=og(e,t);if(n){var o=n.value,n=n.path,s=T(n,t),r=o;A(i,function(e,t){r=r.L(s.k(t),e)}),e=pg(e,n,new jg(r))}else A(i,function(i,n){e=pg(e,t.k(n),new jg(i))});return e}function Kg(e,t){this.Gb=e,this.Ib=t}function Lg(e,t,i){this.type=Qf,this.source=e,this.path=t,this.Oa=i}function Mg(e,t){this.type=Sf,this.source=Ng,this.path=e,this.sf=t}function Og(e,t){this.type=Vf,this.source=e,this.path=t}function Pg(e,t,i){this.type=Rf,this.source=e,this.path=t,this.children=i}function Qg(e,t,i,n){this.$e=e,this.Ze=t,this.fc=i,this.wf=n,x(!n||t,"Tagged queries must be from server.")}function Sg(e){this.ma=lg,this.Bb=new Cg,this.Zc={},this.gc={},this.Fc=e}function Ug(e,t,i,n){if(n=Cd(e.Zc,"_"+n),null!=n){var o=Vg(n);return n=o.path,o=o.fc,t=T(n,t),i=new Lg(new Qg(!1,!0,o,!0),t,i),Wg(e,n,i)}return[]}function Xg(e,t,i,n){if(n=Cd(e.Zc,"_"+n)){var o=Vg(n);return n=o.path,o=o.fc,t=T(n,t),i=mg(i),i=new Pg(new Qg(!1,!0,o,!0),t,i),Wg(e,n,i)}return[]}function ah(e){return qg(e,function(e,t,i){if(t&&null!=zg(t))return[zg(t)];var n=[];return t&&(n=Ag(t)),A(i,function(e){n=n.concat(e)}),n})}function dh(e,t){for(var i=0;i<t.length;++i){var n=t[i];if(!wc(n.w)){var n=Yg(n),o=e.gc[n];delete e.gc[n],delete e.Zc["_"+o]}}}function $g(e,t,i){var n=t.path,o=ch(e,t);if(i=bh(e,i),t=e.Fc.Le(t,o,i.qd,i.H),n=e.ma.subtree(n),o)x(null==zg(n.value),"If we're adding a query, it shouldn't be shadowed");else for(o=qg(n,function(e,t,i){if(!e.e()&&t&&null!=zg(t))return[hg(zg(t))];var n=[];return t&&(n=n.concat(La(Ag(t),function(e){return e.U}))),A(i,function(e){n=n.concat(e)}),n}),n=0;n<o.length;++n)i=o[n],e.Fc.Od(i,ch(e,i));return t}function bh(e,t){var i=t.U,n=ch(e,i);return{qd:function(){return(t.ab()||K).hash()},H:function(t,o){if("ok"===t){if(o&&"object"==typeof o&&u(o,"w")){var s=v(o,"w");ea(s)&&0<=Ia(s,"no_index")&&z("Using an unspecified index. Consider adding "+('".indexOn": "'+i.w.m.toString()+'"')+" at "+i.path.toString()+" to your security rules for better performance")}if(n){var r=i.path;if(s=Cd(e.Zc,"_"+n))var a=Vg(s),s=a.path,a=a.fc,r=T(s,r),r=new Og(new Qg(!1,!0,a,!0),r),s=Wg(e,s,r);else s=[]}else s=Tg(e,new Og(Rg,i.path));return s}return s="Unknown Error","too_big"===t?s="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==t?s="Client doesn't have permission to access the desired data.":"unavailable"==t&&(s="The service is unavailable"),s=Error(t+": "+s),s.code=t.toUpperCase(),e.hb(i,null,s)}}}function Yg(e){return e.path.toString()+"$"+e.Da()}function Vg(e){var t=e.indexOf("$");return x(-1!==t&&t<e.length-1,"Bad queryKey."),{fc:e.substr(t+1),path:new P(e.substr(0,t))}}function ch(e,t){var i=Yg(t);return v(e.gc,i)}function Wg(e,t,i){var n=e.ma.get(t);return x(n,"Missing sync point for query tag that we're tracking"),n.Xa(i,new Kg(t,e.Bb),null)}function Tg(e,t){return eh(e,t,e.ma,null,new Kg(S,e.Bb))}function eh(e,t,i,n,o){if(t.path.e())return fh(e,t,i,n,o);var s=i.get(S);null==n&&null!=s&&(n=s.za(S));var r=[],a=G(t.path),l=t.Mc(a);if((i=i.children.get(a))&&l)var u=n?n.B(a):null,a=o.k(a),r=r.concat(eh(e,l,i,u,a));return s&&(r=r.concat(s.Xa(t,o,n))),r}function fh(e,t,i,n,o){var s=i.get(S);null==n&&null!=s&&(n=s.za(S));var r=[];return i.children.Ba(function(i,s){var a=n?n.B(i):null,l=o.k(i),u=t.Mc(i);u&&(r=r.concat(fh(e,u,s,a,l)))}),s&&(r=r.concat(s.Xa(t,o,n))),r}function gh(e){this.Q=e,this.Qa=Ld(e),this.Z=new Te,this.zd=1,this.S=new xe(this.Q,q(this.Cd,this),q(this.Ad,this),q(this.Ee,this)),this.ug=Md(e,q(function(){return new Id(this.Qa,this.S)},this)),this.pc=new Fc,this.qe=new Se;var t=this;this.ud=new Sg({Le:function(e,i,n,o){return i=[],n=t.qe.Wc.da(e.path),n.e()||(i=t.ud.Sa(e.path,n),setTimeout(function(){o("ok")},0)),i},Od:ba}),hh(this,"connected",!1),this.ea=new Pe,this.T=new tf(e,q(this.S.T,this.S),q(this.S.Pe,this.S),q(this.Be,this)),this.jd=0,this.re=null,this.M=new Sg({Le:function(e,i,n,o){return Be(t.S,e,n,i,function(i,n){var s=o(i,n);Xe(t.Z,e.path,s)}),[]},Od:function(e,i){var n=t.S,o=e.path.toString(),s=e.Da();if(n.f("Unlisten called for "+o+" "+s),De(n,o,s)&&n.ia){var r=Dc(e);n.f("Unlisten on "+o+" for "+s),o={p:o},i&&(o.q=r,o.t=i),n.wa("n",o)}}})}function ih(e){var t=new P(".info/serverTimeOffset");return e=e.qe.Wc.da(t).N()||0,(new Date).getTime()+e}function jh(e){return e=e={timestamp:ih(e)},e.timestamp=e.timestamp||(new Date).getTime(),e}function hh(e,t,i){t=new P("/.info/"+t),i=J(i);var n=e.qe;n.Wc=n.Wc.L(t,i),i=e.ud.Sa(t,i),Xe(e.Z,t,i)}function lh(e){e.f("onDisconnectEvents");var t=jh(e),i=[];Re(Hf(e.ea,t),S,function(t,n){i=i.concat(e.M.Sa(t,n));var o=nh(e,t);kh(e,o)}),e.ea=new Pe,Xe(e.Z,S,i)}function oh(e,t,i,n){var o=J(i);Fe(e.S,t.toString(),o.N(!0),function(i,s){"ok"===i&&e.ea.ic(t,o),mh(n,i,s)})}function ph(e,t,i,n,o){var s=J(i,n);Fe(e.S,t.toString(),s.N(!0),function(i,n){"ok"===i&&e.ea.ic(t,s),mh(o,i,n)})}function qh(e,t,i,n){var o,s=!0;for(o in i)s=!1;s?(kb("onDisconnect().update() called with empty data.  Don't do anything."),mh(n,"ok")):He(e.S,t.toString(),i,function(o,s){if("ok"===o)for(var r in i){var a=J(i[r]);e.ea.ic(t.k(r),a)}mh(n,o,s)})}function Bc(e,t,i){i=".info"===G(t.path)?e.ud.Jb(t,i):e.M.Jb(t,i),Cc(e.Z,t.path,i)}function mh(e,t,i){e&&Fb(function(){if("ok"==t)e(null);else{var n=(t||"error").toUpperCase(),o=n;i&&(o+=": "+i),o=Error(o),o.code=n,e(o)}})}function rh(e,t,i,o,s){function r(){}e.f("transaction on "+t);var a=new O(e,t);if(a.zb("value",r),i={path:t,update:i,H:o,status:null,lf:hb(),Qe:s,rf:0,Vd:function(){a.bc("value",r)},Yd:null,sa:null,fd:null,gd:null,hd:null},o=e.M.xa(t,void 0)||K,i.fd=o,o=i.update(o.N()),n(o)){Tb("transaction failed: Data returned ",o),i.status=1,s=Gc(e.pc,t);var l=s.ta()||[];l.push(i),Hc(s,l),"object"==typeof o&&null!==o&&u(o,".priority")?(l=v(o,".priority"),x(Rb(l),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):l=(e.M.xa(t)||K).O().N(),s=jh(e),o=J(o,l),s=If(o,s),i.gd=o,i.hd=s,i.sa=e.zd++,i=e.M.Fa(t,s,i.sa,i.Qe),Xe(e.Z,t,i),sh(e)}else i.Vd(),i.gd=null,i.hd=null,i.H&&(e=new C(i.fd,new O(e,i.path),L),i.H(null,!1,e))}function sh(e,t){var i=t||e.pc;if(t||th(e,i),null!==i.ta()){var n=uh(e,i);x(0<n.length,"Sending zero length transaction queue"),Na(n,function(e){return 1===e.status})&&vh(e,i.path(),n)}else i.pd()&&i.ca(function(t){sh(e,t)})}function vh(e,t,i){for(var n=La(i,function(e){return e.sa}),o=e.M.xa(t,n)||K,n=o,o=o.hash(),s=0;s<i.length;s++){var r=i[s];x(1===r.status,"tryToSendTransactionQueue_: items in queue should all be run."),r.status=2,r.rf++;var a=T(t,r.path),n=n.L(a,r.gd)}n=n.N(!0),e.S.put(t.toString(),n,function(n){e.f("transaction put response",{path:t.toString(),status:n});var o=[];if("ok"===n){for(n=[],s=0;s<i.length;s++){if(i[s].status=3,o=o.concat(e.M.Ea(i[s].sa)),i[s].H){var r=i[s].hd,a=new O(e,i[s].path);n.push(q(i[s].H,null,null,!0,new C(r,a,L)))}i[s].Vd()}for(th(e,Gc(e.pc,t)),sh(e),Xe(e.Z,t,o),s=0;s<n.length;s++)Fb(n[s])}else{if("datastale"===n)for(s=0;s<i.length;s++)i[s].status=4===i[s].status?5:1;else for(z("transaction at "+t.toString()+" failed: "+n),s=0;s<i.length;s++)i[s].status=5,i[s].Yd=n;kh(e,t)}},o)}function kh(e,t){var i=wh(e,t),n=i.path(),i=uh(e,i);return xh(e,i,n),n}function xh(e,t,i){if(0!==t.length){for(var o=[],s=[],r=La(t,function(e){return e.sa}),a=0;a<t.length;a++){var l,c=t[a],h=T(i,c.path),d=!1;if(x(null!==h,"rerunTransactionsUnderNode_: relativePath should not be null."),5===c.status)d=!0,l=c.Yd,s=s.concat(e.M.Ea(c.sa,!0));else if(1===c.status)if(25<=c.rf)d=!0,l="maxretry",s=s.concat(e.M.Ea(c.sa,!0));else{var p=e.M.xa(c.path,r)||K;c.fd=p;var f=t[a].update(p.N());n(f)?(Tb("transaction failed: Data returned ",f),h=J(f),"object"==typeof f&&null!=f&&u(f,".priority")||(h=h.ib(p.O())),p=c.sa,f=jh(e),f=If(h,f),c.gd=h,c.hd=f,c.sa=e.zd++,Qa(r,p),s=s.concat(e.M.Fa(c.path,f,c.sa,c.Qe)),s=s.concat(e.M.Ea(p,!0))):(d=!0,l="nodata",s=s.concat(e.M.Ea(c.sa,!0)))}Xe(e.Z,i,s),s=[],d&&(t[a].status=3,setTimeout(t[a].Vd,Math.floor(0)),t[a].H&&("nodata"===l?(c=new O(e,t[a].path),o.push(q(t[a].H,null,null,!1,new C(t[a].fd,c,L)))):o.push(q(t[a].H,null,Error(l),!1,null))))}for(th(e,e.pc),a=0;a<o.length;a++)Fb(o[a]);sh(e)}}function wh(e,t){for(var i,n=e.pc;null!==(i=G(t))&&null===n.ta();)n=Gc(n,i),t=R(t);return n}function uh(e,t){var i=[];return yh(e,t,i),i.sort(function(e,t){return e.lf-t.lf}),i}function yh(e,t,i){var n=t.ta();if(null!==n)for(var o=0;o<n.length;o++)i.push(n[o]);t.ca(function(t){yh(e,t,i)})}function th(e,t){var i=t.ta();if(i){for(var n=0,o=0;o<i.length;o++)3!==i[o].status&&(i[n]=i[o],n++);i.length=n,Hc(t,0<i.length?i:null)}t.ca(function(t){th(e,t)})}function nh(e,t){var i=wh(e,t).path(),n=Gc(e.pc,t);return Kc(n,function(t){zh(e,t)}),zh(e,n),Jc(n,function(t){zh(e,t)}),i}function zh(e,t){var i=t.ta();if(null!==i){for(var n=[],o=[],s=-1,r=0;r<i.length;r++)4!==i[r].status&&(2===i[r].status?(x(s===r-1,"All SENT items should be at beginning of queue."),s=r,i[r].status=4,i[r].Yd="set"):(x(1===i[r].status,"Unexpected transaction status in abort"),i[r].Vd(),o=o.concat(e.M.Ea(i[r].sa,!0)),i[r].H&&n.push(q(i[r].H,null,Error("set"),!1,null))));for(-1===s?Hc(t,null):i.length=s+1,Xe(e.Z,t.path(),o),r=0;r<n.length;r++)Fb(n[r])}}function Ah(){this.jc={}}function Bh(e){var t=this;if(this.tc=e,this.Qd="*",lf()?this.Hc=this.sd=cf():(this.Hc=window.opener,this.sd=window),!t.Hc)throw"Unable to find relay frame";df(this.sd,"message",q(this.cc,this)),df(this.sd,"message",q(this.hf,this));try{Ch(this,{a:"ready"})}catch(i){df(this.Hc,"load",function(){Ch(t,{a:"ready"})})}df(window,"unload",q(this.eg,this))}function Ch(e,i){i=t(i),lf()?e.Hc.doPost(i,e.Qd):e.Hc.postMessage(i,e.Qd)}function Z(e,t){this.Sc=e,this.Ca=t}function O(e,t){var i,n,o;if(e instanceof gh)i=e,n=t;else{D("new Firebase",1,2,arguments.length),n=ub(arguments[0]),i=n.vg,"firebase"===n.domain&&tb(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),i||tb("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.Cb||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&z("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),i=new Ca(n.host,n.Cb,i,"ws"===n.scheme||"wss"===n.scheme),n=new P(n.Pc),o=n.toString();var s;if(!(s=!p(i.host)||0===i.host.length||!Qb(i.yb))&&(s=0!==o.length)&&(o&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),s=!p(o)||0===o.length||!!Pb.test(o)),s)throw Error(E("new Firebase",1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".');if(t)if(t instanceof Ah)o=t;else{if(!p(t))throw Error("Expected a valid Firebase.Context for second argument to new Firebase()");o=Ah.Qb(),i.Gd=t}else o=Ah.Qb();s=i.toString();var r=v(o.jc,s);r||(r=new gh(i),o.jc[s]=r),i=r}M.call(this,i,n,oc,!1)}function qb(e,t){x(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?("undefined"!=typeof console&&("function"==typeof console.log?ob=q(console.log,console):"object"==typeof console.log&&(ob=function(){})),t&&Ba.set("logging_enabled",!0)):e?ob=e:(ob=null,Ba.remove("logging_enabled"))}var h,aa=this,ma=Date.now||function(){return+new Date},sa={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\u000b"},ta=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;h=xa.prototype,h.set=function(e,i){null==i?this.xc.removeItem(this.Hd+e):this.xc.setItem(this.Hd+e,t(i))},h.get=function(e){return e=this.xc.getItem(this.Hd+e),null==e?null:ua(e)},h.remove=function(e){this.xc.removeItem(this.Hd+e)},h.ff=!1,h.toString=function(){return this.xc.toString()},ya.prototype.set=function(e,t){null==t?delete this.ha[e]:this.ha[e]=t},ya.prototype.get=function(e){return u(this.ha,e)?this.ha[e]:null},ya.prototype.remove=function(e){delete this.ha[e]},ya.prototype.ff=!0;var Aa=za("localStorage"),Ba=za("sessionStorage");Ca.prototype.toString=function(){var e=(this.Cb?"https://":"http://")+this.host;return this.Gd&&(e+="<"+this.Gd+">"),e},na(Fa,Ea),Fa.prototype.reset=function(){this.R[0]=1732584193,this.R[1]=4023233417,this.R[2]=2562383102,this.R[3]=271733878,this.R[4]=3285377520,this.Rd=this.Tb=0},Fa.prototype.update=function(e,t){n(t)||(t=e.length);for(var i=t-this.Ta,o=0,s=this.be,r=this.Tb;t>o;){if(0==r)for(;i>=o;)Ga(this,e,o),o+=this.Ta;if(p(e)){for(;t>o;)if(s[r]=e.charCodeAt(o),++r,++o,r==this.Ta){Ga(this,s),r=0;break}}else for(;t>o;)if(s[r]=e[o],++r,++o,r==this.Ta){Ga(this,s),r=0;break}}this.Tb=r,this.Rd+=t};var w=Array.prototype,Ia=w.indexOf?function(e,t,i){return w.indexOf.call(e,t,i)}:function(e,t,i){if(i=null==i?0:0>i?Math.max(0,e.length+i):i,p(e))return p(t)&&1==t.length?e.indexOf(t,i):-1;for(;i<e.length;i++)if(i in e&&e[i]===t)return i;return-1},Ja=w.forEach?function(e,t,i){w.forEach.call(e,t,i)}:function(e,t,i){for(var n=e.length,o=p(e)?e.split(""):e,s=0;n>s;s++)s in o&&t.call(i,o[s],s,e)},Ka=w.filter?function(e,t,i){return w.filter.call(e,t,i)}:function(e,t,i){for(var n=e.length,o=[],s=0,r=p(e)?e.split(""):e,a=0;n>a;a++)if(a in r){var l=r[a];t.call(i,l,a,e)&&(o[s++]=l)}return o},La=w.map?function(e,t,i){return w.map.call(e,t,i)}:function(e,t,i){for(var n=e.length,o=Array(n),s=p(e)?e.split(""):e,r=0;n>r;r++)r in s&&(o[r]=t.call(i,s[r],r,e));return o},Ma=w.reduce?function(e,t,i,n){return n&&(t=q(t,n)),w.reduce.call(e,t,i)}:function(e,t,i,n){var o=i;return Ja(e,function(i,s){o=t.call(n,o,i,s,e)}),o},Na=w.every?function(e,t,i){return w.every.call(e,t,i)}:function(e,t,i){for(var n=e.length,o=p(e)?e.split(""):e,s=0;n>s;s++)if(s in o&&!t.call(i,o[s],s,e))return!1;
return!0},Va;e:{var Wa=aa.navigator;if(Wa){var Xa=Wa.userAgent;if(Xa){Va=Xa;break e}}Va=""}var Za=Ya("Opera")||Ya("OPR"),$a=Ya("Trident")||Ya("MSIE"),ab=Ya("Gecko")&&-1==Va.toLowerCase().indexOf("webkit")&&!Ya("Trident")&&!Ya("MSIE"),bb=-1!=Va.toLowerCase().indexOf("webkit");!function(){var e,t="";return Za&&aa.opera?(t=aa.opera.version,ha(t)?t():t):(ab?e=/rv\:([^\);]+)(\)|;)/:$a?e=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:bb&&(e=/WebKit\/(\S+)/),e&&(t=(t=e.exec(Va))?t[1]:""),$a&&(e=(e=aa.document)?e.documentMode:void 0,e>parseFloat(t))?String(e):t)}();var cb=null,db=null,eb=null,hb=function(){var e=1;return function(){return e++}}(),ob=null,pb=!0,Eb=/^-?\d{1,10}$/;Gb.prototype.Rb=function(){var e=this.Ld.hc();return"value"===this.nd?e.path:e.parent().path},Gb.prototype.oe=function(){return this.nd},Gb.prototype.Pb=function(){return this.me.Pb(this)},Gb.prototype.toString=function(){return this.Rb().toString()+":"+this.nd+":"+t(this.Ld.Xe())},Hb.prototype.Rb=function(){return this.path},Hb.prototype.oe=function(){return"cancel"},Hb.prototype.Pb=function(){return this.me.Pb(this)},Hb.prototype.toString=function(){return this.path.toString()+":cancel"},h=Ib.prototype,h.pf=function(e){return"value"===e},h.createEvent=function(e,t){var i=t.w.m;return new Gb("value",this,new C(e.Wa,t.hc(),i))},h.Pb=function(e){var t=this.vc;if("cancel"===e.oe()){x(this.mb,"Raising a cancel event on a listener with no cancel callback");var i=this.mb;return function(){i.call(t,e.error)}}var n=this.Kb;return function(){n.call(t,e.Ld)}},h.Te=function(e,t){return this.mb?new Hb(this,e,t):null},h.matches=function(e){return e instanceof Ib&&(!e.Kb||!this.Kb||e.Kb===this.Kb)&&e.vc===this.vc},h.cf=function(){return null!==this.Kb},h=Jb.prototype,h.pf=function(e){return e="children_added"===e?"child_added":e,("children_removed"===e?"child_removed":e)in this.ba},h.Te=function(e,t){return this.mb?new Hb(this,e,t):null},h.createEvent=function(e,t){var i=t.hc().k(e.nb);return new Gb(e.type,this,new C(e.Wa,i,t.w.m),e.Rc)},h.Pb=function(e){var t=this.vc;if("cancel"===e.oe()){x(this.mb,"Raising a cancel event on a listener with no cancel callback");var i=this.mb;return function(){i.call(t,e.error)}}var n=this.ba[e.nd];return function(){n.call(t,e.Ld,e.Rc)}},h.matches=function(e){if(e instanceof Jb){if(this.ba&&e.ba){var t=Kb(e.ba);if(t===Kb(this.ba)){if(1===t){var t=Lb(e.ba),i=Lb(this.ba);return!(i!==t||e.ba[t]&&this.ba[i]&&e.ba[t]!==this.ba[i])}return Mb(this.ba,function(t,i){return e.ba[i]===t})}return!1}return!0}return!1},h.cf=function(){return null!==this.ba};var Ob=/[\[\].#$\/\u0000-\u001F\u007F]/,Pb=/[\[\].#$\u0000-\u001F\u007F]/,hc={};gc.prototype.df=function(e,t){return 0!==this.compare(new I("[MIN_NAME]",e),new I("[MIN_NAME]",t))},gc.prototype.Ae=function(){return ic},na(jc,gc),h=jc.prototype,h.se=function(e){return!e.B(this.Vb).e()},h.compare=function(e,t){var i=e.K.B(this.Vb),n=t.K.B(this.Vb),i=i.he(n);return 0===i?xb(e.name,t.name):i},h.ye=function(e,t){var i=J(e),i=K.I(this.Vb,i);return new I(t,i)},h.ze=function(){var e=K.I(this.Vb,kc);return new I("[MAX_NAME]",e)},h.toString=function(){return this.Vb};var L=new jc(".priority");na(lc,gc),h=lc.prototype,h.compare=function(e,t){return xb(e.name,t.name)},h.se=function(){throw ib("KeyIndex.isDefinedOn not expected to be called.")},h.df=function(){return!1},h.Ae=function(){return ic},h.ze=function(){return new I("[MAX_NAME]",K)},h.ye=function(e){return x(p(e),"KeyIndex indexValue must always be a string."),new I(e,K)},h.toString=function(){return".key"};var mc=new lc,oc=new nc;h=nc.prototype,h.ve=function(e){var t=uc(this);return t.ka=!0,t.xb=e,t.Hb="",t},h.we=function(e){var t=uc(this);return t.ka=!0,t.xb=e,t.Hb="l",t},h.xe=function(e){var t=uc(this);return t.ka=!0,t.xb=e,t.Hb="r",t},h.Md=function(e,t){var i=uc(this);return i.ga=!0,i.Bc=e,null!=t?(i.nc=!0,i.Xb=t):(i.nc=!1,i.Xb=""),i},h.md=function(e,t){var i=uc(this);return i.na=!0,i.Ac=e,n(t)?(i.yc=!0,i.Ub=t):(i.Dg=!1,i.Ub=""),i},M.prototype.hc=function(){return D("Query.ref",0,0,arguments.length),new O(this.g,this.path)},M.prototype.ref=M.prototype.hc,M.prototype.zb=function(e,t,i,n){D("Query.on",2,4,arguments.length),Xb("Query.on",e,!1),F("Query.on",2,t,!1);var o=Ac("Query.on",i,n);if("value"===e)Bc(this.g,this,new Ib(t,o.cancel||null,o.Ha||null));else{var s={};s[e]=t,Bc(this.g,this,new Jb(s,o.cancel,o.Ha))}return t},M.prototype.on=M.prototype.zb,M.prototype.bc=function(e,t,i){D("Query.off",0,3,arguments.length),Xb("Query.off",e,!0),F("Query.off",2,t,!0),Nb("Query.off",3,i);var n=null,o=null;"value"===e?n=new Ib(t||null,null,i||null):e&&(t&&(o={},o[e]=t),n=new Jb(o,null,i||null)),o=this.g,n=".info"===G(this.path)?o.ud.hb(this,n):o.M.hb(this,n),Cc(o.Z,this.path,n)},M.prototype.off=M.prototype.bc,M.prototype.gg=function(e,t){function i(r){s&&(s=!1,o.bc(e,i),t.call(n.Ha,r))}D("Query.once",2,4,arguments.length),Xb("Query.once",e,!1),F("Query.once",2,t,!1);var n=Ac("Query.once",arguments[2],arguments[3]),o=this,s=!0;this.zb(e,i,function(t){o.bc(e,i),n.cancel&&n.cancel.call(n.Ha,t)})},M.prototype.once=M.prototype.gg,M.prototype.ve=function(e){if(z("Query.limit() being deprecated. Please use Query.limitToFirst() or Query.limitToLast() instead."),D("Query.limit",1,1,arguments.length),!ga(e)||Math.floor(e)!==e||0>=e)throw Error("Query.limit: First argument must be a positive integer.");if(this.w.ka)throw Error("Query.limit: Limit was already set (by another call to limit, limitToFirst, orlimitToLast.");var t=this.w.ve(e);return yc(t),new M(this.g,this.path,t,this.dc)},M.prototype.limit=M.prototype.ve,M.prototype.we=function(e){if(D("Query.limitToFirst",1,1,arguments.length),!ga(e)||Math.floor(e)!==e||0>=e)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.w.ka)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new M(this.g,this.path,this.w.we(e),this.dc)},M.prototype.limitToFirst=M.prototype.we,M.prototype.xe=function(e){if(D("Query.limitToLast",1,1,arguments.length),!ga(e)||Math.floor(e)!==e||0>=e)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.w.ka)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new M(this.g,this.path,this.w.xe(e),this.dc)},M.prototype.limitToLast=M.prototype.xe,M.prototype.hg=function(e){if(D("Query.orderByChild",1,1,arguments.length),"$key"===e)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');Yb("Query.orderByChild",1,e,!1),zc(this,"Query.orderByChild");var t=vc(this.w,new jc(e));return xc(t),new M(this.g,this.path,t,!0)},M.prototype.orderByChild=M.prototype.hg,M.prototype.ig=function(){D("Query.orderByKey",0,0,arguments.length),zc(this,"Query.orderByKey");var e=vc(this.w,mc);return xc(e),new M(this.g,this.path,e,!0)},M.prototype.orderByKey=M.prototype.ig,M.prototype.jg=function(){D("Query.orderByPriority",0,0,arguments.length),zc(this,"Query.orderByPriority");var e=vc(this.w,L);return xc(e),new M(this.g,this.path,e,!0)},M.prototype.orderByPriority=M.prototype.jg,M.prototype.Md=function(e,t){D("Query.startAt",0,2,arguments.length),Sb("Query.startAt",e,!0),Yb("Query.startAt",2,t,!0);var i=this.w.Md(e,t);if(yc(i),xc(i),this.w.ga)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return n(e)||(t=e=null),new M(this.g,this.path,i,this.dc)},M.prototype.startAt=M.prototype.Md,M.prototype.md=function(e,t){D("Query.endAt",0,2,arguments.length),Sb("Query.endAt",e,!0),Yb("Query.endAt",2,t,!0);var i=this.w.md(e,t);if(yc(i),xc(i),this.w.na)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new M(this.g,this.path,i,this.dc)},M.prototype.endAt=M.prototype.md,M.prototype.Of=function(e,t){if(D("Query.equalTo",1,2,arguments.length),Sb("Query.equalTo",e,!1),Yb("Query.equalTo",2,t,!0),this.w.ga)throw Error("Query.equalTo: Starting point was already set (by another call to endAt or equalTo).");if(this.w.na)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.Md(e,t).md(e,t)},M.prototype.equalTo=M.prototype.Of,M.prototype.Da=function(){var e=Ab(Dc(this));return"{}"===e?"default":e},P.prototype.toString=function(){for(var e="",t=this.aa;t<this.n.length;t++)""!==this.n[t]&&(e+="/"+this.n[t]);return e||"/"},P.prototype.parent=function(){if(this.aa>=this.n.length)return null;for(var e=[],t=this.aa;t<this.n.length-1;t++)e.push(this.n[t]);return new P(e,0)},P.prototype.k=function(e){for(var t=[],i=this.aa;i<this.n.length;i++)t.push(this.n[i]);if(e instanceof P)for(i=e.aa;i<e.n.length;i++)t.push(e.n[i]);else for(e=e.split("/"),i=0;i<e.length;i++)0<e[i].length&&t.push(e[i]);return new P(t,0)},P.prototype.e=function(){return this.aa>=this.n.length};var S=new P("");P.prototype.ja=function(e){if(Q(this)!==Q(e))return!1;for(var t=this.aa,i=e.aa;t<=this.n.length;t++,i++)if(this.n[t]!==e.n[i])return!1;return!0},P.prototype.contains=function(e){var t=this.aa,i=e.aa;if(Q(this)>Q(e))return!1;for(;t<this.n.length;){if(this.n[t]!==e.n[i])return!1;++t,++i}return!0},h=Fc.prototype,h.ta=function(){return this.D.value},h.clear=function(){this.D.value=null,this.D.children={},this.D.dd=0,Ic(this)},h.pd=function(){return 0<this.D.dd},h.e=function(){return null===this.ta()&&!this.pd()},h.ca=function(e){var t=this;A(this.D.children,function(i,n){e(new Fc(n,t,i))})},h.path=function(){return new P(null===this.Oc?this.yd:this.Oc.path()+"/"+this.yd)},h.name=function(){return this.yd},h.parent=function(){return this.Oc},h=Lc.prototype,h.Ja=function(e,t){return new Lc(this.Ga,this.pa.Ja(e,t,this.Ga).W(null,null,!1,null,null))},h.remove=function(e){return new Lc(this.Ga,this.pa.remove(e,this.Ga).W(null,null,!1,null,null))},h.get=function(e){for(var t,i=this.pa;!i.e();){if(t=this.Ga(e,i.key),0===t)return i.value;0>t?i=i.left:t>0&&(i=i.right)}return null},h.e=function(){return this.pa.e()},h.count=function(){return this.pa.count()},h.Ic=function(){return this.pa.Ic()},h.Zb=function(){return this.pa.Zb()},h.Ba=function(e){return this.pa.Ba(e)},h.Aa=function(e){return new Oc(this.pa,null,this.Ga,!1,e)},h.rb=function(e,t){return new Oc(this.pa,e,this.Ga,!1,t)},h.Sb=function(e,t){return new Oc(this.pa,e,this.Ga,!0,t)},h.bf=function(e){return new Oc(this.pa,null,this.Ga,!0,e)},h=Pc.prototype,h.W=function(e,t,i,n,o){return new Pc(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=n?n:this.left,null!=o?o:this.right)},h.count=function(){return this.left.count()+1+this.right.count()},h.e=function(){return!1},h.Ba=function(e){return this.left.Ba(e)||e(this.key,this.value)||this.right.Ba(e)},h.Ic=function(){return Qc(this).key},h.Zb=function(){return this.right.e()?this.key:this.right.Zb()},h.Ja=function(e,t,i){var n,o;return o=this,n=i(e,o.key),o=0>n?o.W(null,null,null,o.left.Ja(e,t,i),null):0===n?o.W(null,t,null,null,null):o.W(null,null,null,null,o.right.Ja(e,t,i)),Rc(o)},h.remove=function(e,t){var i,n;if(i=this,0>t(e,i.key))i.left.e()||i.left.$()||i.left.left.$()||(i=Tc(i)),i=i.W(null,null,null,i.left.remove(e,t),null);else{if(i.left.$()&&(i=Uc(i)),i.right.e()||i.right.$()||i.right.left.$()||(i=Vc(i),i.left.left.$()&&(i=Uc(i),i=Vc(i))),0===t(e,i.key)){if(i.right.e())return Mc;n=Qc(i.right),i=i.W(n.key,n.value,null,null,Sc(i.right))}i=i.W(null,null,null,null,i.right.remove(e,t))}return Rc(i)},h.$=function(){return this.color},h=Xc.prototype,h.W=function(){return this},h.Ja=function(e,t){return new Pc(e,t,null)},h.remove=function(){return this},h.count=function(){return 0},h.e=function(){return!0},h.Ba=function(){return!1},h.Ic=function(){return null},h.Zb=function(){return null},h.$=function(){return!1};var Mc=new Xc;h=Zc.prototype,h.P=function(){return!0},h.O=function(){return this.fa},h.ib=function(e){return new Zc(this.A,e)},h.B=function(e){return".priority"===e?this.fa:K},h.da=function(e){return e.e()?this:".priority"===G(e)?this.fa:K},h.Y=function(){return!1},h.af=function(){return null},h.I=function(e,t){return".priority"===e?this.ib(t):K.I(e,t).ib(this.fa)},h.L=function(e,t){var i=G(e);return null===i?t:(x(".priority"!==i||1===Q(e),".priority must be the last token in a path"),this.I(i,K.L(R(e),t)))},h.e=function(){return!1},h.Ua=function(){return 0},h.N=function(e){return e&&!this.O().e()?{".value":this.ta(),".priority":this.O().N()}:this.ta()},h.hash=function(){if(null===this.wb){var e="";this.fa.e()||(e+="priority:"+ad(this.fa.N())+":");var t=typeof this.A,e=e+(t+":"),e="number"===t?e+Db(this.A):e+this.A;this.wb=lb(e)}return this.wb},h.ta=function(){return this.A},h.he=function(e){if(e===K)return 1;if(e instanceof bd)return-1;x(e.P(),"Unknown node type");var t=typeof e.A,i=typeof this.A,n=Ia(cd,t),o=Ia(cd,i);return x(n>=0,"Unknown leaf type: "+t),x(o>=0,"Unknown leaf type: "+i),n===o?"object"===i?0:this.A<e.A?-1:this.A===e.A?0:1:o-n};var cd=["object","boolean","number","string"];Zc.prototype.Wd=function(){return this},Zc.prototype.Yb=function(){return!0},Zc.prototype.ja=function(e){return e===this?!0:e.P()?this.A===e.A&&this.fa.ja(e.fa):!1},Zc.prototype.toString=function(){return"string"==typeof this.A?this.A:'"'+this.A+'"'},dd.prototype.get=function(e){var t=v(this.td,e);if(!t)throw Error("No index defined for "+e);return t===hc?null:t};var id=new dd({".priority":hc},{".priority":L});h=bd.prototype,h.P=function(){return!1},h.O=function(){return this.fa||K},h.ib=function(e){return new bd(this.j,e,this.sb)},h.B=function(e){return".priority"===e?this.O():(e=this.j.get(e),null===e?K:e)},h.da=function(e){var t=G(e);return null===t?this:this.B(t).da(R(e))},h.Y=function(e){return null!==this.j.get(e)},h.I=function(e,t){if(x(t,"We should always be passing snapshot nodes"),".priority"===e)return this.ib(t);var i,n=new I(e,t);return t.e()?(i=this.j.remove(e),n=hd(this.sb,n,this.j)):(i=this.j.Ja(e,t),n=ed(this.sb,n,this.j)),new bd(i,this.fa,n)},h.L=function(e,t){var i=G(e);if(null===i)return t;x(".priority"!==G(e)||1===Q(e),".priority must be the last token in a path");var n=this.B(i).L(R(e),t);return this.I(i,n)},h.e=function(){return this.j.e()},h.Ua=function(){return this.j.count()};var jd=/^(0|[1-9]\d*)$/;h=bd.prototype,h.N=function(e){if(this.e())return null;var t={},i=0,n=0,o=!0;if(this.ca(L,function(s,r){t[s]=r.N(e),i++,o&&jd.test(s)?n=Math.max(n,Number(s)):o=!1}),!e&&o&&2*i>n){var s,r=[];for(s in t)r[s]=t[s];return r}return e&&!this.O().e()&&(t[".priority"]=this.O().N()),t},h.hash=function(){if(null===this.wb){var e="";this.O().e()||(e+="priority:"+ad(this.O().N())+":"),this.ca(L,function(t,i){var n=i.hash();""!==n&&(e+=":"+t+":"+n)}),this.wb=""===e?"":lb(e)}return this.wb},h.af=function(e,t,i){return(i=kd(this,i))?(e=Nc(i,new I(e,t)))?e.name:null:Nc(this.j,e)},h.ca=function(e,t){var i=kd(this,e);return i?i.Ba(function(e){return t(e.name,e.K)}):this.j.Ba(t)},h.Aa=function(e){return this.rb(e.Ae(),e)},h.rb=function(e,t){var i=kd(this,t);return i?i.rb(e,function(e){return e}):this.j.rb(e.name,Yc)},h.bf=function(e){return this.Sb(e.ze(),e)},h.Sb=function(e,t){var i=kd(this,t);return i?i.Sb(e,function(e){return e}):this.j.Sb(e.name,Yc)},h.he=function(e){return this.e()?e.e()?0:-1:e.P()||e.e()?1:e===kc?-1:0},h.Wd=function(e){if(e===mc||nd(this.sb.Wb,e.toString()))return this;var t=this.sb,i=this.j;x(e!==mc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var n=[],o=!1,i=i.Aa(Yc),s=U(i);s;)o=o||e.se(s.K),n.push(s),s=U(i);return n=o?gd(n,H(e)):hc,o=e.toString(),i=od(t.Wb),i[o]=e,e=od(t.td),e[o]=n,new bd(this.j,this.fa,new dd(e,i))},h.Yb=function(e){return e===mc||nd(this.sb.Wb,e.toString())},h.ja=function(e){if(e===this)return!0;if(e.P())return!1;if(this.O().ja(e.O())&&this.j.count()===e.j.count()){var t=this.Aa(L);e=e.Aa(L);for(var i=U(t),n=U(e);i&&n;){if(i.name!==n.name||!i.K.ja(n.K))return!1;i=U(t),n=U(e)}return null===i&&null===n}return!1},h.toString=function(){var e="{",t=!0;return this.ca(L,function(i,n){t?t=!1:e+=", ",e+='"'+i+'" : '+n.toString()}),e+="}"};var pd=Math.log(2),K=new bd(new Lc(fc),null,id);na(sd,bd),h=sd.prototype,h.he=function(e){return e===this?0:1},h.ja=function(e){return e===this},h.O=function(){throw ib("Why is this called?")},h.B=function(){return K},h.e=function(){return!1};var kc=new sd,ic=new I("[MIN_NAME]",K);C.prototype.N=function(){return D("Firebase.DataSnapshot.val",0,0,arguments.length),this.D.N()},C.prototype.val=C.prototype.N,C.prototype.Xe=function(){return D("Firebase.DataSnapshot.exportVal",0,0,arguments.length),this.D.N(!0)},C.prototype.exportVal=C.prototype.Xe,C.prototype.Qf=function(){return D("Firebase.DataSnapshot.exists",0,0,arguments.length),!this.D.e()},C.prototype.exists=C.prototype.Qf,C.prototype.k=function(e){D("Firebase.DataSnapshot.child",0,1,arguments.length),ga(e)&&(e=String(e)),Zb("Firebase.DataSnapshot.child",e);var t=new P(e),i=this.U.k(t);return new C(this.D.da(t),i,L)},C.prototype.child=C.prototype.k,C.prototype.Y=function(e){D("Firebase.DataSnapshot.hasChild",1,1,arguments.length),Zb("Firebase.DataSnapshot.hasChild",e);var t=new P(e);return!this.D.da(t).e()},C.prototype.hasChild=C.prototype.Y,C.prototype.O=function(){return D("Firebase.DataSnapshot.getPriority",0,0,arguments.length),this.D.O().N()},C.prototype.getPriority=C.prototype.O,C.prototype.forEach=function(e){if(D("Firebase.DataSnapshot.forEach",1,1,arguments.length),F("Firebase.DataSnapshot.forEach",1,e,!1),this.D.P())return!1;var t=this;return!!this.D.ca(this.m,function(i,n){return e(new C(n,t.U.k(i),L))})},C.prototype.forEach=C.prototype.forEach,C.prototype.pd=function(){return D("Firebase.DataSnapshot.hasChildren",0,0,arguments.length),this.D.P()?!1:!this.D.e()},C.prototype.hasChildren=C.prototype.pd,C.prototype.name=function(){return z("Firebase.DataSnapshot.name() being deprecated. Please use Firebase.DataSnapshot.key() instead."),D("Firebase.DataSnapshot.name",0,0,arguments.length),this.key()},C.prototype.name=C.prototype.name,C.prototype.key=function(){return D("Firebase.DataSnapshot.key",0,0,arguments.length),this.U.key()},C.prototype.key=C.prototype.key,C.prototype.Ua=function(){return D("Firebase.DataSnapshot.numChildren",0,0,arguments.length),this.D.Ua()},C.prototype.numChildren=C.prototype.Ua,C.prototype.hc=function(){return D("Firebase.DataSnapshot.ref",0,0,arguments.length),this.U},C.prototype.ref=C.prototype.hc,td.prototype.Td=function(e){for(var t=this.Gc[e]||[],i=0;i<t.length;i++)t[i].sc.apply(t[i].Ha,Array.prototype.slice.call(arguments,1))},td.prototype.zb=function(e,t,i){ud(this,e),this.Gc[e]=this.Gc[e]||[],this.Gc[e].push({sc:t,Ha:i}),(e=this.pe(e))&&t.apply(i,e)},td.prototype.bc=function(e,t,i){ud(this,e),e=this.Gc[e]||[];for(var n=0;n<e.length;n++)if(e[n].sc===t&&(!i||i===e[n].Ha)){e.splice(n,1);break}},na(vd,td),ca(vd),vd.prototype.pe=function(e){return x("visible"===e,"Unknown event type: "+e),[this.qc]},na(wd,td),ca(wd),wd.prototype.pe=function(e){return x("online"===e,"Unknown event type: "+e),[this.Lc]};var Dd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");Fd.prototype.get=function(){return od(this.wc)},Hd.prototype.get=function(){var e=this.Kf.get(),t=od(e);if(this.vd)for(var i in this.vd)t[i]-=this.vd[i];return this.vd=e,t},Id.prototype.nf=function(){var e,t=this.Nd.get(),i={},n=!1;for(e in t)0<t[e]&&u(this.uf,e)&&(i[e]=t[e],n=!0);n&&(t=this.S,t.ia&&(i={c:i},t.f("reportStats",i),t.wa("s",i))),setTimeout(q(this.nf,this),Math.floor(6e5*Math.random()))};var Jd={},Kd={},Nd=null;"undefined"!=typeof MozWebSocket?Nd=MozWebSocket:"undefined"!=typeof WebSocket&&(Nd=WebSocket);var Pd;Od.prototype.open=function(e,t){this.fb=t,this.cg=e,this.f("Websocket connecting to "+this.Za),this.zc=!1,Aa.set("previous_websocket_failure",!0);try{this.oa=new Nd(this.Za)}catch(i){this.f("Error instantiating WebSocket.");var n=i.message||i.data;return n&&this.f(n),this.eb(),void 0}var o=this;this.oa.onopen=function(){o.f("Websocket connected."),o.zc=!0},this.oa.onclose=function(){o.f("Websocket connection was disconnected."),o.oa=null,o.eb()},this.oa.onmessage=function(e){if(null!==o.oa)if(e=e.data,o.kb+=e.length,Gd(o.Qa,"bytes_received",e.length),Qd(o),null!==o.frames)Rd(o,e);else{e:{if(x(null===o.frames,"We already have a frame buffer"),6>=e.length){var t=Number(e);if(!isNaN(t)){o.Oe=t,o.frames=[],e=null;break e}}o.Oe=1,o.frames=[]}null!==e&&Rd(o,e)}},this.oa.onerror=function(e){o.f("WebSocket error.  Closing connection."),(e=e.message||e.data)&&o.f(e),o.eb()}},Od.prototype.start=function(){},Od.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var t=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);t&&1<t.length&&4.4>parseFloat(t[1])&&(e=!0)}return!e&&null!==Nd&&!Pd},Od.responsesRequiredToBeHealthy=2,Od.healthyTimeout=3e4,h=Od.prototype,h.wd=function(){Aa.remove("previous_websocket_failure")},h.send=function(e){Qd(this),e=t(e),this.lb+=e.length,Gd(this.Qa,"bytes_sent",e.length),e=Bb(e,16384),1<e.length&&this.oa.send(String(e.length));for(var i=0;i<e.length;i++)this.oa.send(e[i])},h.Yc=function(){this.ub=!0,this.Cc&&(clearInterval(this.Cc),this.Cc=null),this.oa&&(this.oa.close(),this.oa=null)},h.eb=function(){this.ub||(this.f("WebSocket is closing itself"),this.Yc(),this.fb&&(this.fb(this.zc),this.fb=null))},h.close=function(){this.ub||(this.f("WebSocket is being closed"),this.Yc())},h=Vd.prototype,h.add=function(e,t){this.set[e]=null!==t?t:!0},h.contains=function(e){return u(this.set,e)},h.get=function(e){return this.contains(e)?this.set[e]:void 0},h.remove=function(e){delete this.set[e]},h.clear=function(){this.set={}},h.e=function(){return Bd(this.set)},h.count=function(){return Kb(this.set)};var Yd,Zd;Xd.prototype.open=function(e,t){this.Ue=0,this.ea=t,this.gf=new Sd(e),this.ub=!1;var i=this;this.ob=setTimeout(function(){i.f("Timed out trying to connect."),i.eb(),i.ob=null},Math.floor(3e4)),wb(function(){if(!i.ub){i.Na=new $d(function(e,t,n){if(ae(i,arguments),i.Na)if(i.ob&&(clearTimeout(i.ob),i.ob=null),i.zc=!0,"start"==e)i.id=t,i.mf=n;else{if("close"!==e)throw Error("Unrecognized command received: "+e);t?(i.Na.Jd=!1,Td(i.gf,t,function(){i.eb()})):i.eb()}},function(e,t){ae(i,arguments),Ud(i.gf,e,t)},function(){i.eb()},i.bd);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),i.Na.Ud&&(e.cb=i.Na.Ud),e.v="5",i.Kd&&(e.s=i.Kd),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(e.r="f"),e=i.bd(e),i.f("Connecting via long-poll to "+e),be(i.Na,e,function(){})}})},Xd.prototype.start=function(){var e=this.Na,t=this.mf;for(e.Xf=this.id,e.Yf=t,e.Zd=!0;ce(e););e=this.id,t=this.mf,this.$b=document.createElement("iframe");var i={dframe:"t"};i.id=e,i.pw=t,this.$b.src=this.bd(i),this.$b.style.display="none",document.body.appendChild(this.$b)},Xd.isAvailable=function(){return!(Zd||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.zg)},h=Xd.prototype,h.wd=function(){},h.Yc=function(){this.ub=!0,this.Na&&(this.Na.close(),this.Na=null),this.$b&&(document.body.removeChild(this.$b),this.$b=null),this.ob&&(clearTimeout(this.ob),this.ob=null)},h.eb=function(){this.ub||(this.f("Longpoll is closing itself"),this.Yc(),this.ea&&(this.ea(this.zc),this.ea=null))},h.close=function(){this.ub||(this.f("Longpoll is being closed."),this.Yc())},h.send=function(e){e=t(e),this.lb+=e.length,Gd(this.Qa,"bytes_sent",e.length),e=mb(e),e=fb(e,!0),e=Bb(e,1840);for(var i=0;i<e.length;i++){var n=this.Na;n.Qc.push({og:this.Ue,wg:e.length,We:e[i]}),n.Zd&&ce(n),this.Ue++}},$d.prototype.close=function(){if(this.Zd=!1,this.va){this.va.$a.body.innerHTML="";var e=this;setTimeout(function(){null!==e.va&&(document.body.removeChild(e.va),e.va=null)},Math.floor(0))}var t=this.fb;t&&(this.fb=null,t())};var ge=[Xd,Od];ie.prototype.wa=function(e){te(this,{t:"d",d:e})},ie.prototype.Bd=function(e){qe(this),this.cc(e)},ie.prototype.close=function(){2!==this.Pa&&(this.f("Closing realtime connection."),this.Pa=2,pe(this),this.ea&&(this.ea(),this.ea=null))};var ye=0,Ae=0;h=xe.prototype,h.wa=function(e,i,n){var o=++this.ng;e={r:o,a:e,b:i},this.f(t(e)),x(this.ia,"sendRequest call when we're not connected not allowed."),this.La.wa(e),n&&(this.Tc[o]=n)},h.T=function(e,t,i){this.Lb={Mf:e,Ye:!1,sc:t,cd:i},this.f("Authenticating using credential: "+e),Ee(this),(t=40==e.length)||(e=ue(e).fe,t="object"==typeof e&&!0===v(e,"admin")),t&&(this.f("Admin auth credential detected.  Reducing max reconnect time."),this.xd=3e4)},h.Pe=function(e){delete this.Lb,this.ia&&this.wa("unauth",{},function(t){e(t.s,t.d)})},h.Ce=function(e,t){this.ia?Ge(this,"oc",e,null,t):this.Jc.push({Pc:e,action:"oc",data:null,H:t})},h.put=function(e,t,i,n){Ie(this,"p",e,t,i,n)},h.Bd=function(e){if("r"in e){this.f("from server: "+t(e));var i=e.r,n=this.Tc[i];n&&(delete this.Tc[i],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&(i=e.a,n=e.b,this.f("handleServerMessage",i,n),"d"===i?this.Cd(n.p,n.d,!1,n.t):"m"===i?this.Cd(n.p,n.d,!0,n.t):"c"===i?Me(this,n.p,n.q):"ac"===i?(e=n.s,i=n.d,n=this.Lb,delete this.Lb,n&&n.cd&&n.cd(e,i)):"sd"===i?this.Ke?this.Ke(n):"msg"in n&&"undefined"!=typeof console&&undefined:sb("Unrecognized action received from server: "+t(i)+"\nAre you using the latest client?"))}},h.Kc=function(e){this.f("connection ready"),this.ia=!0,this.Dc=(new Date).getTime(),this.Ee({serverTimeOffset:e-(new Date).getTime()}),Ne(this),this.Ad(!0)},h.fg=function(e){e&&!this.qc&&this.Va===this.xd&&(this.f("Window became visible.  Reducing delay."),this.Va=1e3,this.La||ze(this,0)),this.qc=e},h.dg=function(e){e?(this.f("Browser went online.  Reconnecting."),this.Va=1e3,this.Eb=!0,this.La||ze(this,0)):(this.f("Browser went offline.  Killing connection; don't reconnect."),this.Eb=!1,this.La&&this.La.close())},h.jf=function(){this.f("data client disconnected"),this.ia=!1,this.La=null;for(var e=0;e<this.la.length;e++){var t=this.la[e];t&&"h"in t.of&&t.lg&&(t.H&&t.H("disconnect"),delete this.la[e],this.Nc--)}if(0===this.Nc&&(this.la=[]),this.Eb)this.qc?this.Dc&&(3e4<(new Date).getTime()-this.Dc&&(this.Va=1e3),this.Dc=null):(this.f("Window isn't visible.  Delaying reconnect."),this.Va=this.xd,this.ue=(new Date).getTime()),e=Math.max(0,this.Va-((new Date).getTime()-this.ue)),e*=Math.random(),this.f("Trying to reconnect in "+e+"ms"),ze(this,e),this.Va=Math.min(this.xd,1.3*this.Va);else for(var i in this.Tc)delete this.Tc[i];this.Ad(!1)},h.tb=function(){this.Eb=!1,this.La?this.La.close():(this.Nb&&(clearTimeout(this.Nb),this.Nb=null),this.ia&&this.jf())},h.kc=function(){this.Eb=!0,this.Va=1e3,this.La||ze(this,0)},Pe.prototype.ic=function(e,t){if(e.e())this.A=t,this.j=null;else if(null!==this.A)this.A=this.A.L(e,t);else{null==this.j&&(this.j=new Vd);var i=G(e);this.j.contains(i)||this.j.add(i,new Pe),i=this.j.get(i),e=R(e),i.ic(e,t)}},Pe.prototype.ca=function(e){null!==this.j&&Wd(this.j,function(t,i){e(t,i)})},Se.prototype.toString=function(){return this.Wc.toString()},Ve.prototype.add=function(e){this.od.push(e)},Ve.prototype.Rb=function(){return this.Ca};var Ye="auth.firebase.com",$e=["remember","redirectTo"],bf={NETWORK_ERROR:"Unable to contact the Firebase server.",SERVER_ERROR:"An unknown server error occurred.",TRANSPORT_UNAVAILABLE:"There are no login transports available for the requested method.",REQUEST_INTERRUPTED:"The browser redirected the page before the login request could complete.",USER_CANCELLED:"The user cancelled authentication."};mf.prototype.open=function(e,i,n){function o(){n&&(n(V("REQUEST_INTERRUPTED")),n=null)}var s,r=new XMLHttpRequest,a=this.options.method.toUpperCase();if(df(window,"beforeunload",o),r.onreadystatechange=function(){if(n&&4===r.readyState){var e;if(200<=r.status&&300>r.status){try{e=ua(r.responseText)}catch(t){}n(null,e)}else 500<=r.status&&600>r.status?n(V("SERVER_ERROR")):n(V("NETWORK_ERROR"));n=null,ef(window,"beforeunload",o)}},"GET"===a)e+=(/\?/.test(e)?"":"?")+hf(i),s=null;else{var l=this.options.headers.content_type;"application/json"===l&&(s=t(i)),"application/x-www-form-urlencoded"===l&&(s=hf(i))}r.open(a,e,!0),e={"X-Requested-With":"XMLHttpRequest",Accept:"application/json;text/plain"},Ed(e,this.options.headers);for(var u in e)r.setRequestHeader(u,e[u]);r.send(s)},mf.isAvailable=function(){return!!window.XMLHttpRequest&&"string"==typeof(new XMLHttpRequest).responseType&&(!navigator.userAgent.match(/MSIE/)&&!navigator.userAgent.match(/Trident/)||lf())},mf.prototype.uc=function(){return"json"},nf.prototype.open=function(e,t,i){function n(){i&&(i(V("USER_CANCELLED")),i=null)}var o,s=this,r=ub(Ye);t.requestId=this.Uc,t.redirectTo=r.scheme+"://"+r.host+"/blank/page.html",e+=/\?/.test(e)?"":"?",e+=hf(t),(o=window.open(e,"_blank","location=no"))&&ha(o.addEventListener)?(o.addEventListener("loadstart",function(e){var t;if(t=e&&e.url)e:{var r=e.url;try{var a=document.createElement("a");a.href=r,t=a.host===ub(Ye).host&&"/blank/page.html"===a.pathname;break e}catch(l){}t=!1}t&&(e=gf(e.url),o.removeEventListener("exit",n),o.close(),e=new Ze(null,null,{requestId:s.Uc,requestKey:e}),s.kf.requestWithCredential("/auth/session",e,i),i=null)}),o.addEventListener("exit",n)):i(V("TRANSPORT_UNAVAILABLE"))},nf.isAvailable=function(){return kf()},nf.prototype.uc=function(){return"redirect"},of.prototype.open=function(e,i,n){function o(e){if(r&&(document.body.removeChild(r),r=void 0),h&&(h=clearInterval(h)),ef(window,"message",s),ef(window,"unload",o),c&&!e)try{c.close()}catch(t){a.postMessage("die",u)}c=a=void 0}function s(e){if(e.origin===u)try{var t=ua(e.data);"ready"===t.a?a.postMessage(d,u):"error"===t.a?(o(!1),n&&(n(t.d),n=null)):"response"===t.a&&(o(t.forceKeepWindowOpen),n&&(n(null,t.d),n=null))}catch(i){}}var r,a,l=lf(),u=ff(e);if(u!==ff(this.options.relay_url))n&&setTimeout(function(){n(Error("invalid arguments: origin of url and relay_url must match"))},0);else{l&&(r=document.createElement("iframe"),r.setAttribute("src",this.options.relay_url),r.style.display="none",r.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(r),a=r.contentWindow),e+=(/\?/.test(e)?"":"?")+hf(i);var c=window.open(e,this.options.window_name,this.options.window_features);a||(a=c);var h=setInterval(function(){c&&c.closed&&(o(!1),n&&(n(V("USER_CANCELLED")),n=null))},500),d=t({a:"request",d:i});df(window,"unload",o),df(window,"message",s)}},of.isAvailable=function(){return"postMessage"in window&&!/^file:\//.test(location.href)&&!(kf()||navigator.userAgent.match(/Windows Phone/)||window.Windows&&/^ms-appx:/.test(location.href)||navigator.userAgent.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i)||navigator.userAgent.match(/CriOS/)||navigator.userAgent.match(/Twitter for iPhone/)||navigator.userAgent.match(/FBAN\/FBIOS/)||window.navigator.standalone)&&!navigator.userAgent.match(/PhantomJS/)},of.prototype.uc=function(){return"popup"},pf.prototype.open=function(e,t,i){function n(){i&&(i(V("REQUEST_INTERRUPTED")),i=null)}function o(){setTimeout(function(){window.__firebase_auth_jsonp[s]=void 0,Bd(window.__firebase_auth_jsonp)&&(window.__firebase_auth_jsonp=void 0);try{var e=document.getElementById(s);e&&e.parentNode.removeChild(e)}catch(t){}},1),ef(window,"beforeunload",n)}var s="fn"+(new Date).getTime()+Math.floor(99999*Math.random());t[this.options.callback_parameter]="__firebase_auth_jsonp."+s,e+=(/\?/.test(e)?"":"?")+hf(t),df(window,"beforeunload",n),window.__firebase_auth_jsonp[s]=function(e){i&&(i(null,e),i=null),o()},qf(s,e,i)},pf.isAvailable=function(){return!kf()},pf.prototype.uc=function(){return"json"},rf.prototype.set=function(e,t){if(!t){if(!this.Pd.length)throw Error("fb.login.SessionManager : No storage options available!");t=this.Pd[0]}t.set(this.Ge,e)},rf.prototype.get=function(){var e=La(this.Pd,q(this.Tf,this)),e=Ka(e,function(e){return null!==e});return Ta(e,function(e,t){return ve(t.token)-ve(e.token)
}),0<e.length?e.shift():null},rf.prototype.Tf=function(e){try{var t=e.get(this.Ge);if(t&&t.token)return t}catch(i){}return null},rf.prototype.clear=function(){var e=this;Ja(this.Pd,function(t){t.remove(e.Ge)})},sf.prototype.open=function(e,t){Ba.set("redirect_request_id",this.Uc),t.requestId=this.Uc,t.redirectTo=t.redirectTo||window.location.href,e+=(/\?/.test(e)?"":"?")+hf(t),window.location=e},sf.isAvailable=function(){return!/^file:\//.test(location.href)&&!kf()},sf.prototype.uc=function(){return"redirect"},na(tf,td),h=tf.prototype,h.ne=function(){return this.jb||null},h.je=function(e,t){Cf(this);var i=af(e);i.lc._method="POST",this.Vc("/users",i,function(e,i){e?B(t,e):B(t,e,i)})},h.Ie=function(e,t){var i=this;Cf(this);var n="/users/"+encodeURIComponent(e.email),o=af(e);o.lc._method="DELETE",this.Vc(n,o,function(e,n){!e&&n&&n.uid&&i.jb&&i.jb.uid&&i.jb.uid===n.uid&&Af(i),B(t,e)})},h.ee=function(e,t){Cf(this);var i="/users/"+encodeURIComponent(e.email)+"/password",n=af(e);n.lc._method="PUT",n.lc.password=e.newPassword,this.Vc(i,n,function(e){B(t,e)})},h.Je=function(e,t){Cf(this);var i="/users/"+encodeURIComponent(e.email)+"/password",n=af(e);n.lc._method="POST",this.Vc(i,n,function(e){B(t,e)})},h.Vc=function(e,t,i){Ff(this,[mf,pf],e,t,i)},h.pe=function(e){return x("auth_status"===e,'initial event must be of type "auth_status"'),[this.jb]};var Kf=new Jf;Jf.prototype.kd=function(e,t,i,n){return(e=X(e))?e.Y(i)?(e=e.B(i),i=e.ja(n)?[]:n.e()?[new W("child_removed",e,i)]:[new W("child_changed",n,i,e)]):i=n.e()?[]:[new W("child_added",n,i)]:i=n.e()?[]:[new W("child_added",n,i)],0<i.length&&t.u&&i.push(new W("value",X(t))),i},na(Of,Jf),Of.prototype.kd=function(e,t,i,n){var o=X(e)||K,s=X(t)||K;if(o.Ua()<this.bb||s.Ua()<this.bb)return Of.oc.kd.call(this,e,t,i,n);x(!o.P()&&!s.P(),"If it's a leaf node, we should have hit the above case."),e=[];var r=o.B(i);return r.e()?s.Y(i)&&(o=this.Ma?ld(o,this.m):md(o,this.m),e.push(new W("child_removed",o.K,o.name)),e.push(new W("child_added",n,i))):s.Y(i)?n.ja(r)||e.push(new W("child_changed",n,i,o.B(i))):(e.push(new W("child_removed",r,i)),o=this.Ma?ld(s,this.m):md(s,this.m),e.push(new W("child_added",o.K,o.name))),0<e.length&&t.u&&e.push(new W("value",s)),e},h=Pf.prototype,h.Xa=function(e,t,i,n){var o;if(t.type===Qf)return t.source.$e?this.Fa(e,t.path,t.Oa,i,n):(x(t.source.Ze,"Unknown source."),o=t.source.wf,this.Sa(e,t.path,t.Oa,i,n,o));if(t.type===Rf)return t.source.$e?this.ae(e,t.path,t.children,i,n):(x(t.source.Ze,"Unknown source."),o=t.source.wf,this.$d(e,t.path,t.children,i,n,o));if(t.type===Sf){if(t.sf)e:{var s=t.path;if(Tf(this,e),t=e.u,o=e.X,e.F){x(e.u,"Must have event snap if we have server snap");var r=i.Ya(s,e.u,e.F);if(r){if(t=e.u.L(s,r),!s.e()){o=G(s),t=t.B(o),e=this.Ra(e,o,t,e.F,e.o,i,n);break e}t=this.G(t)}}else if(e.o)e.u?(n=i.Ob())?t=this.G(n):(i=i.Ya(s,e.u,e.o))&&(t=this.G(t.L(s,i))):(x(e.X,"We must at least have complete children"),x(!s.e(),"If the path were empty, we would have an event snap from the set"),(i=i.Ya(s,e.X,e.o))&&(o=e.X.L(s,i),o=this.G(o)));else if(e.u)(i=i.Ob())&&(t=this.G(i));else if(e.X){if(x(!s.e(),"If the path was empty, we would have an event snap"),r=G(s),e.X.Y(r)){e=(t=i.Ib.Ob(i.Gb.k(r)))?this.Ra(e,r,t,e.F,e.o,i,n):this.Ra(e,r,K,e.F,e.o,i,null);break e}x(1<Q(s),"Must be a deep set being reverted")}e=new Uf(e.F,e.o,t,o)}else e=this.Ea(e,t.path,i,n);return e}if(t.type===Vf)return t=t.path,Tf(this,e),this.Sa(e,t,(e.ab()||K).da(t),i,n,!1);throw ib("Unknown operation type: "+t.type)},h.Fa=function(e,t,i,n,o){if(Tf(this,e),t.e())return t=this.G(i),new Uf(e.F,e.o,t,null);var s=X(e)||K,r=G(t);return 1===Q(t)||e.u||s.Y(r)?(i=s.B(G(t)).L(R(t),i),this.Ra(e,G(t),i,e.F,e.o,n,o)):e},h.ae=function(e,t,i,n,o){Tf(this,e);var s=this,r=e;return Xf(i,function(i,a){var l=t.k(i);Yf(e,G(l))&&(r=s.Fa(r,l,a,n,o))}),Xf(i,function(i,a){var l=t.k(i);Yf(e,G(l))||(r=s.Fa(r,l,a,n,o))}),r},h.Ea=function(e,t,i,n){var o,s=e.u,r=e.X;if(Tf(this,e),e.F){x(s,"If we have a server snap, we must have an event snap");var a=i.Ya(t,e.u,e.F);if(a){if(!t.e())return o=G(t),t=s.L(t,a).B(o),this.Ra(e,o,t,e.F,e.o,i,n);s=this.G(a)}}else if(e.o)if(s){var l=!1;e.o.ca(L,function(e,t){l||s.B(e).ja(t)||(l=!0),l&&(s=s.I(e,t))}),l&&(s=this.G(s))}else if(r&&(x(0<Q(t),"If it were an empty path, we would have an event snap"),o=G(t),1===Q(t)||r.Y(o))&&(a=i.Ya(t,r,e.o)))return t=r.L(t,a).B(o),this.Ra(e,o,t,e.F,e.o,i,n);return new Uf(e.F,e.o,s,r)},h.Sa=function(e,t,i,n,o,s){var r;Tf(this,e);var a=e.F,l=e.o;if(e.F)a=t.e()?this.G(i,s):this.G(e.F.L(t,i),s);else if(t.e())a=this.G(i,s),l=null;else if(1!==Q(t)||!e.o&&i.e()){if(e.o&&(r=G(t),e.o.Y(r)))var u=e.o.B(r).L(R(t),i),l=this.G(e.o.I(r,u),s)}else l=e.o||this.Ia(K),l=this.G(l.L(t,i),s);if(r=!1,s=e.u,u=e.X,a!==e.F||l!==e.o)if(a&&!s)s=this.G(n.xa(a)),u=null;else if(a&&s&&!i.e()&&a.da(t).ja(s.da(t)))r=!0;else if(i=n.Ya(t,s,a||l)){if(!t.e()){r=G(t),t=R(t);e:{if(s=r,e.u)u=e.u.B(s);else if(e.X)e.X.Y(s)?u=e.X.B(s):(x(t.e(),"According to precondition, this must be true"),u=K);else{if(t.e()){u=i;break e}x(e.F||e.o,"If we do not have event data, we must have server data"),u=(e.F||e.o).B(s)}u=u.e()&&e.ab()?e.ab().B(s).L(t,i):u.L(t,i)}return this.Ra(e,r,u,a,l,n,o)}s=this.G(i),u=null}else r=!0;return x(!r||s===e.u&&u===e.X,"We thought we could skip diffing, but we changed the eventCache."),new Uf(a,l,s,u)},h.$d=function(e,t,i,n,o,s){if(!e.F&&!e.o&&t.e())return e;Tf(this,e);var r=this,a=e;return Xf(i,function(i,l){var u=t.k(i);Yf(e,G(u))&&(a=r.Sa(a,u,l,n,o,s))}),Xf(i,function(i,l){var u=t.k(i);Yf(e,G(u))||(a=r.Sa(a,u,l,n,o,s))}),a},h.Ra=function(e,t,i,n,o){var s=e.u;return e=e.X,s?s=this.G(s.I(t,i)):(e||(e=this.Ia(K)),e=this.G(e.I(t,i))),new Uf(n,o,s,e)},h.G=function(e){return this.Ia(e)},na(Zf,Pf),Zf.prototype.Ia=function(e){return e.Wd(this.index)},Zf.prototype.Yb=function(e){return e.Yb(this.index)},Zf.prototype.G=function(e,t){if(!1===t)return Zf.oc.G.call(this,e,!1);if(e.P())return this.Ia(K);for(var i=this.Ia(e),n=this.Fb,o=this.pb,s=H(this.index),r=i.Aa(this.index),a=U(r);a&&0<s(n,a);)i=i.I(a.name,K),a=U(r);for(r=i.rb(o,this.index),(a=U(r))&&0>=s(a,o)&&(a=U(r));a;)i=i.I(a.name,K),a=U(r);return i},Zf.prototype.Fa=function(e,t,i,n,o){if(Tf(this,e),1<Q(t)){var s=G(t);if((null!==X(e)?X(e):K).Y(s))return Zf.oc.Fa.call(this,e,t,i,n,o);var r=null!==o?o:e.ab(),r=null!==r&&r.Y(s)?r.B(s):null,r=n.k(s).xa(r);return null!==r?(t=r.L(R(t),i),this.Ra(e,s,t,e.F,e.o,n,o)):e}return Zf.oc.Fa.call(this,e,t,i,n,o)},na($f,Zf),$f.prototype.G=function(e,t){if(!1===t)return $f.oc.G.call(this,e,!1);if(e.P())return this.Ia(K);var i,n,o,s,r=this.Ia(e);if(2*this.bb<e.Ua())for(i=this.Ia(K.ib(e.O())),r=this.Ma?r.Sb(this.pb,this.index):r.rb(this.Fb,this.index),n=U(r),o=0;n&&o<this.bb&&(s=this.Ma?0>=H(this.index)(this.Fb,n):0>=H(this.index)(n,this.pb));)i=i.I(n.name,n.K),o++,n=U(r);else{i=this.Ia(e);var a,l,u=H(this.index);if(this.Ma){r=r.bf(this.index),a=this.pb,l=this.Fb;var c=u,u=function(e,t){return-1*c(e,t)}}else r=r.Aa(this.index),a=this.Fb,l=this.pb;o=0;var h=!1;for(n=U(r);n;)!h&&0>=u(a,n)&&(h=!0),(s=h&&o<this.bb&&0>=u(n,l))?o++:i=i.I(n.name,K),n=U(r)}return i},$f.prototype.Ra=function(e,t,i,n,o,s,r){var a=X(e);return!a||a.Ua()<this.bb?$f.oc.Ra.call(this,e,t,i,n,o,s,r):(t=ag(this,e,t,i,s,r||n))?e.u?new Uf(n,o,t,null):new Uf(n,o,null,t):new Uf(n,o,e.u,e.X)},na(bg,Pf),bg.prototype.Ia=function(e){return e.Wd(this.m)},bg.prototype.Yb=function(e){return e.Yb(this.m)},cg.prototype.Lf=function(e,t){if(null==e.nb||null==t.nb)throw ib("Should only compare child_ events.");return this.m.compare(new I(e.nb,e.Wa),new I(t.nb,t.Wa))},h=gg.prototype,h.ab=function(){return this.ha.ab()},h.za=function(e){var t=this.ha.za();return t&&(wc(this.U.w)||!e.e()&&!t.B(G(e)).e())?t.da(e):null},h.e=function(){return 0===this.ya.length},h.Jb=function(e){this.ya.push(e)},h.hb=function(e,t){var i=[];if(t){x(null==e,"A cancel should cancel all event registrations.");var n=this.U.path;Ja(this.ya,function(e){(e=e.Te(t,n))&&i.push(e)})}if(e){for(var o=[],s=0;s<this.ya.length;++s){var r=this.ya[s];if(r.matches(e)){if(e.cf()){o=o.concat(this.ya.slice(s+1));break}}else o.push(r)}this.ya=o}else this.ya=[];return i},h.Xa=function(e,t,i){e.type===Rf&&null!==e.source.fc&&(x(this.ha.za(),"We should always have a full cache before handling merges"),x(!!this.ha.u,"Missing event cache, even though we have a server cache"));var n=this.ha;return t=this.ec.Xa(n,e,t,i),Tf(this.ec,t),this.ha=t,X(t)!==X(n)?(e=Lf(this.ld,n,t,e.path),n=X(t),dg(this.le,e,n,this.ya)):t.u&&!n.u?(x(X(t)===X(n),"Caches should be the same."),n=X(t),dg(this.le,[new W("value",n)],n,this.ya)):[]},Uf.prototype.ab=function(){return this.F||this.o},Uf.prototype.za=function(){return this.F};var ig=new Uf(null,null,null,null),kg=new Lc(function(e,t){return e===t?0:t>e?-1:1}),lg=new jg(null);h=jg.prototype,h.e=function(){return null===this.value&&this.children.e()},h.subtree=function(e){if(e.e())return this;var t=this.children.get(G(e));return null!==t?t.subtree(R(e)):lg},h.set=function(e,t){if(e.e())return new jg(t,this.children);var i=G(e),n=(this.children.get(i)||lg).set(R(e),t),i=this.children.Ja(i,n);return new jg(this.value,i)},h.remove=function(e){if(e.e())return this.children.e()?lg:new jg(null,this.children);var t=G(e),i=this.children.get(t);return i?(e=i.remove(R(e)),t=e.e()?this.children.remove(t):this.children.Ja(t,e),null===this.value&&t.e()?lg:new jg(this.value,t)):this},h.get=function(e){if(e.e())return this.value;var t=this.children.get(G(e));return t?t.get(R(e)):null},h=yg.prototype,h.e=function(){return Bd(this.qa)},h.Xa=function(e,t,i){var n=e.source.fc;if(null!==n)return n=v(this.qa,n),x(null!=n,"SyncTree gave us an op for an invalid query."),n.Xa(e,t,i);var o=[];return A(this.qa,function(n){o=o.concat(n.Xa(e,t,i))}),o},h.Jb=function(e,t,i,n,o){var s=e.Da(),r=v(this.qa,s);return r||(i=(r=i.xa(n))?null:i.ce(o),n=new Uf(n,o,r,i),r=new gg(e,n),this.qa[s]=r),r.Jb(t),e=r,(s=X(e.ha))?(n=Lf(e.ld,ig,e.ha,S),t=dg(e.le,n,s,t?[t]:e.ya)):t=[],t},h.hb=function(e,t,i){var n=e.Da(),o=[],s=[],r=null!=zg(this);if("default"===n){var a=this;A(this.qa,function(e,n){s=s.concat(e.hb(t,i)),e.e()&&(delete a.qa[n],wc(e.U.w)||o.push(e.U))})}else{var l=v(this.qa,n);l&&(s=s.concat(l.hb(t,i)),l.e()&&(delete this.qa[n],wc(l.U.w)||o.push(l.U)))}return r&&null==zg(this)&&o.push(new O(e.g,e.path)),{mg:o,Pf:s}},h.za=function(e){var t=null;return A(this.qa,function(i){t=t||i.za(e)}),t},h=Cg.prototype,h.Ob=function(e){var t=og(this.V,e);if(t){var i=t.value;return e=T(t.path,e),i.da(e)}return null},h.xa=function(e,t,i,n){var o,s;return i||n?(o=this.V.subtree(e),!n&&o.e()?t:n||null!==t||null!==o.value?(o=Gg(this.ra,function(t){return!(!t.visible&&!n||i&&0<=Ia(i,t.Xd)||!t.path.contains(e)&&!e.contains(t.path))},e),s=t||K,Xf(o,function(e,t){s=s.L(e,t)}),s):null):(o=og(this.V,e))?(t=T(o.path,e),o.value.da(t)):(o=this.V.subtree(e),o.e()?t:t||o.value?(s=t||K,Xf(o,function(e,t){s=s.L(e,t)}),s):null)},h.ce=function(e,t){var i=!1,n=K,o=this.Ob(e);return o?(o.P()||o.ca(L,function(e,t){n=n.I(e,t)}),n):t?(n=t,xg(this.V.subtree(e),function(e,t){n=n.I(e,t)}),n):(xg(this.V.subtree(e),function(e,t){i=!0,n=n.I(e,t)}),i?n:null)},h.Ya=function(e,t,i,n){if(x(i||n,"Either existingEventSnap or existingServerSnap must exist"),e=e.k(t),og(this.V,e))return null;if(e=this.V.subtree(e),e.e())return n.da(t);var o=n.da(t);return Xf(e,function(e,t){o=o.L(e,t)}),o},h.de=function(e,t,i,n,o,s){var r;if(e=this.V.subtree(e),e.value?r=e.value:t&&(r=t,Xf(e,function(e,t){r=r.L(e,t)})),r){for(t=[],r=r.Wd(s),e=H(s),o=o?r.Sb(i,s):r.rb(i,s),s=U(o);s&&t.length<n;)0!==e(s,i)&&t.push(s),s=U(o);return t}return[]},h=Kg.prototype,h.Ob=function(){return this.Ib.Ob(this.Gb)},h.xa=function(e,t,i){return this.Ib.xa(this.Gb,e,t,i)},h.ce=function(e){return this.Ib.ce(this.Gb,e)},h.Ya=function(e,t,i){return this.Ib.Ya(this.Gb,e,t,i)},h.de=function(e,t,i,n,o){return this.Ib.de(this.Gb,e,t,i,n,o)},h.k=function(e){return new Kg(this.Gb.k(e),this.Ib)},Lg.prototype.Mc=function(e){return this.path.e()?new Lg(this.source,S,this.Oa.B(e)):new Lg(this.source,R(this.path),this.Oa)},Mg.prototype.Mc=function(){return this.path.e()?this:new Mg(R(this.path),this.sf)},Og.prototype.Mc=function(){return this.path.e()?new Og(this.source,S):new Og(this.source,R(this.path))},Pg.prototype.Mc=function(e){return this.path.e()?(e=this.children.subtree(new P(e)),e.e()?null:e.value?new Lg(this.source,S,e.value):new Pg(this.source,S,e)):(x(G(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Pg(this.source,R(this.path),this.children))};var Qf=0,Rf=1,Sf=2,Vf=3,Ng=new Qg(!0,!1,null,!1),Rg=new Qg(!1,!0,null,!1);h=Sg.prototype,h.Fa=function(e,t,i,o){var s=this.Bb,r=o;return x(i>s.Ec,"Stacking an older write on top of newer ones"),n(r)||(r=!0),s.ra.push({path:e,Oa:t,Xd:i,visible:r}),r&&(s.V=Ig(s.V,e,t)),s.Ec=i,o?Tg(this,new Lg(Ng,e,t)):[]},h.ae=function(e,t,i){var n=this.Bb;return x(i>n.Ec,"Stacking an older merge on top of newer ones"),n.ra.push({path:e,children:t,Xd:i,visible:!0}),n.V=Jg(n.V,e,t),n.Ec=i,t=mg(t),Tg(this,new Pg(Ng,e,t))},h.Ea=function(e,t){t=t||!1;var i=Dg(this.Bb,e);return null==i?[]:Tg(this,new Mg(i,t))},h.Sa=function(e,t){return Tg(this,new Lg(Rg,e,t))},h.$d=function(e,t){var i=mg(t);return Tg(this,new Pg(Rg,e,i))},h.Jb=function(e,t){var i=e.path,n=null,o=!1;ug(this.ma,i,function(e,t){var s=T(e,i);return n=t.za(s),o=o||null!=zg(t),!n});var s=this.ma.get(i);s?(o=o||null!=zg(s),n=n||s.za(S)):(s=new yg,this.ma=this.ma.set(i,s));var r=null;if(!n){var a=!1,r=K;xg(this.ma.subtree(i),function(e,t){var i=t.za(S);i&&(a=!0,r=r.I(e,i))}),a||(r=null)}var l=null!=Bg(s,e);if(!l&&!wc(e.w)){var u=Yg(e);x(!(u in this.gc),"View does not exist, but we have a tag");var c=Zg++;this.gc[u]=c,this.Zc["_"+c]=u}return u=s.Jb(e,t,new Kg(i,this.Bb),n,r),l||o||(s=Bg(s,e),u=u.concat($g(this,e,s))),u},h.hb=function(e,t,i){var n=e.path,o=this.ma.get(n),s=[];if(o&&("default"===e.Da()||null!=Bg(o,e))){s=o.hb(e,t,i),o.e()&&(this.ma=this.ma.remove(n)),o=s.mg,s=s.Pf,t=-1!==Pa(o,function(e){return wc(e.w)});var r=sg(this.ma,n,function(e,t){return null!=zg(t)});if(t&&!r&&(n=this.ma.subtree(n),!n.e()))for(var n=ah(n),a=0;a<n.length;++a){var l=n[a],u=l.U,l=bh(this,l);this.Fc.Le(u,ch(this,u),l.qd,l.H)}if(!r&&0<o.length&&!i)if(t)this.Fc.Od(e,null);else{var c=this;Ja(o,function(e){e.Da();var t=c.gc[Yg(e)];c.Fc.Od(e,t)})}dh(this,o)}return s},h.xa=function(e,t){var i=this.Bb,n=sg(this.ma,e,function(t,i){var n=T(t,e);return(n=i.za(n))?n:void 0});return i.xa(e,n,t,!0)};var Zg=1;h=gh.prototype,h.toString=function(){return(this.Q.Cb?"https://":"http://")+this.Q.host},h.name=function(){return this.Q.yb},h.Cd=function(e,t,i,n){this.jd++;var o=new P(e);t=this.re?this.re(e,t):t,e=[],n?i?(t=fd(t,function(e){return J(e)}),e=Xg(this.M,o,t,n)):(t=J(t),e=Ug(this.M,o,t,n)):i?(n=fd(t,function(e){return J(e)}),e=this.M.$d(o,n)):(n=J(t),e=this.M.Sa(o,n)),n=o,0<e.length&&(n=kh(this,o)),Xe(this.Z,n,e)},h.Ad=function(e){hh(this,"connected",e),!1===e&&lh(this)},h.Ee=function(e){var t=this;Cb(e,function(e,i){hh(t,i,e)})},h.Be=function(e){hh(this,"authenticated",e)},h.Db=function(e,t,i,n){this.f("set",{path:e.toString(),value:t,Cg:i});var o=jh(this);t=J(t,i);var o=If(t,o),s=this.zd++,o=this.M.Fa(e,o,s,!0);Ue(this.Z,o);var r=this;this.S.put(e.toString(),t.N(!0),function(t,i){var o="ok"===t;o||z("set at "+e+" failed: "+t),o=r.M.Ea(s,!o),Xe(r.Z,e,o),mh(n,t,i)}),o=nh(this,e),kh(this,o),Xe(this.Z,o,[])},h.update=function(e,t,i){this.f("update",{path:e.toString(),value:t});var n=!0,o=jh(this),s={};if(A(t,function(e,t){n=!1;var i=J(e);s[t]=If(i,o)}),n)kb("update() called with empty data.  Don't do anything."),mh(i,"ok");else{var r=this.zd++,a=this.M.ae(e,s,r);Ue(this.Z,a);var l=this;Ke(this.S,e.toString(),t,function(t,n){x("ok"===t||"permission_denied"===t,"merge at "+e+" failed.");var o="ok"===t;o||z("update at "+e+" failed: "+t);var o=l.M.Ea(r,!o),s=e;0<o.length&&(s=kh(l,e)),Xe(l.Z,s,o),mh(i,t,n)}),t=nh(this,e),kh(this,t),Xe(this.Z,e,[])}},h.Ce=function(e,t){var i=this;this.S.Ce(e.toString(),function(n,o){"ok"===n&&Qe(i.ea,e),mh(t,n,o)})},h.tb=function(){this.S.tb()},h.kc=function(){this.S.kc()},h.Me=function(e){if("undefined"!=typeof console){e?(this.Nd||(this.Nd=new Hd(this.Qa)),e=this.Nd.get()):e=this.Qa.get();var t,i=Ma(yd(e),function(e,t){return Math.max(t.length,e)},0);for(t in e)for(var n=(e[t],t.length);i+2>n;n++)t+=" "}},h.Ne=function(e){Gd(this.Qa,e),this.ug.uf[e]=!0},h.f=function(){kb("r:"+this.S.id+":",arguments)},ca(Ah),Ah.prototype.tb=function(){for(var e in this.jc)this.jc[e].tb()},Ah.prototype.interrupt=Ah.prototype.tb,Ah.prototype.kc=function(){for(var e in this.jc)this.jc[e].kc()},Ah.prototype.resume=Ah.prototype.kc,Bh.prototype.cc=function(e){var t,i=this;try{t=ua(e.data)}catch(n){}t&&"request"===t.a&&(ef(window,"message",this.cc),this.Qd=e.origin,this.tc&&setTimeout(function(){i.tc(i.Qd,t.d,function(e,t){i.If=!t,i.tc=void 0,Ch(i,{a:"response",d:e,forceKeepWindowOpen:t})})},0))},Bh.prototype.eg=function(){try{ef(this.sd,"message",this.hf)}catch(e){}this.tc&&(Ch(this,{a:"error",d:"unknown closed window"}),this.tc=void 0);try{window.close()}catch(t){}},Bh.prototype.hf=function(e){if(this.If&&"die"===e.data)try{window.close()}catch(t){}};var Y={Rf:function(){Yd=Pd=!0}};Y.forceLongPolling=Y.Rf,Y.Sf=function(){Zd=!0},Y.forceWebSockets=Y.Sf,Y.rg=function(e,t){e.g.S.Ke=t},Y.setSecurityDebugCallback=Y.rg,Y.Me=function(e,t){e.g.Me(t)},Y.stats=Y.Me,Y.Ne=function(e,t){e.g.Ne(t)},Y.statsIncrementCounter=Y.Ne,Y.jd=function(e){return e.g.jd},Y.dataUpdateCount=Y.jd,Y.Vf=function(e,t){e.g.re=t},Y.interceptServerData=Y.Vf,Y.bg=function(e){new Bh(e)},Y.onPopupOpen=Y.bg,Y.pg=function(e){Ye=e},Y.setAuthenticationServer=Y.pg,Z.prototype.cancel=function(e){D("Firebase.onDisconnect().cancel",0,1,arguments.length),F("Firebase.onDisconnect().cancel",1,e,!0),this.Sc.Ce(this.Ca,e||null)},Z.prototype.cancel=Z.prototype.cancel,Z.prototype.remove=function(e){D("Firebase.onDisconnect().remove",0,1,arguments.length),$b("Firebase.onDisconnect().remove",this.Ca),F("Firebase.onDisconnect().remove",1,e,!0),oh(this.Sc,this.Ca,null,e)},Z.prototype.remove=Z.prototype.remove,Z.prototype.set=function(e,t){D("Firebase.onDisconnect().set",1,2,arguments.length),$b("Firebase.onDisconnect().set",this.Ca),Sb("Firebase.onDisconnect().set",e,!1),F("Firebase.onDisconnect().set",2,t,!0),oh(this.Sc,this.Ca,e,t)},Z.prototype.set=Z.prototype.set,Z.prototype.Db=function(e,t,i){D("Firebase.onDisconnect().setWithPriority",2,3,arguments.length),$b("Firebase.onDisconnect().setWithPriority",this.Ca),Sb("Firebase.onDisconnect().setWithPriority",e,!1),Wb("Firebase.onDisconnect().setWithPriority",2,t),F("Firebase.onDisconnect().setWithPriority",3,i,!0),ph(this.Sc,this.Ca,e,t,i)},Z.prototype.setWithPriority=Z.prototype.Db,Z.prototype.update=function(e,t){if(D("Firebase.onDisconnect().update",1,2,arguments.length),$b("Firebase.onDisconnect().update",this.Ca),ea(e)){for(var i={},n=0;n<e.length;++n)i[""+n]=e[n];e=i,z("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Vb("Firebase.onDisconnect().update",e),F("Firebase.onDisconnect().update",2,t,!0),qh(this.Sc,this.Ca,e,t)},Z.prototype.update=Z.prototype.update;var $={};$.rc=xe,$.DataConnection=$.rc,xe.prototype.tg=function(e,t){this.wa("q",{p:e},t)},$.rc.prototype.simpleListen=$.rc.prototype.tg,xe.prototype.Nf=function(e,t){this.wa("echo",{d:e},t)},$.rc.prototype.echo=$.rc.prototype.Nf,xe.prototype.interrupt=xe.prototype.tb,$.zf=ie,$.RealTimeConnection=$.zf,ie.prototype.sendRequest=ie.prototype.wa,ie.prototype.close=ie.prototype.close,$.Uf=function(e){var t=xe.prototype.put;return xe.prototype.put=function(i,o,s,r){n(r)&&(r=e()),t.call(this,i,o,s,r)},function(){xe.prototype.put=t}},$.hijackHash=$.Uf,$.yf=Ca,$.ConnectionTarget=$.yf,$.Da=function(e){return e.Da()},$.queryIdentifier=$.Da,$.Wf=function(e){return e.g.S.ua},$.listens=$.Wf;var Dh=function(){var e=0,t=[];return function(i){var n=i===e;e=i;for(var o=Array(8),s=7;s>=0;s--)o[s]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(i%64),i=Math.floor(i/64);if(x(0===i,"Cannot push at time == 0"),i=o.join(""),n){for(s=11;s>=0&&63===t[s];s--)t[s]=0;t[s]++}else for(s=0;12>s;s++)t[s]=Math.floor(64*Math.random());for(s=0;12>s;s++)i+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(t[s]);return x(20===i.length,"NextPushId: Length should be 20."),i}}();na(O,M);var Eh=O,Fh=["Firebase"],Gh=aa;Fh[0]in Gh||!Gh.execScript||Gh.execScript("var "+Fh[0]);for(var Hh;Fh.length&&(Hh=Fh.shift());)!Fh.length&&n(Eh)?Gh[Hh]=Eh:Gh=Gh[Hh]?Gh[Hh]:Gh[Hh]={};O.prototype.name=function(){return z("Firebase.name() being deprecated. Please use Firebase.key() instead."),D("Firebase.name",0,0,arguments.length),this.key()},O.prototype.name=O.prototype.name,O.prototype.key=function(){D("Firebase.key",0,0,arguments.length);var e;return this.path.e()?e=null:(e=this.path,e=e.aa<e.n.length?e.n[e.n.length-1]:null),e},O.prototype.key=O.prototype.key,O.prototype.k=function(e){if(D("Firebase.child",1,1,arguments.length),ga(e))e=String(e);else if(!(e instanceof P))if(null===G(this.path)){var t=e;t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Zb("Firebase.child",t)}else Zb("Firebase.child",e);return new O(this.g,this.path.k(e))},O.prototype.child=O.prototype.k,O.prototype.parent=function(){D("Firebase.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new O(this.g,e)},O.prototype.parent=O.prototype.parent,O.prototype.root=function(){D("Firebase.ref",0,0,arguments.length);for(var e=this;null!==e.parent();)e=e.parent();return e},O.prototype.root=O.prototype.root,O.prototype.toString=function(){D("Firebase.toString",0,0,arguments.length);var e;if(null===this.parent())e=this.g.toString();else{e=this.parent().toString()+"/";var t=this.key();e+=encodeURIComponent(String(t))}return e},O.prototype.toString=O.prototype.toString,O.prototype.set=function(e,t){D("Firebase.set",1,2,arguments.length),$b("Firebase.set",this.path),Sb("Firebase.set",e,!1),F("Firebase.set",2,t,!0),this.g.Db(this.path,e,null,t||null)},O.prototype.set=O.prototype.set,O.prototype.update=function(e,t){if(D("Firebase.update",1,2,arguments.length),$b("Firebase.update",this.path),ea(e)){for(var i={},n=0;n<e.length;++n)i[""+n]=e[n];e=i,z("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}if(Vb("Firebase.update",e),F("Firebase.update",2,t,!0),u(e,".priority"))throw Error("update() does not currently support updating .priority.");this.g.update(this.path,e,t||null)},O.prototype.update=O.prototype.update,O.prototype.Db=function(e,t,i){if(D("Firebase.setWithPriority",2,3,arguments.length),$b("Firebase.setWithPriority",this.path),Sb("Firebase.setWithPriority",e,!1),Wb("Firebase.setWithPriority",2,t),F("Firebase.setWithPriority",3,i,!0),".length"===this.key()||".keys"===this.key())throw"Firebase.setWithPriority failed: "+this.key()+" is a read-only object.";this.g.Db(this.path,e,t,i||null)},O.prototype.setWithPriority=O.prototype.Db,O.prototype.remove=function(e){D("Firebase.remove",0,1,arguments.length),$b("Firebase.remove",this.path),F("Firebase.remove",1,e,!0),this.set(null,e)},O.prototype.remove=O.prototype.remove,O.prototype.transaction=function(e,t,i){if(D("Firebase.transaction",1,3,arguments.length),$b("Firebase.transaction",this.path),F("Firebase.transaction",1,e,!1),F("Firebase.transaction",2,t,!0),n(i)&&"boolean"!=typeof i)throw Error(E("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.key()||".keys"===this.key())throw"Firebase.transaction failed: "+this.key()+" is a read-only object.";"undefined"==typeof i&&(i=!0),rh(this.g,this.path,e,t||null,i)},O.prototype.transaction=O.prototype.transaction,O.prototype.qg=function(e,t){D("Firebase.setPriority",1,2,arguments.length),$b("Firebase.setPriority",this.path),Wb("Firebase.setPriority",1,e),F("Firebase.setPriority",2,t,!0),this.g.Db(this.path.k(".priority"),e,null,t)},O.prototype.setPriority=O.prototype.qg,O.prototype.push=function(e,t){D("Firebase.push",0,2,arguments.length),$b("Firebase.push",this.path),Sb("Firebase.push",e,!0),F("Firebase.push",2,t,!0);var i=ih(this.g),i=Dh(i),i=this.k(i);return"undefined"!=typeof e&&null!==e&&i.set(e,t),i},O.prototype.push=O.prototype.push,O.prototype.fb=function(){return $b("Firebase.onDisconnect",this.path),new Z(this.g,this.path)},O.prototype.onDisconnect=O.prototype.fb,O.prototype.T=function(e,t,i){z("FirebaseRef.auth() being deprecated. Please use FirebaseRef.authWithCustomToken() instead."),D("Firebase.auth",1,3,arguments.length),ac("Firebase.auth",e),F("Firebase.auth",2,t,!0),F("Firebase.auth",3,t,!0),zf(this.g.T,e,{},{remember:"none"},t,i)},O.prototype.auth=O.prototype.T,O.prototype.Pe=function(e){D("Firebase.unauth",0,1,arguments.length),F("Firebase.unauth",1,e,!0),Af(this.g.T,e)},O.prototype.unauth=O.prototype.Pe,O.prototype.ne=function(){return D("Firebase.getAuth",0,0,arguments.length),this.g.T.ne()},O.prototype.getAuth=O.prototype.ne,O.prototype.ag=function(e,t){D("Firebase.onAuth",1,2,arguments.length),F("Firebase.onAuth",1,e,!1),Nb("Firebase.onAuth",2,t),this.g.T.zb("auth_status",e,t)},O.prototype.onAuth=O.prototype.ag,O.prototype.Zf=function(e,t){D("Firebase.offAuth",1,2,arguments.length),F("Firebase.offAuth",1,e,!1),Nb("Firebase.offAuth",2,t),this.g.T.bc("auth_status",e,t)},O.prototype.offAuth=O.prototype.Zf,O.prototype.Df=function(e,t,i){D("Firebase.authWithCustomToken",2,3,arguments.length),ac("Firebase.authWithCustomToken",e),F("Firebase.authWithCustomToken",2,t,!1),cc("Firebase.authWithCustomToken",3,i,!0),zf(this.g.T,e,{},i||{},t)},O.prototype.authWithCustomToken=O.prototype.Df,O.prototype.Ef=function(e,t,i){D("Firebase.authWithOAuthPopup",2,3,arguments.length),bc("Firebase.authWithOAuthPopup",1,e),F("Firebase.authWithOAuthPopup",2,t,!1),cc("Firebase.authWithOAuthPopup",3,i,!0),Ef(this.g.T,e,i,t)},O.prototype.authWithOAuthPopup=O.prototype.Ef,O.prototype.Ff=function(e,t,i){D("Firebase.authWithOAuthRedirect",2,3,arguments.length),bc("Firebase.authWithOAuthRedirect",1,e),F("Firebase.authWithOAuthRedirect",2,t,!1),cc("Firebase.authWithOAuthRedirect",3,i,!0);var n=this.g.T;Cf(n);var o=[sf],s=af(i);"anonymous"===e||"firebase"===e?B(t,V("TRANSPORT_UNAVAILABLE")):(Ba.set("redirect_client_options",s.ed),Df(n,o,"/auth/"+e,s,t))},O.prototype.authWithOAuthRedirect=O.prototype.Ff,O.prototype.Gf=function(e,t,i,n){D("Firebase.authWithOAuthToken",3,4,arguments.length),bc("Firebase.authWithOAuthToken",1,e),F("Firebase.authWithOAuthToken",3,i,!1),cc("Firebase.authWithOAuthToken",4,n,!0),p(t)?(bc("Firebase.authWithOAuthToken",2,t),Bf(this.g.T,e+"/token",{access_token:t},n,i)):(cc("Firebase.authWithOAuthToken",2,t,!1),Bf(this.g.T,e+"/token",t,n,i))},O.prototype.authWithOAuthToken=O.prototype.Gf,O.prototype.Cf=function(e,t){D("Firebase.authAnonymously",1,2,arguments.length),F("Firebase.authAnonymously",1,e,!1),cc("Firebase.authAnonymously",2,t,!0),Bf(this.g.T,"anonymous",{},t,e)},O.prototype.authAnonymously=O.prototype.Cf,O.prototype.Hf=function(e,t,i){D("Firebase.authWithPassword",2,3,arguments.length),cc("Firebase.authWithPassword",1,e,!1),dc("Firebase.authWithPassword",e,"email"),dc("Firebase.authWithPassword",e,"password"),F("Firebase.authAnonymously",2,t,!1),cc("Firebase.authAnonymously",3,i,!0),Bf(this.g.T,"password",e,i,t)},O.prototype.authWithPassword=O.prototype.Hf,O.prototype.je=function(e,t){D("Firebase.createUser",2,2,arguments.length),cc("Firebase.createUser",1,e,!1),dc("Firebase.createUser",e,"email"),dc("Firebase.createUser",e,"password"),F("Firebase.createUser",2,t,!1),this.g.T.je(e,t)},O.prototype.createUser=O.prototype.je,O.prototype.Ie=function(e,t){D("Firebase.removeUser",2,2,arguments.length),cc("Firebase.removeUser",1,e,!1),dc("Firebase.removeUser",e,"email"),dc("Firebase.removeUser",e,"password"),F("Firebase.removeUser",2,t,!1),this.g.T.Ie(e,t)},O.prototype.removeUser=O.prototype.Ie,O.prototype.ee=function(e,t){D("Firebase.changePassword",2,2,arguments.length),cc("Firebase.changePassword",1,e,!1),dc("Firebase.changePassword",e,"email"),dc("Firebase.changePassword",e,"oldPassword"),dc("Firebase.changePassword",e,"newPassword"),F("Firebase.changePassword",2,t,!1),this.g.T.ee(e,t)},O.prototype.changePassword=O.prototype.ee,O.prototype.Je=function(e,t){D("Firebase.resetPassword",2,2,arguments.length),cc("Firebase.resetPassword",1,e,!1),dc("Firebase.resetPassword",e,"email"),F("Firebase.resetPassword",2,t,!1),this.g.T.Je(e,t)},O.prototype.resetPassword=O.prototype.Je,O.goOffline=function(){D("Firebase.goOffline",0,0,arguments.length),Ah.Qb().tb()},O.goOnline=function(){D("Firebase.goOnline",0,0,arguments.length),Ah.Qb().kc()},O.enableLogging=qb,O.ServerValue={TIMESTAMP:{".sv":"timestamp"}},O.SDK_VERSION="2.0.6",O.INTERNAL=Y,O.Context=Ah,O.TEST_ACCESS=$}(),define("firebase",function(e){return function(){var t;return t||e.Firebase}}(this)),define("backbonefire",["underscore","backbone"],function(e,t){"use strict";t.Firebase={},t.Firebase._getKey=function(e){return"function"==typeof e.key?e.key():e.name()},t.Firebase._determineAutoSync=function(t,i){var n=Object.getPrototypeOf(t);return e.extend({autoSync:n.hasOwnProperty("autoSync")?n.autoSync:!0},this,i).autoSync},t.Firebase.sync=function(e,i,n){var o=i.toJSON();"read"===e?t.Firebase._readOnce(i.firebase,function(e){var t=e.val();n.success&&n.success(t)},function(e){n.error&&n.error(e)}):"create"===e?t.Firebase._setWithCheck(i.firebase,o,n):"update"===e?t.Firebase._updateWithCheck(i.firebase,o,n):"delete"===e&&t.Firebase._setWithCheck(i.firebase,null,n)},t.Firebase._readOnce=function(e,t){e.once("value",t)},t.Firebase._setToFirebase=function(e,t,i){e.set(t,i)},t.Firebase._updateToFirebase=function(e,t,i){e.update(t,i)},t.Firebase._onCompleteCheck=function(e,t,i){i&&(e&&i.error?i.error(t,e,i):i.success&&i.success(t,null,i))},t.Firebase._setWithCheck=function(e,i,n){t.Firebase._setToFirebase(e,i,function(e){t.Firebase._onCompleteCheck(e,i,n)})},t.Firebase._updateWithCheck=function(e,i,n){t.Firebase._updateToFirebase(e,i,function(e){t.Firebase._onCompleteCheck(e,i,n)})},t.Firebase._throwError=function(e){throw new Error(e)},t.Firebase._determineRef=function(e){switch(typeof e){case"string":return new Firebase(e);case"object":return e;default:t.Firebase._throwError("Invalid type passed to url property")}},t.Firebase._checkId=function(e){var i=e.val();return t.Firebase._isPrimitive(i)&&t.Firebase._throwError("InvalidIdException: Models must have an Id. Note: You may be trying to sync a primitive value (int, string, bool)."),null===i&&(i={}),i.id=t.Firebase._getKey(e),i},t.Firebase._isPrimitive=function(t){return!e.isObject(t)&&null!==t};var i=function(){function e(){this.firebase.on("value",function(e){this._setLocal(e),this.trigger("sync",this,null,null)},this),this._listenLocalChange(function(e){this.firebase.update(e)})}return e.protoype={save:function(){},fetch:function(){},sync:function(e,i,n){"delete"===e?t.Firebase.sync(e,i,n):undefined}},e}(),n=function(){function e(){this._listenLocalChange(function(e){this.set(e,{silent:!0})})}return e.protoype={sync:function(e,i,n){t.Firebase.sync(e,i,n)}},e}();t.Firebase.Model=t.Model.extend({constructor:function(o,s){t.Model.apply(this,arguments);var r=e.result(this,"defaults");switch(this.once("sync",function(){this.set(e.defaults(this.toJSON(),r))}),this.autoSync=t.Firebase._determineAutoSync(this,s),typeof this.url){case"string":this.firebase=t.Firebase._determineRef(this.url);break;case"function":this.firebase=t.Firebase._determineRef(this.url());break;case"object":this.firebase=t.Firebase._determineRef(this.url);break;default:t.Firebase._throwError("url parameter required")}this.autoSync?(e.extend(this,i.protoype),i.apply(this,arguments)):(n.apply(this,arguments),e.extend(this,n.protoype))},_setId:function(e){this.isNew()&&this.set("id",t.Firebase._getKey(e),{silent:!0})
},_setLocal:function(e){var t=this._unsetAttributes(e);this.set(t)},_unsetAttributes:function(i){var n=t.Firebase._checkId(i);if("object"==typeof n&&null!==n){var o=e.difference(e.keys(this.attributes),e.keys(n));e.each(o,e.bind(function(e){this.unset(e)},this))}return this._setId(i),n},_updateModel:function(t){var i=t.changedAttributes();return e.each(t.changed,function(e,t){("undefined"==typeof e||null===e)&&("id"==t?delete i[t]:i[t]=null)}),i},_listenLocalChange:function(t){var i=t?"on":"off";this[i]("change",function(i){var n=this._updateModel(i);e.isFunction(t)&&t.call(this,n)},this)}});var o=function(){function i(){}return i.protoype={create:function(i,n){return i.id=t.Firebase._getKey(this.firebase.push()),n=e.extend({autoSync:!1},n),t.Collection.prototype.create.apply(this,[i,n])},add:function(i,n){return i.id=t.Firebase._getKey(this.firebase.push()),n=e.extend({autoSync:!1},n),t.Collection.prototype.add.apply(this,[i,n])},sync:function(e,i,n){t.Firebase.sync(e,i,n)},fetch:function(t){t=t?e.clone(t):{},void 0===t.parse&&(t.parse=!0);var i=t.success,n=this;return t.success=function(o){var s=[],r=e.keys(o);e.each(r,function(e){s.push(o[e])});var a=t.reset?"reset":"set";n[a](s,t),i&&i(n,s,t),t.autoSync=!1,t.url=this.url,n.trigger("sync",n,s,t)},this.sync("read",this,t)}},i}(),s=function(){function i(){this.firebase.on("child_added",e.bind(this._childAdded,this)),this.firebase.on("child_moved",e.bind(this._childMoved,this)),this.firebase.on("child_changed",e.bind(this._childChanged,this)),this.firebase.on("child_removed",e.bind(this._childRemoved,this)),this.firebase.on("value",e.bind(function(){this.trigger("sync",this,null,null)},this)),this.listenTo(this,"change",this._updateModel,this),this.listenTo(this,"destroy",this._removeModel,this)}return i.protoype={comparator:function(e){return e.id},add:function(t,i){var n=this._parseModels(t);i=i?e.clone(i):{},i.success=e.isFunction(i.success)?i.success:function(){};for(var o=0;o<n.length;o++){var s=n[o];i.silent===!0&&(this._suppressEvent=!0);var r=this.firebase.ref().child(s.id);r.set(s,e.bind(i.success,s))}return n},create:function(t,i){if(i=i?e.clone(i):{},i.wait&&this._log("Wait option provided to create, ignoring."),!t)return!1;var n=this.add([t],i);return n[0]},remove:function(i,n){var o=this._parseModels(i);n=n?e.clone(n):{},n.success=e.isFunction(n.success)?n.success:function(){};for(var s=0;s<o.length;s++){var r=o[s],a=this.firebase.child(r.id);n.silent===!0&&(this._suppressEvent=!0),t.Firebase._setWithCheck(a,null,n)}return o},reset:function(t,i){i=i?e.clone(i):{},this.remove(this.models,{silent:!0});var n=this.add(t,{silent:!0});return i.silent||this.trigger("reset",this,i),n},_log:function(){console&&console.log&&undefined},_parseModels:function(i,n){var o=[],s=!e.isArray(i);i=s?i?[i]:[]:i.slice();for(var r=0;r<i.length;r++){var a=i[r];a.id||(a.id=t.Firebase._getKey(this.firebase.push())),a=t.Collection.prototype._prepareModel.apply(this,[a,n||{}]),a.toJSON&&"function"==typeof a.toJSON&&(a=a.toJSON()),o.push(a)}return o},_childAdded:function(e){var i=t.Firebase._checkId(e);this._suppressEvent===!0?(this._suppressEvent=!1,t.Collection.prototype.add.apply(this,[i],{silent:!0})):t.Collection.prototype.add.apply(this,[i]),this.get(i.id)._remoteAttributes=i},_childMoved:function(e){this._log("_childMoved called with "+e.val())},_childChanged:function(i){var n=t.Firebase._checkId(i),o=e.find(this.models,function(e){return e.id==n.id});if(!o)return this._childAdded(i),void 0;this._preventSync(o,!0),o._remoteAttributes=n;var s=e.difference(e.keys(o.attributes),e.keys(n));e.each(s,function(e){o.unset(e)}),o.set(n),this.trigger("sync",this),this._preventSync(o,!1)},_childRemoved:function(e){var i=t.Firebase._checkId(e);this._suppressEvent===!0?(this._suppressEvent=!1,t.Collection.prototype.remove.apply(this,[i],{silent:!0})):(this.trigger("sync",this),t.Collection.prototype.remove.apply(this,[i]))},_updateModel:function(t){var i,n,o,s;t._remoteChanging||(i=t._remoteAttributes||{},n=t.toJSON(),o=this._compareAttributes(i,n),s=this.firebase.ref().child(t.id),e.has(o,".priority")?this._setWithPriority(s,n):this._updateToFirebase(s,n))},_compareAttributes:function(t,i){var n={},o=e.union(e.keys(t),e.keys(i));return e.each(o,function(o){e.has(i,o)?i[o]!=t[o]&&(n[o]=i[o]):n[o]=null}),n},_setWithPriority:function(e,t){var i=t[".priority"];return delete t[".priority"],e.setWithPriority(t,i),t},_updateToFirebase:function(e,t){e.update(t)},_removeModel:function(i,n,o){o=o?e.clone(o):{},o.success=e.isFunction(o.success)?o.success:function(){};var s=this.firebase.child(i.id);t.Firebase._setWithCheck(s,null,e.bind(o.success,i))},_preventSync:function(e,t){e._remoteChanging=t}},i}();t.Firebase.Collection=t.Collection.extend({constructor:function(i,n){t.Collection.apply(this,arguments);var r=this,a=r.model;switch(this.autoSync=t.Firebase._determineAutoSync(this,n),typeof this.url){case"string":this.firebase=t.Firebase._determineRef(this.url);break;case"function":this.firebase=t.Firebase._determineRef(this.url());break;case"object":this.firebase=t.Firebase._determineRef(this.url);break;default:throw new Error("url parameter required")}this.autoSync?(e.extend(this,s.protoype),s.apply(this,arguments)):(e.extend(this,o.protoype),o.apply(this,arguments)),this.model=function(e,i){var n=new a(e,i);return n.autoSync=!1,n.firebase=r.firebase.child(n.id),n.sync=t.Firebase.sync,n.on("change",function(e){var i=t.Firebase.Model.prototype._updateModel(e);e.set(i,{silent:!0})}),n}}})}),define("app-libraries",["require","jquery","jquerymobile","underscore","backbone","backbonefire"],function(e){"use strict";e("jquery"),e("jquerymobile"),e("underscore"),e("backbone"),e("backbonefire")}),define("core/utils/validator",["require"],function(){"use strict";var e=function(){};return e.prototype.isValidEmail=function(e){return!this.isEmpty(e)&&/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},e}),define("core/views/base",["require","app-libraries","core/utils/validator"],function(e){"use strict";var t=(e("app-libraries"),e("core/utils/validator")),i=Backbone.View.extend({className:"base-view",tagName:"div",events:{swiperight:"openPanel","click a":"directPage"},directPage:function(e){var t=$(e.currentTarget).attr("href");""!=t&&Backbone.history.navigate(t,{trigger:!0})},openPanel:function(){"open"!==$(".ui-page-active").jqmData("panel")&&0==$("[data-role=page]").scrollLeft()&&$("#mypanel").panel("open")},showStatus:function(e){$(".toast-panel").fadeIn(400).html(e);setTimeout(function(){$(".toast-panel").fadeOut(400),window.clearTimeout(this.timer)},2500)}});return i.prototype.initialize=function(){this.initValidators(),this.block({text:"Loading...",textVisible:!0}),this.isReady=!1},i.prototype.showStatus=function(e){$(".toast-panel").fadeIn(400).html(e);setTimeout(function(){$(".toast-panel").fadeOut(400),window.clearTimeout(this.timer)},2500)},i.prototype.initValidators=function(){this.validator=new t},i.prototype.render=function(){throw new Error("Render function not defined")},i.prototype.block=function(e){e=_.extend({theme:"b"},e),this.$el.addClass("ui-disabled"),$.mobile.loading("show",e)},i.prototype.unblock=function(){this.$el.removeClass("ui-disabled"),$.mobile.loading("hide")},i.prototype.addEventListener=function(e,t,i){void 0===i?this.on(e,t,this):this.on(e,t,i)},i.prototype.removeEventListener=function(e,t,i){this.off(e,t,i)},i.prototype.dispatchEvent=function(e){e instanceof Event||"string"==typeof e&&(e=new Event(e)),this.trigger(e.type,e)},i.prototype.ready=function(){this.unblock(),this.isReady=!0;var e=new CustomEvent("ready");this.dispatchEvent(e)},i}),define("app/views/page_account",["require","core/views/base"],function(e){"use strict";var t=e("core/views/base"),i=JST["js/app/views/templates/page_account.html"](),n=t.extend({id:"page_account",events:{"click #signup-btn":"signup","click #startChatButton":"signin","click #forgotPassword":"sendPassword","click #facebook-btn, #show_fb":"signUpFacebook","click #FacebookButton":"signInFacebook"},initialize:function(){this.render()},render:function(){return this.$el.html(i),this.ready(),this},signInFacebook:function(){if(firebase.auth().currentUser)firebase.auth().signOut();else{var e=new firebase.auth.FacebookAuthProvider;firebase.auth().signInWithRedirect(e),firebase.auth().getRedirectResult().then(function(){})}},signUpFacebook:function(){var e=this;$("#name").val(null);var t=new firebase.auth.FacebookAuthProvider;firebase.auth().signInWithRedirect(t),firebase.auth().getRedirectResult().then(function(t){var i=t.user;e.addUserName(i),showStatus("\u8a3b\u518a\u6210\u529f")}).catch(function(e){e.code,e.message,e.email,e.credential})},signup:function(){var e=this,t=$("#email").val(),i=$("#password_1").val();t&&i?firebase.auth().createUserWithEmailAndPassword(t,i).then(function(t){e.showStatus("\u8a3b\u518a\u6210\u529f\uff01"),e.addUserName(t)}).catch(function(t){{var i=t.code;t.message}"auth/invalid-email"==i?e.showStatus("\u4fe1\u7bb1\u8cc7\u6599\u6709\u8aa4"):"auth/weak-password"==i&&e.showStatus("\u5bc6\u78bc\u81f3\u5c11\u516d\u500b\u5b57\u6bcd"),undefined}):e.showStatus("\u8acb\u586b\u6eff\u6b04\u4f4d\uff01")},signin:function(){var e=this;if(firebase.auth().currentUser)firebase.auth().signOut();else{var t=$("#email_2").val(),i=$("#password").val();if(!t||!i)return e.showStatus("\u8acb\u586b\u6eff\u6b04\u4f4d"),void 0;if(i.length<6)return e.showStatus("\u8acb\u8f38\u5165\u6b63\u78ba\u5bc6\u78bc"),void 0;firebase.auth().signInWithEmailAndPassword(t,i).then(function(){}).catch(function(t){{var i=t.code;t.message}"auth/wrong-password"===i?e.showStatus("\u5bc6\u78bc\u4e0d\u7b26"):"auth/invalid-email"==i?e.showStatus("\u4fe1\u7bb1\u8cc7\u6599\u6709\u8aa4"):"auth/user-not-found"==i?e.showStatus("\u6b64\u5e33\u865f\u7121\u8a3b\u518a"):undefined})}},addUserName:function(e){var t=this,i=$("#name").val(),n=$("#nickname").val(),o=new Firebase("https://partsow-c203b.firebaseio.com/users/"+e.uid);o.set({name:i||e.displayName,nickname:n,projects:null},function(e){e?t.showStatus("\u5275\u5efa\u8cc7\u6599\u5931\u6557:"+e):undefined})},sendPassword:function(){var e=this,t=$("#email_2").val();firebase.auth().sendPasswordResetEmail(t).then(function(){e.showStatus("\u91cd\u8a2d\u5bc6\u78bc\u4fe1\u5df2\u5bc4\u51fa\uff01\u8acb\u78ba\u8a8d")}).catch(function(t){{var i=t.code;t.message}"auth/invalid-email"==i?e.showStatus("\u8f38\u5165\u91cd\u8a2d\u5bc6\u78bc\u7684\u4fe1\u7bb1"):"auth/user-not-found"==i&&e.showStatus("\u6b64\u4fe1\u7bb1\u672a\u8a3b\u518a")})}});return n}),define("app/views/page_proj",["require","core/views/base"],function(e){"use strict";var t=e("core/views/base"),i=JST["js/app/views/templates/page_proj.html"],n=t.extend({id:"page_proj",initialize:function(){this.render()},render:function(){return this.$el.html(i),this.ready(),this}});return n}),define("core/utils/firebaseProvider",["require","firebase"],function(e){"use strict";function t(){return o}function i(){return s}var n=e("firebase"),o="https://partsow-c203b.firebaseio.com",s=new n(o);return{getFirebaseObject:i,getFirebaseUrl:t}}),define("core/models/base",["require","core/utils/firebaseProvider","backbone"],function(e){"use strict";var t=e("core/utils/firebaseProvider"),i=e("backbone"),n=i.Model.extend({});return n.prototype.initialize=function(){this.firebaseReference=t.getFirebaseObject()},n}),define("app/modelLess",["require","core/utils/firebaseProvider","core/models/base"],function(e){"use strict";var t=(e("core/utils/firebaseProvider"),e("core/models/base")),i=t.extend({defaults:{category:"undetermind",project_id:"undetermind",title:"No title",remaining:"None",completed:!1,imgURL:"none"}});return i}),define("app/views/singleCato",["require","app-libraries","app/modelLess"],function(e){"use strict";var t=(e("app-libraries"),e("app/modelLess")),i=JST["js/app/views/templates/singleCato.html"],n=Backbone.View.extend({tagName:"div",className:"block block1",model:t,template:i,initialize:function(){this.render(),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"destroy",this.remove),this.listenTo(this.model,"visible",this.toggleVisible)},events:{"click a":"directPage"},directPage:function(e){var t=$(e.currentTarget).attr("href");""!=t&&Backbone.history.navigate(t,{trigger:!0})},render:function(){return this.$el.html(this.template(this.model.toJSON())),this.toggleVisible(),this},toggleVisible:function(){this.$el.find("p").toggleClass("hidden",this.isHidden())},isHidden:function(){var e=this.model.get("completed");return e}});return n}),!function(e){"use strict";"function"==typeof define&&define.amd?define("slick",["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";var t=window.Slick||{};t=function(){function t(t,n){var o,s,r=this;if(r.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:e(t),appendDots:e(t),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return'<button type="button" data-role="none">'+(t+1)+"</button>"},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",onBeforeChange:null,onAfterChange:null,onInit:null,onReInit:null,onSetPosition:null,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rtl:!1,slide:"div",slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0},r.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1},e.extend(r,r.initials),r.activeBreakpoint=null,r.animType=null,r.animProp=null,r.breakpoints=[],r.breakpointSettings=[],r.cssTransitions=!1,r.paused=!1,r.positionProp=null,r.respondTo=null,r.shouldClick=!0,r.$slider=e(t),r.$slidesCache=null,r.transformType=null,r.transitionType=null,r.windowWidth=0,r.windowTimer=null,r.options=e.extend({},r.defaults,n),r.currentSlide=r.options.initialSlide,r.originalSettings=r.options,o=r.options.responsive||null,o&&o.length>-1){r.respondTo=r.options.respondTo||"window";for(s in o)o.hasOwnProperty(s)&&(r.breakpoints.push(o[s].breakpoint),r.breakpointSettings[o[s].breakpoint]=o[s].settings);r.breakpoints.sort(function(e,t){return t-e})}r.autoPlay=e.proxy(r.autoPlay,r),r.autoPlayClear=e.proxy(r.autoPlayClear,r),r.changeSlide=e.proxy(r.changeSlide,r),r.clickHandler=e.proxy(r.clickHandler,r),r.selectHandler=e.proxy(r.selectHandler,r),r.setPosition=e.proxy(r.setPosition,r),r.swipeHandler=e.proxy(r.swipeHandler,r),r.dragHandler=e.proxy(r.dragHandler,r),r.keyHandler=e.proxy(r.keyHandler,r),r.autoPlayIterator=e.proxy(r.autoPlayIterator,r),r.instanceUid=i++,r.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,r.init(),r.checkResponsive()}var i=0;return t}(),t.prototype.addSlide=function(t,i,n){var o=this;if("boolean"==typeof i)n=i,i=null;else if(0>i||i>=o.slideCount)return!1;o.unload(),"number"==typeof i?0===i&&0===o.$slides.length?e(t).appendTo(o.$slideTrack):n?e(t).insertBefore(o.$slides.eq(i)):e(t).insertAfter(o.$slides.eq(i)):n===!0?e(t).prependTo(o.$slideTrack):e(t).appendTo(o.$slideTrack),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slides.each(function(t,i){e(i).attr("index",t)}),o.$slidesCache=o.$slides,o.reinit()},t.prototype.animateSlide=function(t,i){var n={},o=this;if(1===o.options.slidesToShow&&o.options.adaptiveHeight===!0&&o.options.vertical===!1){var s=o.$slides.eq(o.currentSlide).outerHeight(!0);o.$list.animate({height:s},o.options.speed)}o.options.rtl===!0&&o.options.vertical===!1&&(t=-t),o.transformsEnabled===!1?o.options.vertical===!1?o.$slideTrack.animate({left:t},o.options.speed,o.options.easing,i):o.$slideTrack.animate({top:t},o.options.speed,o.options.easing,i):o.cssTransitions===!1?e({animStart:o.currentLeft}).animate({animStart:t},{duration:o.options.speed,easing:o.options.easing,step:function(e){o.options.vertical===!1?(n[o.animType]="translate("+e+"px, 0px)",o.$slideTrack.css(n)):(n[o.animType]="translate(0px,"+e+"px)",o.$slideTrack.css(n))},complete:function(){i&&i.call()}}):(o.applyTransition(),n[o.animType]=o.options.vertical===!1?"translate3d("+t+"px, 0px, 0px)":"translate3d(0px,"+t+"px, 0px)",o.$slideTrack.css(n),i&&setTimeout(function(){o.disableTransition(),i.call()},o.options.speed))},t.prototype.asNavFor=function(t){var i=this,n=null!=i.options.asNavFor?e(i.options.asNavFor).getSlick():null;null!=n&&n.slideHandler(t,!0)},t.prototype.applyTransition=function(e){var t=this,i={};i[t.transitionType]=t.options.fade===!1?t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:"opacity "+t.options.speed+"ms "+t.options.cssEase,t.options.fade===!1?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.autoPlay=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer),e.slideCount>e.options.slidesToShow&&e.paused!==!0&&(e.autoPlayTimer=setInterval(e.autoPlayIterator,e.options.autoplaySpeed))},t.prototype.autoPlayClear=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer)},t.prototype.autoPlayIterator=function(){var e=this;e.options.infinite===!1?1===e.direction?(e.currentSlide+1===e.slideCount-1&&(e.direction=0),e.slideHandler(e.currentSlide+e.options.slidesToScroll)):(0===e.currentSlide-1&&(e.direction=1),e.slideHandler(e.currentSlide-e.options.slidesToScroll)):e.slideHandler(e.currentSlide+e.options.slidesToScroll)},t.prototype.buildArrows=function(){var t=this;t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow=e(t.options.prevArrow),t.$nextArrow=e(t.options.nextArrow),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.appendTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),t.options.infinite!==!0&&t.$prevArrow.addClass("slick-disabled"))},t.prototype.buildDots=function(){var t,i,n=this;if(n.options.dots===!0&&n.slideCount>n.options.slidesToShow){for(i='<ul class="'+n.options.dotsClass+'">',t=0;t<=n.getDotCount();t+=1)i+="<li>"+n.options.customPaging.call(this,n,t)+"</li>";i+="</ul>",n.$dots=e(i).appendTo(n.options.appendDots),n.$dots.find("li").first().addClass("slick-active")}},t.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide"),t.slideCount=t.$slides.length,t.$slides.each(function(t,i){e(i).attr("index",t)}),t.$slidesCache=t.$slides,t.$slider.addClass("slick-slider"),t.$slideTrack=0===t.slideCount?e('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent(),t.$list=t.$slideTrack.wrap('<div class="slick-list"/>').parent(),t.$slideTrack.css("opacity",0),t.options.centerMode===!0&&(t.options.slidesToScroll=1),e("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading"),t.setupInfinite(),t.buildArrows(),t.buildDots(),t.updateDots(),t.options.accessibility===!0&&t.$list.prop("tabIndex",0),t.setSlideClasses("number"==typeof this.currentSlide?this.currentSlide:0),t.options.draggable===!0&&t.$list.addClass("draggable")},t.prototype.checkResponsive=function(){var t,i,n,o=this,s=o.$slider.width(),r=window.innerWidth||e(window).width();if("window"===o.respondTo?n=r:"slider"===o.respondTo?n=s:"min"===o.respondTo&&(n=Math.min(r,s)),o.originalSettings.responsive&&o.originalSettings.responsive.length>-1&&null!==o.originalSettings.responsive){i=null;for(t in o.breakpoints)o.breakpoints.hasOwnProperty(t)&&n<o.breakpoints[t]&&(i=o.breakpoints[t]);null!==i?null!==o.activeBreakpoint?i!==o.activeBreakpoint&&(o.activeBreakpoint=i,o.options=e.extend({},o.originalSettings,o.breakpointSettings[i]),o.refresh()):(o.activeBreakpoint=i,o.options=e.extend({},o.originalSettings,o.breakpointSettings[i]),o.refresh()):null!==o.activeBreakpoint&&(o.activeBreakpoint=null,o.options=o.originalSettings,o.refresh())}},t.prototype.changeSlide=function(t,i){var n,o,s,r,a,l=this,u=e(t.target);switch(u.is("a")&&t.preventDefault(),s=0!==l.slideCount%l.options.slidesToScroll,n=s?0:(l.slideCount-l.currentSlide)%l.options.slidesToScroll,t.data.message){case"previous":o=0===n?l.options.slidesToScroll:l.options.slidesToShow-n,l.slideCount>l.options.slidesToShow&&l.slideHandler(l.currentSlide-o,!1,i);break;case"next":o=0===n?l.options.slidesToScroll:n,l.slideCount>l.options.slidesToShow&&l.slideHandler(l.currentSlide+o,!1,i);break;case"index":var c=0===t.data.index?0:t.data.index||e(t.target).parent().index()*l.options.slidesToScroll;if(r=l.getNavigableIndexes(),a=0,-1===r.indexOf(c))if(c>r[r.length-1])c=r[r.length-1];else for(var h in r){if(c<r[h]){c=a;break}a=r[h]}l.slideHandler(c,!1,i);default:return}},t.prototype.clickHandler=function(e){var t=this;t.shouldClick===!1&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())},t.prototype.destroy=function(){var t=this;t.autoPlayClear(),t.touchObject={},e(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&"object"!=typeof t.options.prevArrow&&t.$prevArrow.remove(),t.$nextArrow&&"object"!=typeof t.options.nextArrow&&t.$nextArrow.remove(),t.$slides.parent().hasClass("slick-track")&&t.$slides.unwrap().unwrap(),t.$slides.removeClass("slick-slide slick-active slick-center slick-visible").removeAttr("index").css({position:"",left:"",top:"",zIndex:"",opacity:"",width:""}),t.$slider.removeClass("slick-slider"),t.$slider.removeClass("slick-initialized"),t.$list.off(".slick"),e(window).off(".slick-"+t.instanceUid),e(document).off(".slick-"+t.instanceUid)},t.prototype.disableTransition=function(e){var t=this,i={};i[t.transitionType]="",t.options.fade===!1?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.fadeSlide=function(e,t,i){var n=this;n.cssTransitions===!1?(n.$slides.eq(t).css({zIndex:1e3}),n.$slides.eq(t).animate({opacity:1},n.options.speed,n.options.easing,i),n.$slides.eq(e).animate({opacity:0},n.options.speed,n.options.easing)):(n.applyTransition(t),n.applyTransition(e),n.$slides.eq(t).css({opacity:1,zIndex:1e3}),n.$slides.eq(e).css({opacity:0}),i&&setTimeout(function(){n.disableTransition(t),n.disableTransition(e),i.call()},n.options.speed))},t.prototype.filterSlides=function(e){var t=this;null!==e&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(e).appendTo(t.$slideTrack),t.reinit())},t.prototype.getCurrent=function(){var e=this;return e.currentSlide},t.prototype.getDotCount=function(){var e=this,t=0,i=0,n=0;if(e.options.infinite===!0)n=Math.ceil(e.slideCount/e.options.slidesToScroll);else for(;t<e.slideCount;)++n,t=i+e.options.slidesToShow,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return n-1},t.prototype.getLeft=function(e){var t,i,n,o=this,s=0;return o.slideOffset=0,i=o.$slides.first().outerHeight(),o.options.infinite===!0?(o.slideCount>o.options.slidesToShow&&(o.slideOffset=-1*o.slideWidth*o.options.slidesToShow,s=-1*i*o.options.slidesToShow),0!==o.slideCount%o.options.slidesToScroll&&e+o.options.slidesToScroll>o.slideCount&&o.slideCount>o.options.slidesToShow&&(e>o.slideCount?(o.slideOffset=-1*(o.options.slidesToShow-(e-o.slideCount))*o.slideWidth,s=-1*(o.options.slidesToShow-(e-o.slideCount))*i):(o.slideOffset=-1*o.slideCount%o.options.slidesToScroll*o.slideWidth,s=-1*o.slideCount%o.options.slidesToScroll*i))):e+o.options.slidesToShow>o.slideCount&&(o.slideOffset=(e+o.options.slidesToShow-o.slideCount)*o.slideWidth,s=(e+o.options.slidesToShow-o.slideCount)*i),o.slideCount<=o.options.slidesToShow&&(o.slideOffset=0,s=0),o.options.centerMode===!0&&o.options.infinite===!0?o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)-o.slideWidth:o.options.centerMode===!0&&(o.slideOffset=0,o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)),t=o.options.vertical===!1?-1*e*o.slideWidth+o.slideOffset:-1*e*i+s,o.options.variableWidth===!0&&(n=o.slideCount<=o.options.slidesToShow||o.options.infinite===!1?o.$slideTrack.children(".slick-slide").eq(e):o.$slideTrack.children(".slick-slide").eq(e+o.options.slidesToShow),t=n[0]?-1*n[0].offsetLeft:0,o.options.centerMode===!0&&(n=o.options.infinite===!1?o.$slideTrack.children(".slick-slide").eq(e):o.$slideTrack.children(".slick-slide").eq(e+o.options.slidesToShow+1),t=n[0]?-1*n[0].offsetLeft:0,t+=(o.$list.width()-n.outerWidth())/2)),t},t.prototype.getNavigableIndexes=function(){for(var e=this,t=0,i=0,n=[];t<e.slideCount;)n.push(t),t=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return n},t.prototype.getSlideCount=function(){var t,i=this;if(i.options.swipeToSlide===!0){var n=null;return i.$slideTrack.find(".slick-slide").each(function(t,o){return o.offsetLeft+e(o).outerWidth()/2>-1*i.swipeLeft?(n=o,!1):void 0}),t=Math.abs(e(n).attr("index")-i.currentSlide)}return i.options.slidesToScroll},t.prototype.init=function(){var t=this;e(t.$slider).hasClass("slick-initialized")||(e(t.$slider).addClass("slick-initialized"),t.buildOut(),t.setProps(),t.startLoad(),t.loadSlider(),t.initializeEvents(),t.updateArrows(),t.updateDots()),null!==t.options.onInit&&t.options.onInit.call(this,t)},t.prototype.initArrowEvents=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.on("click.slick",{message:"next"},e.changeSlide))},t.prototype.initDotEvents=function(){var t=this;t.options.dots===!0&&t.slideCount>t.options.slidesToShow&&e("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide),t.options.dots===!0&&t.options.pauseOnDotsHover===!0&&t.options.autoplay===!0&&e("li",t.$dots).on("mouseenter.slick",function(){t.paused=!0,t.autoPlayClear()}).on("mouseleave.slick",function(){t.paused=!1,t.autoPlay()})},t.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),t.$list.on("click.slick",t.clickHandler),t.options.pauseOnHover===!0&&t.options.autoplay===!0&&(t.$list.on("mouseenter.slick",function(){t.paused=!0,t.autoPlayClear()}),t.$list.on("mouseleave.slick",function(){t.paused=!1,t.autoPlay()})),t.options.accessibility===!0&&t.$list.on("keydown.slick",t.keyHandler),t.options.focusOnSelect===!0&&e(t.options.slide,t.$slideTrack).on("click.slick",t.selectHandler),e(window).on("orientationchange.slick.slick-"+t.instanceUid,function(){t.checkResponsive(),t.setPosition()}),e(window).on("resize.slick.slick-"+t.instanceUid,function(){e(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=e(window).width(),t.checkResponsive(),t.setPosition()},50))}),e("*[draggable!=true]",t.$slideTrack).on("dragstart",function(e){e.preventDefault()}),e(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),e(document).on("ready.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.initUI=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.show(),e.$nextArrow.show()),e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&e.$dots.show(),e.options.autoplay===!0&&e.autoPlay()},t.prototype.keyHandler=function(e){var t=this;37===e.keyCode&&t.options.accessibility===!0?t.changeSlide({data:{message:"previous"}}):39===e.keyCode&&t.options.accessibility===!0&&t.changeSlide({data:{message:"next"}})},t.prototype.lazyLoad=function(){function t(t){e("img[data-lazy]",t).each(function(){var t=e(this),i=e(this).attr("data-lazy");t.load(function(){t.animate({opacity:1},200)}).css({opacity:0}).attr("src",i).removeAttr("data-lazy").removeClass("slick-loading")})}var i,n,o,s,r=this;r.options.centerMode===!0?r.options.infinite===!0?(o=r.currentSlide+(r.options.slidesToShow/2+1),s=o+r.options.slidesToShow+2):(o=Math.max(0,r.currentSlide-(r.options.slidesToShow/2+1)),s=2+(r.options.slidesToShow/2+1)+r.currentSlide):(o=r.options.infinite?r.options.slidesToShow+r.currentSlide:r.currentSlide,s=o+r.options.slidesToShow,r.options.fade===!0&&(o>0&&o--,s<=r.slideCount&&s++)),i=r.$slider.find(".slick-slide").slice(o,s),t(i),r.slideCount<=r.options.slidesToShow?(n=r.$slider.find(".slick-slide"),t(n)):r.currentSlide>=r.slideCount-r.options.slidesToShow?(n=r.$slider.find(".slick-cloned").slice(0,r.options.slidesToShow),t(n)):0===r.currentSlide&&(n=r.$slider.find(".slick-cloned").slice(-1*r.options.slidesToShow),t(n))},t.prototype.loadSlider=function(){var e=this;e.setPosition(),e.$slideTrack.css({opacity:1}),e.$slider.removeClass("slick-loading"),e.initUI(),"progressive"===e.options.lazyLoad&&e.progressiveLazyLoad()},t.prototype.postSlide=function(e){var t=this;null!==t.options.onAfterChange&&t.options.onAfterChange.call(this,t,e),t.animating=!1,t.setPosition(),t.swipeLeft=null,t.options.autoplay===!0&&t.paused===!1&&t.autoPlay()},t.prototype.progressiveLazyLoad=function(){var t,i,n=this;t=e("img[data-lazy]",n.$slider).length,t>0&&(i=e("img[data-lazy]",n.$slider).first(),i.attr("src",i.attr("data-lazy")).removeClass("slick-loading").load(function(){i.removeAttr("data-lazy"),n.progressiveLazyLoad()}).error(function(){i.removeAttr("data-lazy"),n.progressiveLazyLoad()}))},t.prototype.refresh=function(){var t=this,i=t.currentSlide;t.destroy(),e.extend(t,t.initials),t.init(),t.changeSlide({data:{message:"index",index:i}},!0)},t.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&0!==t.currentSlide&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),t.options.focusOnSelect===!0&&e(t.options.slide,t.$slideTrack).on("click.slick",t.selectHandler),t.setSlideClasses(0),t.setPosition(),null!==t.options.onReInit&&t.options.onReInit.call(this,t)},t.prototype.removeSlide=function(e,t,i){var n=this;return"boolean"==typeof e?(t=e,e=t===!0?0:n.slideCount-1):e=t===!0?--e:e,n.slideCount<1||0>e||e>n.slideCount-1?!1:(n.unload(),i===!0?n.$slideTrack.children().remove():n.$slideTrack.children(this.options.slide).eq(e).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,n.reinit(),void 0)},t.prototype.setCSS=function(e){var t,i,n=this,o={};n.options.rtl===!0&&(e=-e),t="left"==n.positionProp?e+"px":"0px",i="top"==n.positionProp?e+"px":"0px",o[n.positionProp]=e,n.transformsEnabled===!1?n.$slideTrack.css(o):(o={},n.cssTransitions===!1?(o[n.animType]="translate("+t+", "+i+")",n.$slideTrack.css(o)):(o[n.animType]="translate3d("+t+", "+i+", 0px)",n.$slideTrack.css(o)))},t.prototype.setDimensions=function(){var t=this;if(t.options.vertical===!1?t.options.centerMode===!0&&t.$list.css({padding:"0px "+t.options.centerPadding}):(t.$list.height(t.$slides.first().outerHeight(!0)*t.options.slidesToShow),t.options.centerMode===!0&&t.$list.css({padding:t.options.centerPadding+" 0px"})),t.listWidth=t.$list.width(),t.listHeight=t.$list.height(),t.options.vertical===!1&&t.options.variableWidth===!1)t.slideWidth=Math.ceil(t.listWidth/t.options.slidesToShow),t.$slideTrack.width(Math.ceil(t.slideWidth*t.$slideTrack.children(".slick-slide").length));
else if(t.options.variableWidth===!0){var i=0;t.slideWidth=Math.ceil(t.listWidth/t.options.slidesToShow),t.$slideTrack.children(".slick-slide").each(function(){i+=Math.ceil(e(this).outerWidth(!0))}),t.$slideTrack.width(Math.ceil(i)+1)}else t.slideWidth=Math.ceil(t.listWidth),t.$slideTrack.height(Math.ceil(t.$slides.first().outerHeight(!0)*t.$slideTrack.children(".slick-slide").length));var n=t.$slides.first().outerWidth(!0)-t.$slides.first().width();t.options.variableWidth===!1&&t.$slideTrack.children(".slick-slide").width(t.slideWidth-n)},t.prototype.setFade=function(){var t,i=this;i.$slides.each(function(n,o){t=-1*i.slideWidth*n,i.options.rtl===!0?e(o).css({position:"relative",right:t,top:0,zIndex:800,opacity:0}):e(o).css({position:"relative",left:t,top:0,zIndex:800,opacity:0})}),i.$slides.eq(i.currentSlide).css({zIndex:900,opacity:1})},t.prototype.setHeight=function(){var e=this;if(1===e.options.slidesToShow&&e.options.adaptiveHeight===!0&&e.options.vertical===!1){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.css("height",t)}},t.prototype.setPosition=function(){var e=this;e.setDimensions(),e.setHeight(),e.options.fade===!1?e.setCSS(e.getLeft(e.currentSlide)):e.setFade(),null!==e.options.onSetPosition&&e.options.onSetPosition.call(this,e)},t.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=e.options.vertical===!0?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),(void 0!==t.WebkitTransition||void 0!==t.MozTransition||void 0!==t.msTransition)&&e.options.useCSS===!0&&(e.cssTransitions=!0),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&e.animType!==!1&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=null!==e.animType&&e.animType!==!1},t.prototype.setSlideClasses=function(e){var t,i,n,o,s=this;s.$slider.find(".slick-slide").removeClass("slick-active").removeClass("slick-center"),i=s.$slider.find(".slick-slide"),s.options.centerMode===!0?(t=Math.floor(s.options.slidesToShow/2),s.options.infinite===!0&&(e>=t&&e<=s.slideCount-1-t?s.$slides.slice(e-t,e+t+1).addClass("slick-active"):(n=s.options.slidesToShow+e,i.slice(n-t+1,n+t+2).addClass("slick-active")),0===e?i.eq(i.length-1-s.options.slidesToShow).addClass("slick-center"):e===s.slideCount-1&&i.eq(s.options.slidesToShow).addClass("slick-center")),s.$slides.eq(e).addClass("slick-center")):e>=0&&e<=s.slideCount-s.options.slidesToShow?s.$slides.slice(e,e+s.options.slidesToShow).addClass("slick-active"):i.length<=s.options.slidesToShow?i.addClass("slick-active"):(o=s.slideCount%s.options.slidesToShow,n=s.options.infinite===!0?s.options.slidesToShow+e:e,s.options.slidesToShow==s.options.slidesToScroll&&s.slideCount-e<s.options.slidesToShow?i.slice(n-(s.options.slidesToShow-o),n+o).addClass("slick-active"):i.slice(n,n+s.options.slidesToShow).addClass("slick-active")),"ondemand"===s.options.lazyLoad&&s.lazyLoad()},t.prototype.setupInfinite=function(){var t,i,n,o=this;if(o.options.fade===!0&&(o.options.centerMode=!1),o.options.infinite===!0&&o.options.fade===!1&&(i=null,o.slideCount>o.options.slidesToShow)){for(n=o.options.centerMode===!0?o.options.slidesToShow+1:o.options.slidesToShow,t=o.slideCount;t>o.slideCount-n;t-=1)i=t-1,e(o.$slides[i]).clone(!0).attr("id","").attr("index",i-o.slideCount).prependTo(o.$slideTrack).addClass("slick-cloned");for(t=0;n>t;t+=1)i=t,e(o.$slides[i]).clone(!0).attr("id","").attr("index",i+o.slideCount).appendTo(o.$slideTrack).addClass("slick-cloned");o.$slideTrack.find(".slick-cloned").find("[id]").each(function(){e(this).attr("id","")})}},t.prototype.selectHandler=function(t){var i=this,n=parseInt(e(t.target).parents(".slick-slide").attr("index"));return n||(n=0),i.slideCount<=i.options.slidesToShow?(i.$slider.find(".slick-slide").removeClass("slick-active"),i.$slides.eq(n).addClass("slick-active"),i.options.centerMode===!0&&(i.$slider.find(".slick-slide").removeClass("slick-center"),i.$slides.eq(n).addClass("slick-center")),i.asNavFor(n),void 0):(i.slideHandler(n),void 0)},t.prototype.slideHandler=function(e,t,i){var n,o,s,r,a=null,l=this;return t=t||!1,l.animating===!0&&l.options.waitForAnimate===!0||l.options.fade===!0&&l.currentSlide===e||l.slideCount<=l.options.slidesToShow?void 0:(t===!1&&l.asNavFor(e),n=e,a=l.getLeft(n),r=l.getLeft(l.currentSlide),l.currentLeft=null===l.swipeLeft?r:l.swipeLeft,l.options.infinite===!1&&l.options.centerMode===!1&&(0>e||e>l.getDotCount()*l.options.slidesToScroll)?(l.options.fade===!1&&(n=l.currentSlide,i!==!0?l.animateSlide(r,function(){l.postSlide(n)}):l.postSlide(n)),void 0):l.options.infinite===!1&&l.options.centerMode===!0&&(0>e||e>l.slideCount-l.options.slidesToScroll)?(l.options.fade===!1&&(n=l.currentSlide,i!==!0?l.animateSlide(r,function(){l.postSlide(n)}):l.postSlide(n)),void 0):(l.options.autoplay===!0&&clearInterval(l.autoPlayTimer),o=0>n?0!==l.slideCount%l.options.slidesToScroll?l.slideCount-l.slideCount%l.options.slidesToScroll:l.slideCount+n:n>=l.slideCount?0!==l.slideCount%l.options.slidesToScroll?0:n-l.slideCount:n,l.animating=!0,null!==l.options.onBeforeChange&&e!==l.currentSlide&&l.options.onBeforeChange.call(this,l,l.currentSlide,o),s=l.currentSlide,l.currentSlide=o,l.setSlideClasses(l.currentSlide),l.updateDots(),l.updateArrows(),l.options.fade===!0?(i!==!0?l.fadeSlide(s,o,function(){l.postSlide(o)}):l.postSlide(o),void 0):(i!==!0?l.animateSlide(a,function(){l.postSlide(o)}):l.postSlide(o),void 0)))},t.prototype.startLoad=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},t.prototype.swipeDirection=function(){var e,t,i,n,o=this;return e=o.touchObject.startX-o.touchObject.curX,t=o.touchObject.startY-o.touchObject.curY,i=Math.atan2(t,e),n=Math.round(180*i/Math.PI),0>n&&(n=360-Math.abs(n)),45>=n&&n>=0?o.options.rtl===!1?"left":"right":360>=n&&n>=315?o.options.rtl===!1?"left":"right":n>=135&&225>=n?o.options.rtl===!1?"right":"left":"vertical"},t.prototype.swipeEnd=function(){var e=this;if(e.dragging=!1,e.shouldClick=e.touchObject.swipeLength>10?!1:!0,void 0===e.touchObject.curX)return!1;if(e.touchObject.swipeLength>=e.touchObject.minSwipe)switch(e.swipeDirection()){case"left":e.slideHandler(e.currentSlide+e.getSlideCount()),e.currentDirection=0,e.touchObject={};break;case"right":e.slideHandler(e.currentSlide-e.getSlideCount()),e.currentDirection=1,e.touchObject={}}else e.touchObject.startX!==e.touchObject.curX&&(e.slideHandler(e.currentSlide),e.touchObject={})},t.prototype.swipeHandler=function(e){var t=this;if(!(t.options.swipe===!1||"ontouchend"in document&&t.options.swipe===!1||t.options.draggable===!1&&-1!==e.type.indexOf("mouse")))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},t.prototype.swipeMove=function(e){var t,i,n,o,s=this;return o=void 0!==e.originalEvent?e.originalEvent.touches:null,!s.dragging||o&&1!==o.length?!1:(t=s.getLeft(s.currentSlide),s.touchObject.curX=void 0!==o?o[0].pageX:e.clientX,s.touchObject.curY=void 0!==o?o[0].pageY:e.clientY,s.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(s.touchObject.curX-s.touchObject.startX,2))),i=s.swipeDirection(),"vertical"!==i?(void 0!==e.originalEvent&&s.touchObject.swipeLength>4&&e.preventDefault(),n=(s.options.rtl===!1?1:-1)*(s.touchObject.curX>s.touchObject.startX?1:-1),s.swipeLeft=s.options.vertical===!1?t+s.touchObject.swipeLength*n:t+s.touchObject.swipeLength*(s.$list.height()/s.listWidth)*n,s.options.fade===!0||s.options.touchMove===!1?!1:s.animating===!0?(s.swipeLeft=null,!1):(s.setCSS(s.swipeLeft),void 0)):void 0)},t.prototype.swipeStart=function(e){var t,i=this;return 1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow?(i.touchObject={},!1):(void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==t?t.pageX:e.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==t?t.pageY:e.clientY,i.dragging=!0,void 0)},t.prototype.unfilterSlides=function(){var e=this;null!==e.$slidesCache&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.appendTo(e.$slideTrack),e.reinit())},t.prototype.unload=function(){var t=this;e(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&"object"!=typeof t.options.prevArrow&&t.$prevArrow.remove(),t.$nextArrow&&"object"!=typeof t.options.nextArrow&&t.$nextArrow.remove(),t.$slides.removeClass("slick-slide slick-active slick-visible").css("width","")},t.prototype.updateArrows=function(){var e,t=this;e=Math.floor(t.options.slidesToShow/2),t.options.arrows===!0&&t.options.infinite!==!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.removeClass("slick-disabled"),t.$nextArrow.removeClass("slick-disabled"),0===t.currentSlide?(t.$prevArrow.addClass("slick-disabled"),t.$nextArrow.removeClass("slick-disabled")):t.currentSlide>=t.slideCount-t.options.slidesToShow&&t.options.centerMode===!1?(t.$nextArrow.addClass("slick-disabled"),t.$prevArrow.removeClass("slick-disabled")):t.currentSlide>t.slideCount-t.options.slidesToShow+e&&t.options.centerMode===!0&&(t.$nextArrow.addClass("slick-disabled"),t.$prevArrow.removeClass("slick-disabled")))},t.prototype.updateDots=function(){var e=this;null!==e.$dots&&(e.$dots.find("li").removeClass("slick-active"),e.$dots.find("li").eq(Math.floor(e.currentSlide/e.options.slidesToScroll)).addClass("slick-active"))},e.fn.slick=function(e){var i=this;return i.each(function(i,n){n.slick=new t(n,e)})},e.fn.slickAdd=function(e,t,i){var n=this;return n.each(function(n,o){o.slick.addSlide(e,t,i)})},e.fn.slickCurrentSlide=function(){var e=this;return e.get(0).slick.getCurrent()},e.fn.slickFilter=function(e){var t=this;return t.each(function(t,i){i.slick.filterSlides(e)})},e.fn.slickGoTo=function(e,t){var i=this;return i.each(function(i,n){n.slick.changeSlide({data:{message:"index",index:parseInt(e)}},t)})},e.fn.slickNext=function(){var e=this;return e.each(function(e,t){t.slick.changeSlide({data:{message:"next"}})})},e.fn.slickPause=function(){var e=this;return e.each(function(e,t){t.slick.autoPlayClear(),t.slick.paused=!0})},e.fn.slickPlay=function(){var e=this;return e.each(function(e,t){t.slick.paused=!1,t.slick.autoPlay()})},e.fn.slickPrev=function(){var e=this;return e.each(function(e,t){t.slick.changeSlide({data:{message:"previous"}})})},e.fn.slickRemove=function(e,t){var i=this;return i.each(function(i,n){n.slick.removeSlide(e,t)})},e.fn.slickRemoveAll=function(){var e=this;return e.each(function(e,t){t.slick.removeSlide(null,null,!0)})},e.fn.slickGetOption=function(e){var t=this;return t.get(0).slick.options[e]},e.fn.slickSetOption=function(e,t,i){var n=this;return n.each(function(n,o){o.slick.options[e]=t,i===!0&&(o.slick.unload(),o.slick.reinit())})},e.fn.slickUnfilter=function(){var e=this;return e.each(function(e,t){t.slick.unfilterSlides()})},e.fn.unslick=function(){var e=this;return e.each(function(e,t){t.slick&&t.slick.destroy()})},e.fn.getSlick=function(){var e=null,t=this;return t.each(function(t,i){e=i.slick}),e}}),define("app/views/page_cato",["require","core/views/base","app/views/singleCato","app/modelLess","slick"],function(e){"use strict";var t=e("core/views/base"),i=e("app/views/singleCato"),n=(e("app/modelLess"),JST["js/app/views/templates/page_cato.html"]),o=(e("slick"),3),s=t.extend({id:"page_cato",template:n,initialize:function(e){this.option=e,this.render(),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"change:completed",this.filterOne)},events:{swiperight:"openPanel","click a":"directPage","click .refresh":"refreshPage"},render:function(){return this.$el.append(this.template({category:this.option.cato})),this.collection.length>0&&this.addSix(),this},refreshPage:function(){return Backbone.history.loadUrl(),!1},addOne:function(e){if(0==e.get("completed")){var t=new i({model:e});this.$("div.carousel").append(t.render().el)}var n=this.$(".carousel .block").length;if(n>o-1){this.stopListening(this.collection,"add");var s=this.$("div.carousel").slick({infinite:!0,arrows:!0,dots:!0,speed:500,fade:!0,cssEase:"linear",autoplay:!0,autoplaySpeed:1e3,onAfterChange:function(){s.slickSetOption("autoplaySpeed",7e3)}});this.ready()}},addSix:function(){var e=this,t=0;this.$("div.carousel").empty(),this.collection.each(function(i){return o>t?(e.addOne(i),t++,void 0):!1})},filterOne:function(e){e.trigger("visible")},filterAll:function(){this.collection.each(this.filterOne,this)}});return s}),define("core/collections/base",["require","app-libraries","core/utils/firebaseProvider"],function(e){"use strict";var t=(e("app-libraries"),e("core/utils/firebaseProvider")),i=Backbone.Firebase.Collection.extend({initialize:function(){this.firebaseProvider=t,this.firebaseReference=t.getFirebaseObject()},url:function(){throw new Error("Firebase Collection URL not defined!")}});return i}),define("app/model",["require","core/utils/firebaseProvider","core/models/base"],function(e){"use strict";var t=(e("core/utils/firebaseProvider"),e("core/models/base")),i=t.extend({defaults:{project_id:"undetermind",title:"No title",intro:"None",how:"Unknown",what:"Unknown",time:"Unknown",place:"Unknown",items:"Unknown",reminder:"None",category:"None",duration:"\u672a\u6c7a\u5b9a",number:"\u6578\u4eba"}});return i}),define("app/collection",["app-libraries","core/collections/base","app/model"],function(e,t,i){"use strict";var n=t.extend({model:i,initialize:function(e,t){this.catoId=t.catoId},url:function(){return"https://partsow-c203b.firebaseio.com/projects/"+this.catoId},completed:function(){return this.where({completed:!0})},remaining:function(){return this.where({completed:!1})},nextOrder:function(){return this.length?this.last().get("project_id")+1:1},comparator:"project_id"});return n}),define("app/collectionLess",["app-libraries","core/collections/base","app/modelLess"],function(e,t,i){"use strict";var n=t.extend({model:i,initialize:function(e,t){this.catoId=t.catoId},url:function(){return"https://partsow-c203b.firebaseio.com/projectLess/"+this.catoId},completed:function(){return this.where({completed:!0})},remaining:function(){return this.where({completed:!1})},deleteCompleted:function(){this.remove(this.completed())},comparator:"project_id"});return n}),define("app/views/page_new",["core/views/base","app/collection","app/collectionLess"],function(e,t,i){"use strict";var n=JST["js/app/views/templates/page_new.html"],o=e.extend({id:"page_new",events:{"click .to_article":"addProject","change #selectmenu":"changeCollection","change #file":"uploadPic",swiperight:"openPanel","click #logout-btn,#cato-btn,#new-btn":"directPage"},initialize:function(e){this.option=e,this.auth=firebase.auth(),this.storageRef=firebase.storage().ref(),this.firebaseRef=firebase.database().ref(),this._chat=new Firechat(this.firebaseRef),this._chat.setUser(this.option.userData.uid,this.option.userData.name,this.option.userData.nickname,function(e){self._user=e}),this.cato="\u5b9a\u671f\u7dad\u8b77",this.previousName=null,this.collection=new t(null,{catoId:this.cato}),this.render()},uploadPic:function(){var e=$("#file")[0].files[0],t={contentType:e.type};if(this.previousName){var i=this.storageRef.child("images").child(this.previousName);i.delete().then(function(){}).catch(function(){})}this.imgURL=this.storageRef.child("images/"+e.name).put(e,t).then(function(e){return e.metadata.downloadURLs[0]}).catch(function(){}),this.previousName=e.name},render:function(){this.$el.html(n);var e=this.$("div.carousel-uui").slick({infinite:!1,arrows:!0,dots:!0,autoplay:!0,autoplaySpeed:1e3,onAfterChange:function(){e.slickSetOption("autoplaySpeed",1e5)}});return this.ready(),this},updatePanel:function(e,t){this.$("#mypanel").unbind("swipe"),$("body").append('<div class="modalWindow"/>');var i="<a href='#chat?"+e+"?"+t+"'><li><span>"+t+"</span></li></a>";this.$("#panel_list").append(i),this.openPanel(),Backbone.history.navigate("update_panel",{trigger:!0})},changeCollection:function(){this.cato=$("#selectmenu").val(),this.collection=new t(null,{catoId:this.cato})},addProject:function(e){e.preventDefault();var t=this,n={};if("undefined"==typeof this.imgURL)return t.showStatus("\u8acb\u5148\u4e0a\u50b3\u5716\u7247"),void 0;$(".article_form").find("textarea").each(function(e,t){n[t.name]=$(t).val()}),$.isNumeric(n.number)||t.showStatus("\u4eba\u6578\u8acb\u8f38\u963f\u62c9\u4f2f\u6578\u5b57"),n.project_id=this.collection.nextOrder(),n.category=this.cato;var o={};o[this.option.userData.uid]={canbring:"",comment:"",okTime:"",name:this.option.userData.name,nickname:this.option.userData.nickname,needPeople:"",hosting:!0},n.members=o,n.imgURL=this.imgURL.i;var s=this.collection.create(n),r=new i(null,{catoId:this.cato}),a=r.create({project_id:n.project_id,title:n.title,remaining:n.number,completed:!1,MyModel:s.id,category:n.category,imgURL:n.imgURL}),l=this.cato+"?"+s.id;""!==n.title&&t._chat.createRoom(n.title,l,"public",function(e){t.showStatus("\u5275\u5efa\u8a08\u756b\u6210\u529f"),t.updatePanel(e,n.title);var i=t.option.usersref.child("users/"+t.option.userData.uid+"/projects"),o={};o[n.title]=e,i.update(o),i=t.option.usersref.child("projects/"+t.cato+"/"+s.id),n.Less=a.id,n.roomId=e,i.update(n)})}});return o}),define("app/views/page_detail",["require","core/views/base","slick"],function(e){"use strict";var t=e("core/views/base"),i=(e("slick"),JST["js/app/views/templates/page_detail.html"]),n=t.extend({id:"page_detail",template:i,events:{swiperight:"openPanel","click .back":"goBackInHistory","click a.finish":"submit","click #logout-btn,#cato-btn,#new-btn":"directPage"},initialize:function(e){this.option=e,this.render()},manageData:function(){var e=this,t=1;_.each(this.model.needPeople.split(" "),function(i){var n='<input type="checkbox" id="checkbox_'+t+'" class="checkbox"><label for="checkbox_'+t+'">'+i+"</label>";e.$("#needPeople").append(n),t++}),t=1,_.each(this.model.canBring.split(" "),function(i){var n='<input type="checkbox" id="checkbox'+t+'" class="checkbox"><label for="checkbox'+t+'">'+i+"</label>";e.$("#canBring").append(n),t++})},render:function(){this.$el.append(this.template(this.model)),this.manageData();var e=this.$("div.carousel-ui").slick({infinite:!1,arrows:!0,dots:!0,autoplay:!0,autoplaySpeed:1e3,onAfterChange:function(){e.slickSetOption("autoplaySpeed",1e6)}});return this.ready(),this},goBackInHistory:function(){return history.go(-1),!1},updatePanel:function(){this.$("#mypanel").unbind("swipe"),$("body").append('<div class="modalWindow"/>');var e="<a href='#chat?"+this.model.roomId+"?"+this.model.title+"'><li><span>"+this.model.title+"</span></li></a>";this.$("#panel_list").append(e),this.openPanel(),Backbone.history.navigate("update_panel",{trigger:!0})},submit:function(e){e.preventDefault();var t={};t.needPeople="",t.canBring="",$("#needPeople input.checkbox:checked").not(":disabled").each(function(e,i){""!=$(i).val()&&(t.needPeople+=$("label[for='"+this.id+"']").text()+" ")}),$("#canBring input.checkbox:checked").not(":disabled").each(function(e,i){""!=$(i).val()&&(t.canBring+=$("label[for='"+this.id+"']").text()+" ")}),t.okTime=$("label[for='"+$("#okTime input[type='radio']:checked").attr("id")+"']").text(),t.comment=$("#comment").val(),t.name=this.option.userData.name,t.nickname=this.option.userData.nickname,t.hosting=!1;var i=this,n=this.option.usersref.child("projects/"+i.model.category+"/"+i.model.id).child("members/"+i.option.userData.uid);n.set(t,function(e){e?i.showStatus("\u7121\u6cd5\u52a0\u5165"):(i.showStatus("\u6210\u529f\u52a0\u5165\uff01"),i.updatePanel())});var o=0;$.each(i.model.members,function(){o++});var s=i.model.number-o,r=this.option.usersref.child("projectLess/"+i.model.category+"/"+i.model.Less);r.update({remaining:s}),0>=s&&r.update({remaining:0,completed:!0});var a=this.option.usersref.child("users/"+i.option.userData.uid+"/projects"),l={};l[i.model.title]=i.model.roomId,a.update(l)}});return n}),define("app/views/page_tutor",["require","core/views/base","slick"],function(e){"use strict";var t=e("core/views/base"),i=(e("slick"),JST["js/app/views/templates/page_tutor.html"]),n=t.extend({id:"page_tutor",template:i,events:{},initialize:function(){this.render()},render:function(){this.$el.append(this.template(this.model));var e=this.$("div.carousel-tutor").slick({infinite:!1,arrows:!0,dots:!0,autoplay:!0,autoplaySpeed:1e3,onAfterChange:function(t,i){e.slickSetOption("autoplaySpeed",1e6),5==i&&Backbone.history.navigate("account",{trigger:!0})}});return this.ready(),this}});return n}),define("app/views/page_detail_1",["require","core/views/base"],function(e){"use strict";var t=e("core/views/base"),i=JST["js/app/views/templates/page_detail_1.html"],n=t.extend({id:"page_detail_1",template:i,initialize:function(e){this.option=e,this.render()},events:{swiperight:"openPanel","click .back":"goBackInHistory","click a":"directPage"},render:function(){var e=this;return this.$el.append(this.template(this.model)),$.each(this.model.members,function(t,i){var n='<div class="name_circle">'+i.nickname+"</div>";e.$(".contain").append(n),e.option.userData.name&&e.option.userData.name==i.name&&e.$("#plus_button").css("display","none")}),this.ready(),this},goBackInHistory:function(){return history.go(-1),!1}});return n}),define("app/views/page_review",["core/views/base"],function(e){"use strict";var t=JST["js/app/views/templates/page_review.html"],i=e.extend({id:"page_review",template:t,initialize:function(e){this.option=e,this.firebaseRef=firebase.database().ref(),this._chat=new Firechat(this.firebaseRef),this.render()},events:{"click .back":"goBackInHistory","click #startEdit":"edit","click .canceling":"edit","click #popUser":"showUser","click #popQuit":"showQuit","click #quit-btn":"quitAll",swiperight:"openPanel","click .confirm":"update","click #logout-btn,#cato-btn,#new-btn":"directPage"},update:function(e){e.preventDefault();var t=this,i={};$(".article_form").find("textarea").each(function(e,t){i[t.name]=$(t).val()});var n=this.firebaseRef.child("projects/"+t.model.category+"/"+t.model.id);n.update(i,function(e){e?t.showStatus("\u7121\u6cd5\u767b\u51fa"):(Backbone.history.loadUrl(),t.showStatus("\u6210\u529f\u66f4\u6539\uff01"))})},quitAll:function(){var e=this;e._chat.leaveRoom(this.model.roomId);var t=this.firebaseRef.child("projects/"+e.model.category+"/"+e.model.id).child("members/"+e.option.userData.uid),i=this.firebaseRef.child("users/"+e.option.userData.uid+"/projects/"+e.model.title);t.remove(),i.remove(function(t){t?e.showStatus("\u9000\u51fa\u51fa\u73fe\u554f\u984c"):e.showStatus("\u9000\u51fa\u6210\u529f")}),this.updatePanel()},updatePanel:function(){var e=this;this.$("#mypanel").unbind("swipe"),$("body").append('<div class="modalWindow"/>'),this.$("#"+e.model.roomId).remove(),this.openPanel(),Backbone.history.navigate("update_panel",{trigger:!0})},showQuit:function(){$("#popup_dialog").popup("open")},showUser:function(){$("#popup_menu").popup("open")},edit:function(){var e=this,t=e.option.userData.uid;1==e.model.members[t].hosting?(this.$el.find("li").toggleClass("editing"),$("#editTitle").toggleClass("editing"),$(".to_article").toggle(),"\u555f\u52d5\u7de8\u8f2f"===$(".toast-panel").html()?e.showStatus("\u53d6\u6d88\u7de8\u8f2f"):e.showStatus("\u555f\u52d5\u7de8\u8f2f")):e.showStatus("\u767c\u8d77\u8005\u624d\u80fd\u7de8\u8f2f")},render:function(){var e=this;return this.$el.html(this.template(this.model)),$.each(this.model.members,function(t,i){var n='<li><div class="ui-block-a" style="float:left;width:70%;"><strong>'+i.name+'</strong></div><div class="ui-block-b" style="float:left;width:30%;"><h1 style="font-size:xx-large;">'+i.nickname+"</h1></div></li>";i.hosting===!0?e.$("#hostList").after(n):e.$("#memberList").after(n)}),this.ready(),this},goBackInHistory:function(){return history.go(-1),!1}});return i}),function(){function e(e,t){this._firechatRef=e,this._firebaseApp=e.database.app,this._user=null,this._userId=null,this._userName=null,this._isModerator=!1,this._sessionId=null,this._events={},this._rooms={},this._presenceBits={},this._userRef=null,this._messageRef=this._firechatRef.child("room-messages"),this._roomRef=this._firechatRef.child("room-metadata"),this._privateRoomRef=this._firechatRef.child("room-private-metadata"),this._moderatorsRef=this._firechatRef.child("moderators"),this._suspensionsRef=this._firechatRef.child("suspensions"),this._usersOnlineRef=this._firechatRef.child("user-names-online"),this._options=t||{},this._options.numMaxMessages=this._options.numMaxMessages||50}var t=this,i=t.Firechat;e.noConflict=function(){return t.Firechat=i,e},t.Firechat=e,e.prototype={_loadUserMetadata:function(e){var i=this;this._userRef.transaction(function(e){return e&&e.id&&e.name?void 0:{id:i._userId,name:i._userName,nickname:i._nickName}},function(n,o,s){i._user=s.val(),i._moderatorsRef.child(i._userId).once("value",function(n){i._isModerator=!!n.val(),t.setTimeout(e,0)})})},_setupDataEvents:function(){var e=this._firechatRef.root.child(".info/connected");e.on("value",function(e){if(e.val()===!0)for(var t in this._presenceBits){var i=this._presenceBits[t],n=i.ref;n.onDisconnect().set(i.offlineValue),n.set(i.onlineValue)}},this),this._queuePresenceOperation(this._sessionRef,!0,null);var t=this._usersOnlineRef.child(this._userName.toLowerCase()),i=t.child(this._sessionId);this._queuePresenceOperation(i,{id:this._userId,name:this._userName},null),this._userRef.on("value",this._onUpdateUser,this),this._userRef.child("invites").on("child_added",this._onFirechatInvite,this),this._userRef.child("notifications").on("child_added",this._onNotification,this)},_addEventCallback:function(e,t){this._events[e]=this._events[e]||[],this._events[e].push(t)},_getEventCallbacks:function(e){return this._events.hasOwnProperty(e)?this._events[e]:[]},_invokeEventCallbacks:function(e){var t=[],i=this._getEventCallbacks(e);Array.prototype.push.apply(t,arguments),t=t.slice(1);for(var n=0;n<i.length;n+=1)i[n].apply(null,t)},_queuePresenceOperation:function(e,t,i){e.onDisconnect().set(i),e.set(t),this._presenceBits[e.toString()]={ref:e,onlineValue:t,offlineValue:i}},_removePresenceOperation:function(e,t){var i=e.toString();e.onDisconnect().cancel(),e.set(t),delete this._presenceBits[i]},_onUpdateUser:function(e){this._user=e.val(),this._userName=this._user.name,this._invokeEventCallbacks("user-update",this._user)},_onAuthRequired:function(){this._invokeEventCallbacks("auth-required")},_onEnterRoom:function(e){this._invokeEventCallbacks("room-enter",e)},_onNewMessage:function(e,t){var i=t.val();i.id=t.key,this._invokeEventCallbacks("message-add",e,i)},_onRemoveMessage:function(e,t){var i=t.key;this._invokeEventCallbacks("message-remove",e,i)},_onLeaveRoom:function(e){this._invokeEventCallbacks("room-exit",e)},_onNotification:function(e){var t=e.val();t.read||(("suspension"!==t.notificationType||t.data.suspendedUntil<(new Date).getTime())&&e.ref.child("read").set(!0),this._invokeEventCallbacks("notification",t))},_onFirechatInvite:function(e){var t=this,i=e.val();i.status||(i.id=i.id||e.key,t.getRoom(i.roomId,function(e){i.toRoomName=e.name,t._invokeEventCallbacks("room-invite",i)}))},_onFirechatInviteResponse:function(e){var t=e.val();t.id=t.id||e.key,this._invokeEventCallbacks("room-invite-response",t)}},e.prototype.setUser=function(e,i,n,o){var s=this;s._firebaseApp.auth().onAuthStateChanged(function(r){r?(s._userId=e.toString(),s._userName=i.toString(),s._nickName=n.toString(),s._userRef=s._firechatRef.child("users").child(s._userId),s._sessionRef=s._userRef.child("sessions").push(),s._sessionId=s._sessionRef.key,s._loadUserMetadata(function(){t.setTimeout(function(){o(s._user),s._setupDataEvents()},0)})):s.warn("Firechat requires an authenticated Firebase reference. Pass an authenticated reference before loading.")})},e.prototype.resumeSession=function(){this._userRef.child("rooms").once("value",function(e){var t=e.val();for(var i in t)this.enterRoom(t[i].id)},function(){},this)},e.prototype.on=function(e,t){this._addEventCallback(e,t)},e.prototype.createRoom=function(e,t,i,n){var o=this._roomRef.push(),s={id:o.key,name:e,reviewPage:t,type:i||"public",createdByUserId:this._userId,createdAt:firebase.database.ServerValue.TIMESTAMP};"private"===i&&(s.authorizedUsers={},s.authorizedUsers[this._userId]=!0),o.set(s,function(e){n&&n(o.key)})},e.prototype.enterRoom=function(e){var t=this;t.getRoom(e,function(i){var n=i.name;if(e&&n&&!t._rooms[e]){if(t._rooms[e]=!0,t._user){t._userRef.child("rooms").child(e).set({id:e,name:n,active:!0});var o=t._firechatRef.child("room-users").child(e).child(t._userId).child(t._sessionId);t._queuePresenceOperation(o,{id:t._userId,name:t._userName},null)}t._onEnterRoom({id:e,name:n}),t._roomRef.child(e).once("value",function(){t._messageRef.child(e).limitToLast(t._options.numMaxMessages).on("child_added",function(i){t._onNewMessage(e,i)},function(){t.leaveRoom(e)},t),t._messageRef.child(e).limitToLast(t._options.numMaxMessages).on("child_removed",function(i){t._onRemoveMessage(e,i)},function(){},t)},function(){},t)}})},e.prototype.leaveRoom=function(e){var t=this,i=t._firechatRef.child("room-users").child(e);if(t._messageRef.child(e).off(),t._user){var n=i.child(t._userId).child(t._sessionId);t._removePresenceOperation(n,null),t._userRef.child("rooms").child(e).remove()}delete t._rooms[e],t._onLeaveRoom(e)},e.prototype.sendMessage=function(e,t,i,n){var o,s=this,r={userId:s._userId,name:s._userName,nickname:s._nickName,timestamp:firebase.database.ServerValue.TIMESTAMP,message:t,type:i||"default"};return s._user?(o=s._messageRef.child(e).push(),o.setWithPriority(r,firebase.database.ServerValue.TIMESTAMP,n),void 0):(s._onAuthRequired(),n&&n(new Error("Not authenticated or user not set!")),void 0)},e.prototype.deleteMessage=function(e,t,i){var n=this;n._messageRef.child(e).child(t).remove(i)},e.prototype.toggleUserMute=function(e,t){var i=this;return i._user?(i._userRef.child("muted").child(e).transaction(function(e){return e?null:!0},t),void 0):(i._onAuthRequired(),t&&t(new Error("Not authenticated or user not set!")),void 0)},e.prototype.sendSuperuserNotification=function(e,t,i,n){var o=this,s=o._firechatRef.child("users").child(e).child("notifications");s.push({fromUserId:o._userId,timestamp:firebase.database.ServerValue.TIMESTAMP,notificationType:t,data:i||{}},n)},e.prototype.warnUser=function(e){var t=this;t.sendSuperuserNotification(e,"warning")},e.prototype.suspendUser=function(e,t,i){var n=this,o=(new Date).getTime()+1e3*t;n._suspensionsRef.child(e).set(o,function(t){return t&&i?i(t):(n.sendSuperuserNotification(e,"suspension",{suspendedUntil:o}),i(null))})},e.prototype.inviteUser=function(e,t){var i=this,n=function(){var n=i._firechatRef.child("users").child(e).child("invites").push();n.set({id:n.key,fromUserId:i._userId,fromUserName:i._userName,roomId:t}),n.on("value",i._onFirechatInviteResponse,function(){},i)};return i._user?(i.getRoom(t,function(o){if("private"===o.type){var s=i._roomRef.child(t).child("authorizedUsers");
s.child(e).set(!0,function(e){e||n()})}else n()}),void 0):(i._onAuthRequired(),void 0)},e.prototype.acceptInvite=function(e,t){var i=this;i._userRef.child("invites").child(e).once("value",function(n){var o=n.val();return null===o&&t?t(new Error("acceptInvite("+e+"): invalid invite id")):(i.enterRoom(o.roomId),i._userRef.child("invites").child(e).update({status:"accepted",toUserName:i._userName},t),void 0)},i)},e.prototype.declineInvite=function(e,t){var i=this,n={status:"declined",toUserName:i._userName};i._userRef.child("invites").child(e).update(n,t)},e.prototype.getRoomList=function(e){var t=this;t._roomRef.once("value",function(t){e(t.val())})},e.prototype.getUsersByRoom=function(){var e=this,i=arguments[0],n=e._firechatRef.child("room-users").child(i),o=arguments[arguments.length-1],s=null;arguments.length>2&&(s=arguments[1]),n=s?n.limitToLast(s):n,n.once("value",function(e){var i=e.val()||{},n={};for(var s in i)for(var r in i[s]){n[s]=i[s][r];break}t.setTimeout(function(){o(n)},0)})},e.prototype.getUsersByPrefix=function(e,i,n,o,s){var r=this._usersOnlineRef,a=e.toLowerCase();r=i?r.startAt(null,i):n?r.endAt(null,n):a?r.startAt(null,a):r.startAt(),r=o?r.limitToLast(o):r,r.once("value",function(i){var n=i.val()||{},o={};for(var r in n){var l,u,c=n[r];for(var h in c){l=c[h].name,u=c[h].id;break}e.length>0&&0!==l.toLowerCase().indexOf(a)||(o[l]={name:l,id:u})}t.setTimeout(function(){s(o)},0)})},e.prototype.getRoom=function(e,t){this._roomRef.child(e).once("value",function(e){t(e.val())})},e.prototype.userIsModerator=function(){return this._isModerator},e.prototype.warn=function(e){console&&(e="Firechat Warning: "+e,"function"==typeof console.warn?undefined:"function"==typeof console.log&&undefined)}}(),define("firechat",["jquery","firebase"],function(){}),define("app/views/page_chat",["core/views/base","firechat"],function(e){"use strict";var t=JST["js/app/views/templates/page_chat.html"],i=JST["js/app/views/templates/message.html"],n=e.extend({id:"page_chat",template:t,initialize:function(e){var t=this;this.option=e;var i=firebase.database().ref();this._user=null,this.$messages={},this.maxLengthMessage=120,this._chat=new Firechat(i),this._chat.setUser(this.option.userData.uid,this.option.userData.name,this.option.userData.nickname,function(e){t._user=e}),this.render(),this._chat.enterRoom(this.option.room_id),this.bindDataEvents(),this.ready()},events:{"click #sendMessageButton":"sendMessage","click .forward":"review_Page",swiperight:"openPanel","click #messageContent":"toEnd","click #logout-btn,#cato-btn,#new-btn":"directPage"},bindDataEvents:function(){this._chat.on("message-add",this._onNewMessage.bind(this))},_onNewMessage:function(e,t){var i=t.userId;!(this._user&&this._user.muted&&this._user.muted[i]||!this.showMessage(e,t))},toEnd:function(){var e=document.getElementById("page_chat");$("#messageBox").height()<610||(e.scrollTop=e.scrollHeight,window.scrollTo(0,document.body.scrollHeight))},render:function(){return this.$el.html(this.template({title:this.option.roomName})),this},sendMessage:function(){$("#messageContent").focus().select();var e=this,t=this.trimWithEllipsis($("#messageContent").val(),this.maxLengthMessage);return""!==t?($("#messageContent").focus().select(),$("#messageContent").val(""),e._chat.sendMessage(this.option.room_id,t),!1):void 0},showMessage:function(e,t){var n=this,o={id:t.id,localtime:n.formatTime(t.timestamp),message:t.message||"",userId:t.userId,nickname:t.nickname,type:t.type||"default",isSelfMessage:n._user&&t.userId==n._user.id,disableActions:!n._user||t.userId==n._user.id},s=i,r=$(s(o)),a=$("#messageBox");a&&(a.append(r),n.toEnd())},trimWithEllipsis:function(e,t){return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),t&&e.length<=t?e:e.substring(0,t)+"..."},formatTime:function(e){var t=e?new Date(e):new Date,i=t.getHours()||12,n=""+t.getMinutes(),o=t.getHours()>=12?"pm":"am";return i=i>12?i-12:i,n=n.length<2?"0"+n:n,""+i+":"+n+o},review_Page:function(){var e=this;e._chat._roomRef.child(e.option.room_id).child("reviewPage").once("value",function(e){var t=e.val();Backbone.history.navigate("review?"+t,{trigger:!0})})},goBackInHistory:function(){return history.go(-1),!1}});return n}),define("app/views/mypanel",["require","core/views/base"],function(e){"use strict";var t=e("core/views/base"),i=JST["js/app/views/templates/mypanel.html"],n=t.extend({id:"mypanel",className:"left-panel",template:i,attributes:{"data-role":"panel","data-display":"push"},initialize:function(){this.render()},render:function(){var e=this;return this.$el.html(this.template(this.model)),null!=this.model.projects&&$.each(this.model.projects,function(t,i){var n="<li id = '"+i+"'><a href='#chat?"+i+"?"+t+"'><span>"+t+"</span></a></li>";e.$("#panel_list").append(n)}),this.ready(),this}});return n}),define("core/models/session",["require","core/models/base"],function(e){"use strict";var t=e("core/models/base"),i=t.extend({});return Object.defineProperty(i,"email",{get:function(){return this.get("email")},set:function(e){this.set("email",e)}}),Object.defineProperty(i,"password",{get:function(){return this.get("password")},set:function(e){this.set("password",e)}}),i.prototype.register=function(e){var t={isValid:!1};this.firebaseReference.createUser(this.toJSON(),function(i){i?t.error=i.message:t.isValid=!0,e&&e(t)})},i.prototype.authenticate=function(e){var t={isValid:!1};this.firebaseReference.authWithPassword(this.toJSON(),function(i,n){if(i)t.error=i.message;else{var o=n.uid,s=o.split(":");sessionStorage.setItem("uid",s[1]),t.isValid=!0}e&&e(t)})},i.prototype.logout=function(e){this.firebaseReference.unauth(),e&&e(authInfo)},i.prototype.getAuth=function(){return this.firebaseReference.getAuth()},i.prototype.resetPassword=function(){var e=this.firebaseReference;e.resetPassword({email:this.attributes.email},function(e){if(e)switch(e.code){case"INVALID_USER":}})},i}),define("router",["require","app-libraries","app/views/page_account","app/views/page_proj","app/views/page_cato","app/views/page_new","app/views/page_detail","app/views/page_tutor","app/views/page_detail_1","app/views/page_review","app/views/page_chat","app/views/mypanel","app/collection","app/collectionLess","core/models/session"],function(e){"use strict";var t=(e("app-libraries"),e("app/views/page_account")),i=e("app/views/page_proj"),n=e("app/views/page_cato"),o=e("app/views/page_new"),s=e("app/views/page_detail"),r=e("app/views/page_tutor"),a=e("app/views/page_detail_1"),l=e("app/views/page_review"),u=e("app/views/page_chat"),c=e("app/views/mypanel"),h=(e("app/collection"),e("app/collectionLess")),d=(e("core/models/session"),Backbone.Router.extend({routes:{account:"showAccountPage",proj:"showProjPage","cato?*category":"showCatoPage","page_detail_1?*category?*id":"showDetailPage_1",page_detail:"showDetailPage","new":"showNewPage","review?*category?*id":"showReviewPage",update_panel:"update_panel","chat?*roomId?*roomName":"showChatPage",logout:"logout",tutor:"showTutorPage","*actions":"defaultAction"},currentPage:null,changePage:function(e,t){function i(){$.mobile.changePage($(e.$el),t)}this.currentPage&&(this.currentPage.unbind(),this.currentPage.remove(),this.currentPage=null),this.currentPage=e,$(e.$el).attr("data-role","page"),$("body").append($(e.$el)),t=_.extend({changeHash:!1,transition:"fade"},t),e.isReady?i():e.addEventListener("ready",function(){i()})}})),p=function(){var e=new d,p=null,f=new Firebase("https://partsow-c203b.firebaseio.com/");this.collectionLess="",this.MyCollection="",this.currentProject="",this.currentId="";var m=this,g=function(e){$(".toast-panel").fadeIn(400).html(e);setTimeout(function(){$(".toast-panel").fadeOut(400),window.clearTimeout(this.timer)},3500)},v=function(){f.child("users").child(p.uid).once("value",function(t){t.val()?(m.panel=new c({model:t.val()}),Backbone.history.stop(),Backbone.history.start(),$("#mypanel").css("visibility","hidden"),e.navigate("proj",{trigger:!0}),$("#mypanel").css("visibility","hidden"),setTimeout(function(){$("#mypanel").css("visibility","visible")},3e3)):firebase.auth().signOut().then(function(){return g("\u8acb\u8f38\u5165\u7b2c\u4e00\u6b04 \u78ba\u8a8d\u8a3b\u518a"),$("#two input:not(:first)").css("display","none"),$("#two hr:not(:first)").css("display","none"),$("#show_fb").css("display","inline-block"),$("#two .ui-block-a,#two .ui-block-b").css("display","none"),!1},function(){})},function(){})},b=function(){f.child("users").child(p.uid).once("value",function(e){var t=e.val();t?(p.name=t.name,p.nickname=t.nickname):firebase.auth().signOut().then(function(){return g("\u8acb\u8f38\u5165\u7b2c\u4e00\u6b04 \u78ba\u8a8d\u8a3b\u518a"),$("#two input:not(:first)").css("display","none"),$("#two hr:not(:first)").css("display","none"),$("#show_fb").css("display","inline-block"),$("#two .ui-block-a,#two .ui-block-b").css("display","none"),!1},function(){})})},y=function(t){m.panel&&(t.$el.prepend(m.panel.$el.html()),e.changePage(t))};firebase.auth().onAuthStateChanged(function(e){e?(g("\u8acb\u7a0d\u5f85"),p=e,v(),b(),g("\u767b\u5165\u6210\u529f\uff01")):($("#mypanel").unbind(),$("#mypanel").remove(),m.panel=null)}),e.on("route:update_panel",function(){f.child("users").child(p.uid).once("value",function(e){m.panel=new c({model:e.val()})})}),e.on("route:logout",function(){firebase.auth().signOut().then(function(){e.changePage(new t),e.navigate("proj",{trigger:!1}),g("\u767b\u51fa\u6210\u529f")}).catch(function(e){e.code,e.message})}),e.on("route:defaultAction",function(){localStorage.getItem("viewed")?e.navigate("account",{trigger:!0}):(e.navigate("tutor",{trigger:!0}),localStorage.setItem("viewed","yes"))}),e.on("route:showTutorPage",function(){e.changePage(new r)}),e.on("route:showAccountPage",function(){$(".init-page").css("background-image","url(../img/sprite.png)"),$(".init-page").css("background-position","-5px -1118px"),$(".init-page").css("background-size","2070px 2000px"),e.changePage(new t)}),e.on("route:showChatPage",function(e,t){$(".modalWindow").remove(),y(new u({roomName:t,room_id:e,userData:p}))}),e.on("route:showProjPage",function(){$(".modalWindow").remove(),y(new i)}),e.on("route:showCatoPage",function(e){this.collectionLess=new h(null,{catoId:e}),y(new n({collection:this.collectionLess,cato:e}))}),e.on("route:showDetailPage_1",function(e,t){f.child("projects/"+e+"/"+t).once("value",function(e){m.currentProject=e.val(),y(new a({model:m.currentProject,userData:p}))},function(){})}),e.on("route:showDetailPage",function(){y(new s({userData:p,usersref:f,model:m.currentProject}))}),e.on("route:showNewPage",function(){y(new o({userData:p,usersref:f}))}),e.on("route:showReviewPage",function(e,t){f.child("projects/"+e+"/"+t).once("value",function(e){m.currentProject=e.val(),y(new l({userData:p,model:m.currentProject}))},function(){})}),Backbone.history.start()};return{initialize:p}}),define("app",["require","router"],function(e){"use strict";var t=e("router"),i=function(){$('div[data-role="page"]').on("pagehide",function(e){$(e.currentTarget).remove()}),t.initialize()};return{initialize:i}}),requirejs.config({baseUrl:"js",paths:{jquery:"lib/jquery/jquery","jquerymobile.config":"jquerymobile.config",jquerymobile:"lib/jquery/jquery.mobile-1.4.5.min",underscore:"lib/underscore/underscore",backbone:"lib/backbone/backbone",firebase:"lib/firebase/firebase",firechat:"lib/firebase/firechat",backbonefire:"lib/firebase/backbonefire",text:"lib/requirejs/plugins/text",slick:"lib/slick.min"},shim:{underscore:{exports:"_"},firebase:{exports:"Firebase"},backbonefire:{deps:["firebase","backbone"]},firechat:{deps:["jquery","firebase"]},backbone:{deps:["underscore","jquery"],exports:"Backbone"},jquerymobile:{deps:["jquery","jquerymobile.config"]},slick:{deps:["jquery"]}}}),require(["app"],function(e){e.initialize()}),define("config",function(){});